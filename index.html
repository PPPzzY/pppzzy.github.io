<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Mist","version":"8.0.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="PPPzzY">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="PPPzzY">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="PPPzzY">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://yoursite.com/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>PPPzzY</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">PPPzzY</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="PPPzzY"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">PPPzzY</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">
      

      
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/SoftwareEngineering/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/SoftwareEngineering/" class="post-title-link" itemprop="url">软件工程期末复习</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-12-17 15:39:36" itemprop="dateCreated datePublished" datetime="2020-12-17T15:39:36+08:00">2020-12-17</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-12-20 20:17:30" itemprop="dateModified" datetime="2020-12-20T20:17:30+08:00">2020-12-20</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>仅供期末复习准备考试参考</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">选择</th>
<th style="text-align:center">填空</th>
<th style="text-align:center">名词解释</th>
<th style="text-align:center">大题</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">10题</td>
<td style="text-align:center">12题</td>
<td style="text-align:center">2题</td>
<td style="text-align:center">2题</td>
</tr>
<tr>
<td style="text-align:center">10分</td>
<td style="text-align:center">12分</td>
<td style="text-align:center">8分</td>
<td style="text-align:center">70分</td>
</tr>
</tbody>
</table>
</div>
<h1 id="第一章：软件工程学概述"><a href="#第一章：软件工程学概述" class="headerlink" title="第一章：软件工程学概述"></a>第一章：软件工程学概述</h1><ol>
<li><p>产生软件危机的原因</p>
<ol>
<li>对用户要求没有完整准确的认识就匆忙着手编写程序</li>
<li>没有认识到程序只是完整的软件产品的一个组成部分</li>
</ol>
</li>
<li><p>软件工程方法学</p>
<ul>
<li>定义：在软件生命周期全过程中使用的一整套技术的集合</li>
<li>要素：方法、工具、过程</li>
</ul>
</li>
<li><p>软件生命周期</p>
<ol>
<li>软件定义<ol>
<li>问题定义：这是软件生存周期的第一个阶段，主要任务是弄i清用户要计算机解决的问题是什么</li>
<li>可行性研究：任务是为前一阶段提出的问题寻求一种至数种在技术上可行、且在经济上有较高效益的解决方案</li>
</ol>
</li>
<li>软件开发<ul>
<li>需求分析、总体设计（概要设计）、详细设计、编码和单元测试、综合测试</li>
</ul>
</li>
<li>软件维护</li>
</ol>
</li>
<li><p>瀑布模型（了解</p>
<blockquote>
<ol>
<li>特点：<ol>
<li>阶段间具有顺序性和依赖性</li>
<li>推迟实现的观点：在编码之前设置了系统分析与系统设计阶段</li>
<li>质量保证的观点：每个阶段都必须完成规定的文档，结束前都要对所完成的文档进行评审</li>
</ol>
</li>
<li>实际的瀑布模型带“反馈环”</li>
<li>是一种文档驱动的模型</li>
</ol>
</blockquote>
</li>
<li><p>快速原型模型（了解</p>
<blockquote>
<ol>
<li>定义：是快速建立起来的可以在计算机上运行的程序，它所能完成的功能往往是最终产品能完成的功能的一个子集</li>
<li>差别：<ul>
<li>瀑布模型带反馈环，快速原型模型不带反馈环</li>
<li>瀑布模型第一步“需求分析”，快速原型第一步“快速原型”</li>
</ul>
</li>
</ol>
</blockquote>
</li>
</ol>
<h1 id="第二章：可行性研究"><a href="#第二章：可行性研究" class="headerlink" title="第二章：可行性研究"></a>第二章：可行性研究</h1><ol>
<li>问题定义<ol>
<li>内容：<ol>
<li>明确问题的背景、开发系统的现状、开发的理由和条件</li>
<li>开发系统的问题要求、总体要求、问题的性质、类型、范围、要实现的目标</li>
<li>功能规模、实现目标的方案、开发的条件、环境要求等等</li>
<li>写出问题定义报告（或称系统定义报告），以供可行性分析阶段使用</li>
</ol>
</li>
<li>步骤：<ol>
<li>系统分析员要深入现场</li>
<li>阅读用户写的书面报告</li>
<li>听取用户对开发系统的要求</li>
<li>调查开发系统的背景理由</li>
<li>与用户负责人反复讨论，以澄清模糊的地方、改正不正确的地方</li>
<li>写出双方都满意的问题定义报告，并确定双方是否可进行深入系统可行性研究的意向</li>
</ol>
</li>
</ol>
</li>
<li>可行性研究<ol>
<li>研究方面：<ul>
<li>技术可行性</li>
<li>经济可行性</li>
<li>操作可行性</li>
<li>社会和法律可行性</li>
</ul>
</li>
<li>步骤</li>
</ol>
</li>
<li>成本效益分析<ol>
<li>目的：从经济角度评价开发一个新项目是否可行、是否划算，从而帮助使用部门的负责人正确地作出是否投资于这项开发的决定</li>
<li>成本估计<ol>
<li>代码行技术</li>
<li>任务分解技术</li>
<li>自动估计成本技术</li>
</ol>
</li>
<li>方法<ol>
<li>货币的时间价值：F = P × (1+i)^n</li>
<li>投资回收期：使累计的经济效益等于最初投资所需要的时间。</li>
<li>纯收入：在整个生命周期之内系统累计经济效益（折合成现在值）与投资之差。</li>
<li>投资回收率：收益/成本</li>
</ol>
</li>
</ol>
</li>
<li><strong>数据流图</strong>【<ol>
<li>看链接吧烦了：<a href="https://www.visual-paradigm.com/cn/guide/data-flow-diagram/what-is-data-flow-diagram/" target="_blank" rel="noopener">https://www.visual-paradigm.com/cn/guide/data-flow-diagram/what-is-data-flow-diagram/</a></li>
</ol>
</li>
</ol>
<h1 id="第三章：需求分析"><a href="#第三章：需求分析" class="headerlink" title="第三章：需求分析"></a>第三章：需求分析</h1><ol>
<li><p>需求分析的任务、方法</p>
<ol>
<li><p>任务：</p>
<ol>
<li><p>确定对系统的综合要求</p>
<blockquote>
<p>功能需求、性能需求、可靠性和可用性需求、出错处理需求、接口需求、约束、逆向需求、将来可能提出的要求</p>
</blockquote>
</li>
<li><p>分析系统的数据要求</p>
<blockquote>
<p>数据结构表示数据元素之间的逻辑关系</p>
<p>利用数据字典可以全面准确地定义数据</p>
<p>辅助描绘数据结构工具：层次方框图、Warnier图</p>
</blockquote>
</li>
<li><p>导出系统的逻辑模型</p>
<blockquote>
<p>综合上述两项分析的结果导出系统逻辑模型、数据流图、实体-联系图、状态转换图、数据字典和主要的处理算法描述这个逻辑模型</p>
</blockquote>
</li>
<li><p>修正系统开发计划</p>
</li>
</ol>
</li>
<li><p>与用户沟通获取需求的方法</p>
<ol>
<li><p>访谈</p>
<blockquote>
<p>基本形式：非正式的访谈、正式的访谈</p>
<p>情景分析技术</p>
</blockquote>
</li>
<li><p>面向数据流自顶向下求精</p>
<blockquote>
<ol>
<li>采用结构化分析方法：就是面向数据流自顶向下、逐步求精进行需求分析的方法。</li>
<li>目标：细化数据流图，把数据流和数据存储定义到元素级。</li>
<li>建立功能模型、行为模型、数据模型，并采用层次化的方法进行描述。</li>
</ol>
</blockquote>
</li>
<li><p>简易的应用规格说明技术</p>
<blockquote>
<ol>
<li>初步访谈，确定待解决问题的范围和解决方案，写出“产品需求”。</li>
<li>初步确定系统组成，列出系统的各种对象和环境。</li>
<li>初步确定系统功能，列出对象的操作和服务(即处理或功能)。</li>
<li>列出约束条件(成本、规模、完成日期等)和性能标准(速度、容量等)</li>
</ol>
</blockquote>
</li>
<li><p>快速建立软件原型</p>
<blockquote>
<p>快速建立起来的旨在演示目标系统主要功能的可运行的程序。</p>
<p>要点，只实现用户看得见的功能，例如屏幕显示或打印报表。</p>
<p>特性1：“快速”；   特性2：“容易修改”。</p>
<p>利用先进方法和工具：</p>
<ol>
<li>第四代技术：系统生成器。</li>
<li>可重用的软件构件：用一组已有的软件构件(也称组件)来装配。<ul>
<li>构件可是数据结构(数据库)、软件体系结构构件(程序)、过程构件(模块)</li>
</ul>
</li>
<li>(3) 形式化规格说明和原型环境</li>
</ol>
</blockquote>
</li>
</ol>
</li>
</ol>
</li>
<li><p>状态转换图</p>
<ul>
<li>通过描绘系统的状态及引起系统状态转换的事件，来表示系统的行为。</li>
<li>状态：<ul>
<li>初态：实心圆</li>
<li>中间状态：上（状态名称，必须）、中（状态变量的名字和值，可选）、下（活动表，可选）</li>
<li>终态：一对同心圆（内部为实心圆）</li>
</ul>
</li>
<li>事件</li>
</ul>
</li>
</ol>
<h1 id="第五章：总体设计"><a href="#第五章：总体设计" class="headerlink" title="第五章：总体设计"></a>第五章：总体设计</h1><ol>
<li><p>模块独立</p>
<ol>
<li><p>模块：由边界元素限定的相邻程序元素（例如：数据说明、可执行的语句）的序列，而且有一个总体标识符代表它。</p>
<blockquote>
<ul>
<li>功能：描述该模块实现什么功能</li>
<li>逻辑：描述模块内部怎么做</li>
<li>状态：该模块使用时的环境和条件</li>
</ul>
</blockquote>
</li>
<li><p>模块化：把程序划分成独立命名且可独立访问的模块，每个模块完成一个子功能把这些模块集成起来构成一个整体，可以完成指定的功能满足用户的需求。</p>
</li>
<li><p>模块化设计：把大型软件按照规定的原则划分为一个个较小的、相对独立但又相关的模块的设计方法，叫做模块化设计（modular design）。</p>
</li>
<li><p>耦合：对一个软件结构内不同模块之间互连程度的度量。</p>
<blockquote>
<ol>
<li>非直接耦合</li>
<li>数据耦合（低耦合且必须存在）</li>
<li>特征耦合</li>
<li>控制耦合</li>
<li>外部耦合</li>
<li>公共耦合</li>
<li>内容耦合</li>
</ol>
</blockquote>
</li>
</ol>
</li>
<li><p>内聚：一个模块内部各个元素彼此结合的紧密程度，是信息隐藏和局部化概念的自然扩展。</p>
<blockquote>
<ol>
<li>功能内聚</li>
<li>顺序内聚</li>
<li>通信内聚</li>
<li>过程内聚</li>
<li>时间内聚</li>
<li>逻辑内聚</li>
<li>偶然内聚</li>
</ol>
</blockquote>
<ol>
<li>模块独立性强：高内聚、低耦合</li>
</ol>
</li>
</ol>
<h1 id="第六章：详细设计"><a href="#第六章：详细设计" class="headerlink" title="第六章：详细设计"></a>第六章：详细设计</h1><ol>
<li><p>详细设计</p>
<ol>
<li>从工程管理的角度来看，软件设计分两步完成：<ol>
<li>概要设计：将软件需求转化为数据结构和软件的系统结构。</li>
<li>详细设计：即过程设计。通过对结构表示进行细化，得到软件的详细的数据结构和算法。</li>
</ol>
</li>
<li>任务：<ol>
<li>确定每个模块的算法</li>
<li>确定每一个模块的数据组织</li>
<li>为每个模块设计一组测试用例</li>
<li>编写详细设计说明书</li>
</ol>
</li>
</ol>
</li>
<li><p>基本控制结构</p>
<ol>
<li>顺序</li>
<li>选择</li>
<li>循环</li>
</ol>
</li>
<li><p>人机界面设计、操作</p>
<ol>
<li>设计问题<ol>
<li>系统响应时间</li>
<li>用户帮助设施</li>
<li>出错信息处理</li>
<li>命令交互</li>
</ol>
</li>
<li>设计过程<ul>
<li>用户界面设计是一个迭代的过程，也就是说，通常先创建设计模型，再用原型实现这个设计模型，并由用户试用和评估，然后根据用户意见进行修改。</li>
</ul>
</li>
<li>设计指南<ol>
<li>一般交互指南</li>
<li>信息显示指南</li>
<li>数据输入指南</li>
</ol>
</li>
</ol>
</li>
<li><p><strong>程序流程图、盒图、PAD图</strong>【</p>
<ol>
<li>看链接吧烦了：<a href="https://www.jianshu.com/p/4a339e558b5f" target="_blank" rel="noopener">https://www.jianshu.com/p/4a339e558b5f</a></li>
</ol>
</li>
<li><p>复杂度—流图</p>
<ol>
<li><blockquote>
<p>定量度量程序复杂度的价值：</p>
<ol>
<li>把程序的复杂程度乘以适当常数即可估算出软件中错误的数量以及软件开发需要用到的工作量</li>
<li>定量度量的结果可以用来比较两个不同的设计或两个不同算法的优劣</li>
<li>程序的定量的复杂程度可以作为模块规模的精确限量</li>
</ol>
</blockquote>
</li>
<li><p>看链接吧烦了：<a href="https://blog.csdn.net/spring_willow/article/details/70814214" target="_blank" rel="noopener">https://blog.csdn.net/spring_willow/article/details/70814214</a></p>
</li>
</ol>
</li>
<li><p><strong>计算环形复杂度</strong>【</p>
<ul>
<li><strong>V(G)=E-N+2</strong>：E是流图中边的条数，N是结点数。</li>
<li><strong>V(G)=P+1</strong>：P是流图中判定结点的数目。</li>
</ul>
</li>
</ol>
<h1 id="第七章：实现"><a href="#第七章：实现" class="headerlink" title="第七章：实现"></a>第七章：实现</h1><ol>
<li>黑盒、白盒测试<ul>
<li>黑盒测试：完全不考虑程序内部的结构和处理过程，只按照规格说明书的规定来检查程序是否符合它的功能要求。是在程序接口进行的测试，又称功能测试。</li>
<li>白盒测试：测试人员完全了解程序的内部结构和处理过程。测试时按照程序内部的逻辑测试程序、检验程序中的每条通路是否都能按预定的要求正确工作。又称结构测试。</li>
</ul>
</li>
<li>等价类划分<ul>
<li>思路：将程序输入域划分成若干个部分，即子集，然后从每个子集中选取具有代表性的数据作为测试用例。</li>
<li>等价类的划分在很大程度上依靠的是测试人员的经验，下面给出几条基本原则：<ol>
<li>输入条件的取值范围</li>
<li>输入数据的个数限定</li>
<li>相同处理的一组输入</li>
<li>无效的等价类</li>
<li>空值检查</li>
</ol>
</li>
</ul>
</li>
<li>边界值分析<ul>
<li>选取恰好等于、小于和大于边界的值作为测试数据，而不是选取每个等价类内的典型值或任意值作为测试数据。</li>
</ul>
</li>
</ol>
<h1 id="第八章：维护"><a href="#第八章：维护" class="headerlink" title="第八章：维护"></a>第八章：维护</h1><ol>
<li>软件可维护性<ol>
<li>定义：维护人员理解、改正、改动或改进这个软件的难易程度。</li>
<li>决定软件可维护性的因素：<ul>
<li>可理解性</li>
<li>可测试性</li>
<li>可修改性</li>
<li>可移植性</li>
<li>可重用性</li>
</ul>
</li>
<li>提高方法：<ol>
<li>建立明确的软件质量标准</li>
<li>利用先进的软件技术和工具</li>
<li>建立明确的质量保证制度</li>
<li>选择可维护的程序设计语言</li>
<li>改进软件的文档</li>
</ol>
</li>
<li>文档（影响软件可维护性的决定因素）：<ol>
<li>用户文档</li>
<li>系统文档</li>
</ol>
</li>
<li>可维护性复审<ul>
<li>是提高软件可维护性的重要保证</li>
<li>从容易修改、模块化和功能独立的目标出发，评价软件的结构和过程；设计中应该对将来可能修改的部分预作准备。</li>
<li>应该强调编码风格和内部说明文档这两个影响可维护性的因素</li>
</ul>
</li>
</ol>
</li>
</ol>
<h1 id="第九章：面向对象方法学引论"><a href="#第九章：面向对象方法学引论" class="headerlink" title="第九章：面向对象方法学引论"></a>第九章：面向对象方法学引论</h1><ol>
<li>三种模型及其关系<ul>
<li>对象模型<ul>
<li>表示静态的、结构化的系统的“数据”性质。它是对模拟客观世界实体的对象以及对象彼此间的关系的映射，描述了系统的静态结构。</li>
<li>通常使用UML提供的类图来建立对象模型</li>
</ul>
</li>
<li>动态模型<ul>
<li>表示瞬时的、行为化的系统的“控制”性质，它规定了对象模型中的对象的合法变化序列。</li>
<li>通常用UML中的状态图来描绘对象的状态、触发状态转换的事件以及对象的行为（对事件的响应）</li>
<li>基于事件共享而互相关联的一组状态图的集合</li>
</ul>
</li>
<li>功能模型<ul>
<li>表示变化的系统的“功能”性质，它指明了系统应该“做什么”，因此更直接地反映了用户对目标系统的需求</li>
<li>通常由一组数据流图组成</li>
</ul>
</li>
<li>关系<ol>
<li>针对每个类建立的动态模型，描述了类实例的生命周期或运行周期</li>
<li>状态转换驱使行为发生，这些行为在数据流图中被映射成处理，在用例图中被映射成用例，它们同时与类图中的服务相对应</li>
<li>功能模型中的处理（或用例）对应于对象模型中的类所提供的服务</li>
<li>数据流图中的数据存储，以及数据的源点/终点，通常是对象模型中的对象</li>
<li>用例中的行为者，可能是对象模型中的对象</li>
<li>功能模型中的处理（或用例）可能产生动态模型中的事件</li>
<li>对象模型描述了数据流图中的数据流、数据存储以及数据源点/终点的结构</li>
</ol>
</li>
</ul>
</li>
</ol>
<h1 id="第十三章：软件项目管理"><a href="#第十三章：软件项目管理" class="headerlink" title="第十三章：软件项目管理"></a>第十三章：软件项目管理</h1><ol>
<li><p>功能点技术—信息域特性</p>
<ul>
<li><p>功能点技术依据对软件信息域特性和软件复杂性的评估结果，估算软件规模。用功能点（FP）为单位度量软件规模。</p>
</li>
<li><p>信息域五个特性：</p>
<ol>
<li>输入项数</li>
<li>输出项数</li>
<li>查询数</li>
<li>主文件数</li>
<li>外部接口数</li>
</ol>
</li>
<li><p>估算步骤：</p>
<blockquote>
<ol>
<li>计算未调整的功能点数UFP<ul>
<li>UFP=a1×Inp+a2×Out+a3×Inq+a4×Maf+a5×Inf</li>
</ul>
</li>
<li>计算技术复杂性因子TCF<ul>
<li>TCF=0.65+0.01×DI</li>
</ul>
</li>
<li>计算功能点数FP<ul>
<li>FP = UFP × TCF</li>
</ul>
</li>
</ol>
</blockquote>
</li>
</ul>
</li>
<li><p>能力成熟度模型CMM</p>
<ol>
<li><p>初始级</p>
<blockquote>
<ul>
<li>软件过程的特征是无序的，有时甚至是混乱的。几乎没有什么过程是经过定义的（即没有一个定型的过程模型），项目能否成功完全取决于开发人员的个人能力。</li>
</ul>
</blockquote>
</li>
<li><p>可重复级</p>
<blockquote>
<ul>
<li>软件机构建立了基本的项目管理过程(过程模型),可跟踪成本、进度、功能和质量。</li>
<li>已经建立起必要的过程规范，对新项目的策划和管理过程是基于以前类似项目的实践经验，使得有类似应用经验的软件项目能够再次取得成功。</li>
<li>达到2级的一个目标是使项目管理过程稳定，从而使得软件机构能重复以前在成功项目中所进行过的软件项目工程实践。</li>
</ul>
</blockquote>
</li>
<li><p>已定义级</p>
<blockquote>
<ul>
<li>软件机构已经定义了完整的软件过程（过程模型），软件过程已经文档化和标准化。</li>
<li>所有项目组都使用文档化的、经过批准的过程来开发和维护软件。</li>
</ul>
</blockquote>
</li>
<li><p>已管理级</p>
<blockquote>
<ul>
<li>软件机构对软件过程（过程模型和过程实例）和软件产品都建立了定量的质量目标，所有项目的重要的过程活动都是可度量的。</li>
<li>该软件机构收集了过程度量和产品度量的方法并加以运用，可以定量地了解和控制软件过程和软件产品，并为评定项目的过程质量和产品质量奠定了基础。</li>
</ul>
</blockquote>
</li>
<li><p>优化级</p>
<blockquote>
<ul>
<li>软件机构集中精力持续不断地改进软件过程。这一级的软件机构是一个以防止出现缺陷为目标的机构，它有能力识别软件过程要素的薄弱环节，并有足够的手段改进它们。</li>
<li>在这样的机构中，可以获得关于软件过程有效性的统计数据，利用这些数据可以对新技术进行成本/效益分析，并可以优化出在软件工程实践中能够采用的最佳新技术。</li>
</ul>
</blockquote>
</li>
</ol>
</li>
</ol>
<ul>
<li>UML用例图【重点</li>
<li>顺序图、时序图（看图描述</li>
<li>状态图（有哪些状态</li>
<li>类图（属性、方法、结合时序图</li>
<li>DFD</li>
<li>环行复杂度</li>
<li>基本程序路径</li>
<li>测试用例</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/python-ex1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/python-ex1/" class="post-title-link" itemprop="url">python期末复习部分习题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-12-14 16:42:11" itemprop="dateCreated datePublished" datetime="2020-12-14T16:42:11+08:00">2020-12-14</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-12-17 15:42:20" itemprop="dateModified" datetime="2020-12-17T15:42:20+08:00">2020-12-17</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>仅供准备考试参考（不需要导入包、读写文件的题）</p>
<h1 id="教材课后题第二单元【5-14】、第三单元【1-10】"><a href="#教材课后题第二单元【5-14】、第三单元【1-10】" class="headerlink" title="教材课后题第二单元【5-14】、第三单元【1-10】"></a>教材课后题第二单元【5-14】、第三单元【1-10】</h1><ul>
<li><p>P47(5)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">x=int(input(<span class="string">"x="</span>))</span><br><span class="line">y=int(input(<span class="string">"y="</span>))</span><br><span class="line"><span class="keyword">if</span> x&lt;y:</span><br><span class="line">    small = x</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    small = y</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,small+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">if</span> (x%i==<span class="number">0</span>) <span class="keyword">and</span> (y%i==<span class="number">0</span>):</span><br><span class="line">        a=i</span><br><span class="line">print(<span class="string">"%d/%d"</span>%(x/a,y/a))</span><br><span class="line"></span><br><span class="line"><span class="comment"># from fractions import Fraction</span></span><br><span class="line"><span class="comment"># a = Fraction(2,6)</span></span><br><span class="line"><span class="comment"># print(a)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>P47(6)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'明月几时有，\</span></span><br><span class="line"><span class="string">把酒问青天'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>P47(7)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name = input(<span class="string">"姓名："</span>)</span><br><span class="line">age = int(input(<span class="string">"年龄："</span>))</span><br><span class="line">age += <span class="number">10</span></span><br><span class="line">print(<span class="string">"%s %d"</span> %(name,age))</span><br></pre></td></tr></table></figure>
</li>
<li><p>P47(8)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">"map"</span></span><br><span class="line">print(s[<span class="number">-1</span>::<span class="number">-1</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>P47(9)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">word = input(<span class="string">"输入一个单词："</span>)</span><br><span class="line">print(len(word))</span><br></pre></td></tr></table></figure>
</li>
<li><p>P47(10)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str = <span class="string">"Python is a widely used high-level, general-purpose, interpreted, dynamic programming language."</span></span><br><span class="line">s1 = <span class="string">""</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(str)):</span><br><span class="line">    <span class="keyword">if</span> i&gt;<span class="number">0</span> <span class="keyword">and</span> str[i<span class="number">-1</span>]==<span class="string">" "</span>:</span><br><span class="line">        s1 += str[i].upper()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        s1 += str[i]</span><br><span class="line">print(s1)</span><br></pre></td></tr></table></figure>
</li>
<li><p>P47(11)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="string">'python'</span>, <span class="string">'java'</span>, <span class="string">'c'</span>, <span class="string">'c++'</span>, <span class="string">'lisp'</span>]</span><br><span class="line">print(a[<span class="number">0</span>:<span class="number">5</span>:<span class="number">2</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>P47(12)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ans = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">100</span>+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">if</span> i%<span class="number">5</span>==<span class="number">0</span>:</span><br><span class="line">        ans.append(i)</span><br><span class="line">ans.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">print(ans)</span><br></pre></td></tr></table></figure>
</li>
<li><p>P48(13)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">citys = [<span class="string">"suzhou"</span>,<span class="string">"shanghai"</span>,<span class="string">"hangzhou"</span>,<span class="string">"nanjing"</span>]</span><br><span class="line">codes = [<span class="string">"0512"</span>,<span class="string">"021"</span>,<span class="string">"0571"</span>,<span class="string">"025"</span>]</span><br><span class="line">dict = &#123;&#125;</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> citys:</span><br><span class="line">    dict[x] = codes[i]</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">dict</span><br></pre></td></tr></table></figure>
</li>
<li><p>P48(14)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">lst1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">lst2 = [<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>]</span><br><span class="line">d = dict(zip(lst1, lst2))</span><br><span class="line"><span class="comment"># d=&#123;&#125;</span></span><br><span class="line"><span class="comment"># for j in range(0,len(lst2)):</span></span><br><span class="line"><span class="comment">#     d[lst1[j]]=lst2[j]</span></span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure>
</li>
<li><p>P109(1)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">d = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">101</span>):</span><br><span class="line">    temp = random.randint(<span class="number">0</span>,<span class="number">9</span>)</span><br><span class="line">    <span class="keyword">if</span> temp <span class="keyword">in</span> d:</span><br><span class="line">        d[temp] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        d[temp] = <span class="number">0</span></span><br><span class="line">d</span><br></pre></td></tr></table></figure>
</li>
<li><p>P110(2)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">2016</span></span><br><span class="line">s = str(a)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
</li>
<li><p>P110(3)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;<span class="string">"name"</span>:<span class="string">"python"</span>,<span class="string">"book"</span>:<span class="string">"python"</span>,<span class="string">"lang"</span>:<span class="string">"english"</span>&#125;</span><br><span class="line">d2 = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> d.items():</span><br><span class="line">    d2[v] = k</span><br><span class="line">d2</span><br></pre></td></tr></table></figure>
</li>
<li><p>P110(4)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">namelist = [<span class="string">'xiaoxifeng'</span>, <span class="string">'cangcang'</span>, <span class="string">'tom'</span>]</span><br><span class="line">name = input(<span class="string">"a: "</span>)</span><br><span class="line"><span class="keyword">while</span> (name <span class="keyword">not</span> <span class="keyword">in</span> namelist):</span><br><span class="line">    name = input(<span class="string">'请重新输入:'</span>)</span><br><span class="line">print(<span class="string">'输入正确~'</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>P110(5)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">text = <span class="string">"How are you. How are you."</span></span><br><span class="line"><span class="comment">#将字符串中的 ,. 替换为空格</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> <span class="string">',.'</span>:</span><br><span class="line">    text = text.replace(c,<span class="string">''</span>)</span><br><span class="line">list = text.split(<span class="string">" "</span>)</span><br><span class="line"></span><br><span class="line">dict = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> list:</span><br><span class="line">    word = word.lower()</span><br><span class="line">    <span class="keyword">if</span> word <span class="keyword">in</span> dict:</span><br><span class="line">        dict[word] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        dict[word] = <span class="number">1</span></span><br><span class="line">print(dict)</span><br></pre></td></tr></table></figure>
</li>
<li><p>P110(6)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">"aAsmr3idd4bgs7Dlsf9eAF"</span></span><br><span class="line"><span class="comment"># 第一小问</span></span><br><span class="line">str = <span class="string">""</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    <span class="keyword">if</span> i.isdigit():</span><br><span class="line">        str += i</span><br><span class="line">str</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第二小问</span></span><br><span class="line">d = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    i = i.lower()</span><br><span class="line">    <span class="keyword">if</span> i <span class="keyword">in</span> d:</span><br><span class="line">        d[i] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        d[i] = <span class="number">1</span></span><br><span class="line">d</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第三小问</span></span><br><span class="line"><span class="comment"># c = set([i.lower() for i in a])   # 没有保持原来顺序</span></span><br><span class="line">c = <span class="string">""</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">    <span class="keyword">if</span> i.lower() <span class="keyword">not</span> <span class="keyword">in</span> c:</span><br><span class="line">        c += i</span><br><span class="line">c</span><br></pre></td></tr></table></figure>
</li>
<li><p>P110(7)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">bottle = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    bottle[i] = <span class="number">1</span></span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line">check = <span class="number">0</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">j = <span class="number">100</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">101</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">101</span>:    <span class="comment"># 完成一轮后重头开始</span></span><br><span class="line">        i = <span class="number">1</span></span><br><span class="line">        check = <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> j == <span class="number">0</span>:    <span class="comment"># 最后一个被击中的瓶子，跳出</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> bottle[i] == <span class="number">0</span>:  <span class="comment"># 已被击破，跳过</span></span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            check += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> check % <span class="number">2</span> == <span class="number">1</span>:  <span class="comment"># 间隔一个再击破一个</span></span><br><span class="line">                bottle[i] = <span class="number">0</span></span><br><span class="line">                <span class="comment"># print(i)</span></span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">i</span><br><span class="line"></span><br><span class="line"><span class="comment"># 简洁版：</span></span><br><span class="line"><span class="comment"># l = []</span></span><br><span class="line"><span class="comment"># for i in range(0, 100):</span></span><br><span class="line"><span class="comment">#     l.append(i)</span></span><br><span class="line"><span class="comment"># while len(l)&gt;1:</span></span><br><span class="line"><span class="comment">#     m = 0</span></span><br><span class="line"><span class="comment">#     for r1 in l:</span></span><br><span class="line"><span class="comment">#         if m==0:</span></span><br><span class="line"><span class="comment">#             l.remove(r1)</span></span><br><span class="line"><span class="comment">#             m=1</span></span><br><span class="line"><span class="comment">#         if m==1:</span></span><br><span class="line"><span class="comment">#             m=0</span></span><br><span class="line"><span class="comment">#             continue</span></span><br><span class="line"><span class="comment"># print(l[0]+1)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>P110(8)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">num = int(input(<span class="string">"姓名个数："</span>))</span><br><span class="line">name = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,num):</span><br><span class="line">    temp = input(<span class="string">"姓名："</span>)</span><br><span class="line">    name.append(temp)</span><br><span class="line">name.sort()</span><br><span class="line">name</span><br></pre></td></tr></table></figure>
</li>
<li><p>P110(9)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trans</span><span class="params">()</span>:</span></span><br><span class="line">    celsius = float(input(<span class="string">'输入摄氏温度: '</span>))</span><br><span class="line">    fahrenheit = (celsius * <span class="number">1.8</span>) + <span class="number">32</span></span><br><span class="line">    <span class="comment"># celsius = (fahrenheit - 32) / 1.8</span></span><br><span class="line">    print(<span class="string">'%0.1f 摄氏温度转为华氏温度为 %0.1f '</span> %(celsius,fahrenheit))</span><br><span class="line">trans()</span><br></pre></td></tr></table></figure>
</li>
<li><p>P110(10)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"></span><br><span class="line">num1 = int(input(<span class="string">"输入第一个数字: "</span>))</span><br><span class="line">num2 = int(input(<span class="string">"输入第二个数字: "</span>))</span><br><span class="line">print(num1,<span class="string">"+"</span>,num2,<span class="string">"="</span>, add(num1,num2))</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="课上练习"><a href="#课上练习" class="headerlink" title="课上练习"></a>课上练习</h1><ul>
<li><p>金字塔*</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">6</span>):</span><br><span class="line">    print(<span class="string">'*'</span>*i)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>,<span class="number">0</span>,<span class="number">-1</span>):</span><br><span class="line">    print(<span class="string">'*'</span>*i)</span><br></pre></td></tr></table></figure>
</li>
<li><p>找列表不同</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>]</span><br><span class="line">list2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pdlist</span><span class="params">(list1,list2)</span>:</span></span><br><span class="line">    len1 = list(set(list1)-set(list2))</span><br><span class="line">    len2 = list(set(list2)-set(list1))</span><br><span class="line">    total = len1 + len2</span><br><span class="line">    print(total)</span><br><span class="line"></span><br><span class="line">pdlist(list1,list2)</span><br></pre></td></tr></table></figure>
</li>
<li><p>双重循环创建3*3列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">list = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">    list.append([])</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">4</span>):</span><br><span class="line">        list[i].append(j)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> list:</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> i:</span><br><span class="line">        print(j, end=<span class="string">" "</span>)</span><br><span class="line">    print()</span><br></pre></td></tr></table></figure>
</li>
<li><p>写一个类，两个函数get_String（接收字符串）、prt_String（大写输出）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">getprt</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.s = <span class="string">''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getString</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.s = input()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">prtString</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.s.upper())</span><br><span class="line"></span><br><span class="line">g = getprt()</span><br><span class="line">g.getString()</span><br><span class="line">g.prtString()</span><br></pre></td></tr></table></figure>
</li>
<li><p>写函数接收字符串统计大小写字母个数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">str = input(<span class="string">"str: "</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">(str)</span>:</span></span><br><span class="line">    lower = <span class="number">0</span></span><br><span class="line">    upper = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> str:</span><br><span class="line">        <span class="keyword">if</span> i.islower():</span><br><span class="line">            lower+=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> i.isupper():</span><br><span class="line">            upper+=<span class="number">1</span></span><br><span class="line">    print(<span class="string">"lower: "</span>,lower)</span><br><span class="line">    print(<span class="string">"upper: "</span>,upper)</span><br><span class="line">    </span><br><span class="line">count(str)</span><br></pre></td></tr></table></figure>
</li>
<li><p>写函数判断字符串是否为回文</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">str = input(<span class="string">"str: "</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">pd</span><span class="params">(str)</span>:</span></span><br><span class="line">    Len = len(str)</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    flag = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> count &lt; Len // <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">if</span> str[count] != str[Len-count<span class="number">-1</span>]:</span><br><span class="line">            flag = <span class="number">0</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> flag == <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">'是'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">'不是'</span>)</span><br><span class="line">        </span><br><span class="line">pd(str)</span><br></pre></td></tr></table></figure>
</li>
<li><p>python类计算矩形面积</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">area</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.length = <span class="number">0</span></span><br><span class="line">        self.width = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_lw</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.length = int(input())</span><br><span class="line">        self.width = int(input())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">comp_lw</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self.length*self.width</span><br><span class="line"></span><br><span class="line">ck = area()</span><br><span class="line">ck.get_lw()</span><br><span class="line">ck.comp_lw()</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/ReviewExercises-DS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ReviewExercises-DS/" class="post-title-link" itemprop="url">期末复习之数算习题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-06-30 15:47:54" itemprop="dateCreated datePublished" datetime="2020-06-30T15:47:54+08:00">2020-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-11-09 16:37:57" itemprop="dateModified" datetime="2020-11-09T16:37:57+08:00">2020-11-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Data-Structure/" itemprop="url" rel="index"><span itemprop="name">Data Structure</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h1><ol>
<li><p>某线性表中最常用的操作是在最后一个元素之后插入一个元素和删除第一个元素，则采用（ <strong>D</strong>  ）存储方式最节省运算时间。</p>
<p>A．单链表  </p>
<p>B．仅有头指针的单循环链表  </p>
<p>C．双链表  </p>
<p>D．仅有尾指针的单循环链表</p>
</li>
<li><p>静态链表中指针表示的是（  <strong>B</strong> ）. </p>
<p>A． 内存地址    </p>
<p>B．数组下标   </p>
<p>C．下一元素地址   </p>
<p>D．左、右孩子地址</p>
</li>
<li><p>若长度为n的线性表采用顺序存储结构，在其第i个位置插入一个新元素的算法的时间复杂度为（ <strong>C</strong>  ）(1&lt;=i&lt;=n+1)。</p>
<p>A. O(0)    </p>
<p>B. O(1)     </p>
<p>C. O(n)     </p>
<p>D. O(n2) </p>
</li>
<li><p>下面程序段的时间复杂性的量级为（ <strong>D</strong> ）</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;m;i++)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;n;j*=<span class="number">2</span>)</span><br><span class="line">    a[i][j]=i*j;</span><br></pre></td></tr></table></figure>
<p> A. O($m^2$)      </p>
<p>B. O($n^2$)      </p>
<p>C. O(m*n)      </p>
<p>D. O(m*lg(n))</p>
</li>
<li><p>在单链表指针为p的结点之后插入指针为s的结点，正确的操作是：（ <strong>B</strong>  ）。</p>
<p>A． p-&gt;next=s;s-&gt;next=p-&gt;next;   </p>
<p>B． s-&gt;next=p-&gt;next;p-&gt;next=s;</p>
<p>C． p-&gt;next=s;p-&gt;next=s-&gt;next;  </p>
<p>D． p-&gt;next=s-&gt;next;p-&gt;next=s;</p>
</li>
<li><p>对于一个头指针为head的带头结点的单链表，判定该表为空表的条件是（ <strong>B</strong>  ）</p>
<p>A． head==NULL             </p>
<p>B． head→next==NULL  </p>
<p>C． head→next==head </p>
<p>D． head!=NULL</p>
</li>
<li><p>设栈S初始状态为空，元素e1，e2，e3，e4，e5，e6依此通过栈S，，若6个元素出栈的序列是e2，e4，e3，e6，e5，e1，则栈S的容量至少应该是（ <strong>C</strong> ）</p>
<p>A. 6      </p>
<p>B. 4      </p>
<p>C. 3      </p>
<p>D. 2</p>
</li>
<li><p>假设以数组A[m]存放循环队列的元素,其头尾指针分别为front和rear，则当前队列中的元素个数为（ <strong>A</strong>  ）。</p>
<p>A．(rear-front+m)%m   </p>
<p>B． rear-front+1   </p>
<p>C．(front-rear+m)%m   </p>
<p>D．(rear-front)%m</p>
</li>
<li><p>若用一个大小为6的数组来实现循环队列，且当前rear和front的值分别为0和3，当从队列中删除一个元素，再加入两个元素后，rear和front的值分别为多少？( <strong>B</strong> ) </p>
<p>A. 1和 5     </p>
<p>B. 2和4     </p>
<p>C. 4和2     </p>
<p>D. 5和1 </p>
</li>
<li><p>当利用大小为n的数组存储一个循环队列时，该队列的最大长度为（ <strong>C</strong> ）</p>
<p>A. n-2      </p>
<p>B. n       </p>
<p>C. n-1      </p>
<p>D. n+1</p>
</li>
<li><p>设有两个串p和q，其中q是p的子串，求q在p中首次出现的位置的算法称为（ <strong>C</strong> ）</p>
<p>A．求子串    </p>
<p>B．联接    </p>
<p>C．匹配     </p>
<p>D．求串长</p>
</li>
<li><p>设有数组A[i,j]，数组的每个元素长度为3字节，i的值为1 到8 ，j的值为1 到10，数组从内存首地址BA开始顺序存放，当用以列为主存放时，元素A[5,8]的存储首地址为( <strong>B</strong> )。</p>
<p>A. BA+141      </p>
<p>B. BA+180      </p>
<p>C. BA+222      </p>
<p>D. BA+225</p>
</li>
<li><p>一个具有511个结点的完全二叉树，其叶结点个数为（ <strong>D</strong> ）</p>
<p>A. 127      </p>
<p>B. 128      </p>
<p>C. 129     </p>
<p>D. 256</p>
<blockquote>
<p>一个具有n个节点的完全二叉树,其叶子节点的个数n0为: n/2 向上取整，或者(n+1)/2 向下取整</p>
</blockquote>
</li>
<li><p>在一棵度为3的树中,度为3的结点个数为2,度为2的结点个数为1,则叶结点个数为（  <strong>C</strong>）</p>
<p>A．4      </p>
<p>B．5     </p>
<p>C．6      </p>
<p>D．7</p>
<blockquote>
<p>n = n0 + n1 + n2 + n3</p>
<p>n - 1 = 0*n0 + 1*n1 + 2*n2 + 3*n3</p>
</blockquote>
</li>
<li><p>设树T的度为4，其中度为1，2，3和4的结点个数分别为4，2，1，1 则T中的叶子数为（ <strong>D</strong> ）</p>
<p>A．5      </p>
<p>B．6     </p>
<p>C．7      </p>
<p>D．8</p>
</li>
<li><p>若一棵二叉树具有10个度为2的结点，5个度为1的结点，则度为0的结点个数是（ <strong>B</strong> ）</p>
<p>A．9      </p>
<p>B．11     </p>
<p>C．15    </p>
<p>D．不确定</p>
</li>
<li><p>具有10个叶结点的二叉树中有（ <strong>B </strong> ）个度为2的结点， </p>
<p>A．8      </p>
<p>B．9       </p>
<p>C．10     </p>
<p>D．11</p>
</li>
<li><p>有n个叶子的哈夫曼树的结点总数为（ <strong>D</strong> ）。</p>
<p>A．不确定     </p>
<p>B．2n     </p>
<p>C．2n+1     </p>
<p>D．2n-1</p>
</li>
<li><p>一棵树高为h的完全2叉树至少包含的结点数为（ <strong>C</strong> ）</p>
<p>A. $2^{h-1}-1$    </p>
<p>B. $2^{h-1}$     </p>
<p>C.$2^h-1$     </p>
<p>D.$2^h$</p>
</li>
<li><p>深度为h的满m叉树的第k层有（ <strong>A</strong>）个结点。(1=&lt;k=&lt;h) </p>
<p>A．$m^{k-1}$       </p>
<p>B．$m^k-1$     </p>
<p>C．$m^{h-1}$   </p>
<p>D．$m^h-1$</p>
</li>
<li><p>设森林F对应的二叉树为B，它有m个结点，B的根为p，p的右子树结点个数为n，则森林F中第一棵树的结点个数是（ <strong>A</strong> ）</p>
<p>A. m-n     </p>
<p>B. m-n-1     </p>
<p>C. n+1     </p>
<p>D. 条件不足，无法确定</p>
</li>
<li><p>树的后根遍历序列等同于该树对应的二叉树的( <strong>B</strong> ). </p>
<p>A. 先序序列          </p>
<p>B. 中序序列      </p>
<p>C. 后序序列</p>
</li>
<li><p>已知某二叉树的后序遍历序列是dabec, 中序遍历序列是debac , 它的前序遍历是（ <strong>D</strong> ）。</p>
<p>A． acbed    </p>
<p>B． decab  </p>
<p>C． deabc   </p>
<p>D． cedba</p>
<blockquote>
<p>前序 + 中序 =&gt; 后序</p>
<p>后序 + 中序 =&gt; 前序</p>
</blockquote>
</li>
<li><p>对于前序遍历与中序遍历结果相同的二叉树为（<strong>F</strong>）;</p>
<p>对于前序遍历和后序遍历结果相同的二叉树为（<strong>B</strong>）。</p>
<p>A．一般二叉树  </p>
<p>B．只有根结点的二叉树   </p>
<p>C．根结点无左孩子的二叉树 </p>
<p>D．根结点无右孩子的二叉树 </p>
<p>E．所有结点只有左子数的二叉树 </p>
<p>F．所有结点只有右子树的二叉树</p>
</li>
<li><p>一个有n个结点的图，最少有（  <strong>B</strong> ）个连通分量，最多有（  <strong>D</strong>  ）个连通分量。</p>
<p>A．0        </p>
<p>B．1         </p>
<p>C． n-1       </p>
<p>D． n</p>
</li>
<li><p>在含n个顶点和e条边的有向简单图的邻接矩阵中,零元素的个数为（ <strong>D</strong> ）</p>
<p>A． e     </p>
<p>B．2e     </p>
<p>C． $n^2$－e     </p>
<p>D． $n^2$－2e</p>
</li>
<li><p>下面哪一方法可以判断出一个有向图是否有环（回路）：（ <strong>AB</strong> ） </p>
<p>A．深度优先遍历  </p>
<p>B. 拓扑排序  </p>
<p>C. 求最短路径 </p>
<p>D. 广度优先遍历</p>
</li>
<li><p>在图采用邻接表存储时，求最小生成树的 Prim 算法的时间复杂度为(  <strong>B</strong> )。</p>
<p>A. O(n)      </p>
<p>B. O(n+e)    </p>
<p>C. O(n2)    </p>
<p>D. O(n3)</p>
</li>
<li><p>求解最短路径的Floyd算法的时间复杂度为（ <strong>D</strong> ）。</p>
<p>A．O（n）    </p>
<p>B. O（n+c）   </p>
<p>C. O（n*n）   </p>
<p>D. O（n*n*n）</p>
</li>
<li><p>若结点的存储地址与其关键字之间存在某种映射关系，则称这种存储结构为 （ <strong>D</strong> ）</p>
<p>A. 顺序存储结构      </p>
<p>B. 链式存储结构</p>
<p>C. 索引存储结构      </p>
<p>D. 散列(哈希)存储结构</p>
</li>
<li><p>堆排序算法的最差时间复杂度是（ <strong>A</strong> ）</p>
<p>A. O(nlog2n)    </p>
<p>B. O(log2n)     </p>
<p>C. O(n)     </p>
<p>D. O(n2)</p>
</li>
<li><p>在长度为n的顺序表中，删除第i个元素（1≤i≤n）需要依次前移几个元素  （ <strong>A</strong> ）</p>
<p>A. n-i     </p>
<p>B. n-i+1     </p>
<p>C. n-i-1     </p>
<p>D. i</p>
</li>
<li><p>在长度为n的顺序表中，插入第i个元素（1≤i≤n+1）需要依次前移几个元素  （ <strong>B</strong> ）</p>
<p>A. n-i     </p>
<p>B. n-i+1     </p>
<p>C. n-i-1     </p>
<p>D. i</p>
</li>
<li><p>一个大顶堆，最小的单元一定为（ <strong>B</strong> ）</p>
<p>A. 根节点    </p>
<p>B. 叶子节点     </p>
<p>C.树的非叶子节点   </p>
<p>D.树的最底层节点</p>
</li>
<li><p>十字链表结构比较适合存储那种数据（ <strong>C</strong> ）</p>
<p>A. 三角矩阵    </p>
<p>B. 对称矩阵     </p>
<p>C.稀疏矩阵    </p>
<p>D.稠密矩阵</p>
</li>
<li><p>n个结点的线索二叉树上含有的线索数为（ <strong>C</strong>  ）</p>
<p>A．2n   </p>
<p>B． n－l    </p>
<p>C． n＋l     </p>
<p>D． n</p>
</li>
<li><p>（ <strong>C</strong> ）的遍历仍需要栈的支持.</p>
<p>A．前序线索树   </p>
<p>B．中序线索树   </p>
<p>C．后序线索树 </p>
</li>
<li><p>二叉树在线索后，仍不能有效求解的问题是（ <strong>D</strong>  ）。</p>
<p>A．前（先）序线索二叉树中求前（先）序后继 </p>
<p>B．中序线索二叉树中求中序后继</p>
<p>C．中序线索二叉树中求中序前驱 </p>
<p>D．后序线索二叉树中求后序后继 </p>
</li>
<li><p>线索二叉树中，一个结点是叶子节点的充要条件是（ <strong>D</strong> ）</p>
<p>A. 左线索标志为0，右线索标志为1    </p>
<p>B. 左线索标志为1，右线索标志为0</p>
<p>C. 左右线索标志均为0                         </p>
<p>D. 左右线索标志均为1</p>
</li>
<li><p>线索二叉树是利用（ <strong>D</strong> ）域存储后继节点的地址</p>
<p>A. lchild    </p>
<p>B. data    </p>
<p>C. root    </p>
<p>D. rchild</p>
</li>
<li><p>下面的排序算法中，不稳定的是（ <strong>CDF</strong>  ） </p>
<p>A.起泡排序 </p>
<p>B.折半插入排序  </p>
<p>C.简单选择排序  </p>
<p>D.希尔排序   </p>
<p>E.基数排序 </p>
<p>F.堆排序</p>
</li>
<li><p>在下面的排序方法中，辅助空间为O(n) 的是( <strong>D</strong> ) 。</p>
<p>A．希尔排序    </p>
<p>B. 堆排序     </p>
<p>C. 选择排序    </p>
<p>D. 归并排序  </p>
</li>
<li><p>直接插入排序在最好情况下的时间复杂度为<strong>（ B  ）</strong></p>
<p>A． O(logn)    </p>
<p>B． O(n)     </p>
<p>C． O(n*logn)   </p>
<p>D． O($n^2$)</p>
</li>
<li><p>下列四个序列中，哪一个是堆（ <strong>C</strong> ）。 </p>
<p>A. 75,65,30,15,25,45,20,10   </p>
<p>B. 75,65,45,10,30,25,20,15</p>
<p>C. 75,45,65,30,15,25,20,10   </p>
<p>D. 75,45,65,10,25,30,20,15</p>
</li>
<li><p>一组记录的关键字为（45，80，55，40，42，85），则利用快速排序的方法，以第一个记录为基准得到一次划分结果是( <strong>C</strong> )。</p>
<p>A、（40，42，45，55，80，85）   </p>
<p>B、（42，40，45，80，55，85）</p>
<p>C、（42，40，45，55，80，85）  </p>
<p>D、（42，40，45，85，55，80）</p>
</li>
<li><p>一组记录的关键字为（25，50，15，35，80，85，20，40，36，70），其中含有5个长度为2的有序表，用归并排序方法对该序列进行一趟归并后的结果为( <strong>A</strong> )。</p>
<p>A、（15，25，35，50，20，40，80，85，36，70）</p>
<p>B、（15，25，35，50，80，20，85，40，70，36）</p>
<p>C、（15，25，50，35，80，85，20，36，40，70）</p>
<p>D、（15，25，35，50，80，20，36，40，70，85）</p>
</li>
</ol>
<h1 id="综合应用"><a href="#综合应用" class="headerlink" title="综合应用"></a>综合应用</h1><h2 id="树-先序中序"><a href="#树-先序中序" class="headerlink" title="树 先序中序"></a>树 先序中序</h2><p>设一棵二叉树的先序、中序遍历序列分别为</p>
<p>先序遍历序列： A B D F C E G H 中序遍历序列： B F D A G E H C</p>
<p>（1）画出这棵二叉树。</p>
<p>解：（1）</p>
<p><img src="/ReviewExercises-DS/image-20200630140221575.png" alt="image-20200630140221575" style="zoom: 67%;"></p>
<p>转换为森林</p>
<h2 id="图与邻接矩阵、邻接表"><a href="#图与邻接矩阵、邻接表" class="headerlink" title="图与邻接矩阵、邻接表"></a>图与邻接矩阵、邻接表</h2><p>设G=(V,E)以邻接表存储，如图所示，试画出图的深度优先和广度优先生成树。</p>
<p><img src="/ReviewExercises-DS/1.png" alt="1"></p>
<p>解：</p>
<p><img src="/ReviewExercises-DS/image-20200630140311592.png" alt="image-20200630140311592" style="zoom:67%;"></p>
<h2 id="哈希表"><a href="#哈希表" class="headerlink" title="哈希表"></a>哈希表</h2><p>设有一组关键字{9,01,23,14,55,20,84,27}，采用哈希函数：H（key）=key mod 7 ，表长为10，用开放地址法的二次探测再散列方法Hi = (H(key)+di) mod 10(di=12,22,32,…,)解决冲突。</p>
<p>要求：对该关键字序列构造哈希表，并计算查找成功的平均查找长度。</p>
<p>解：(1+1+1+2+3+3+1+2) / 8＝1.75</p>
<p><img src="/ReviewExercises-DS/image-20200630141052044.png" alt="image-20200630141052044"></p>
<p>已知散列表的地址空间为A[0..11]，散列函数H（k）=k mod 11，采用线性探测法处理冲突。请将下列数据{25,16,38,47,79,82,51,39,89,151,231}依次插入到散列表中，并计算出在等概率情况下查找成功时的平均查找长度。</p>
<p>解：（1+1+1+1+2+1+2+3+2+4+3）/ 11</p>
<p><img src="/ReviewExercises-DS/image-20200630143654566.png" alt="image-20200630143654566"></p>
<h2 id="快排-堆排序-希尔排序…"><a href="#快排-堆排序-希尔排序…" class="headerlink" title="快排/堆排序/希尔排序…"></a>快排/堆排序/希尔排序…</h2><p>推荐一个网站：<a href="https://visualgo.net/en/sorting" target="_blank" rel="noopener">https://visualgo.net/en/sorting</a></p>
<h2 id="二叉排序树-AVL树"><a href="#二叉排序树-AVL树" class="headerlink" title="二叉排序树/AVL树"></a>二叉排序树/AVL树</h2><p>排序过程或平衡过程。</p>
<h2 id="最小生成树"><a href="#最小生成树" class="headerlink" title="最小生成树"></a>最小生成树</h2><p>从下图顶点4 出发，画出一棵深度优先生成树和广度优先生成树。写出执行Prim 算法构造最小生成树的过程。</p>
<p> <img src="/ReviewExercises-DS/d15a292c70884d47adf1bd7e34721f7f.png" alt="img" style="zoom:67%;"></p>
<h2 id="最短路径"><a href="#最短路径" class="headerlink" title="最短路径"></a>最短路径</h2><p>Dijkstra算法（贪心策略）</p>
<h2 id="B-树"><a href="#B-树" class="headerlink" title="B+树"></a>B+树</h2><p>执行插入或删除操作，画出各步操作的结果。</p>
<h1 id="算法设计"><a href="#算法设计" class="headerlink" title="算法设计"></a>算法设计</h1><h2 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h2><ol>
<li><p>折半查找</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BinarySearch1</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> value, <span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> low, high, mid;</span><br><span class="line">    low = <span class="number">0</span>;</span><br><span class="line">    high = n<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">while</span>(low &lt;= high)&#123;</span><br><span class="line">        mid = (low+high)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(a[mid] == value)</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="keyword">if</span>(a[mid]&gt;value)</span><br><span class="line">            high = mid<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span>(a[mid]&lt;value)</span><br><span class="line">            low = mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//递归版本</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BinarySearch2</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> value, <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> mid = low+(high-low)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(a[mid]==value)</span><br><span class="line">        <span class="keyword">return</span> mid;</span><br><span class="line">    <span class="keyword">if</span>(a[mid]&gt;value)</span><br><span class="line">        <span class="keyword">return</span> BinarySearch2(a, value, low, mid<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">if</span>(a[mid]&lt;value)</span><br><span class="line">        <span class="keyword">return</span> BinarySearch2(a, value, mid+<span class="number">1</span>, high);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>顺序查找</p>
</li>
<li><p>二叉树查找</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Node* <span class="title">iterative_bstree_search</span><span class="params">(BSTree x, Type key)</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> ((x!=<span class="literal">NULL</span>) &amp;&amp; (x-&gt;key!=key)) &#123;</span><br><span class="line">        <span class="keyword">if</span> (key &lt; x-&gt;key)</span><br><span class="line">            x = x-&gt;left;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            x = x-&gt;right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//递归版本</span></span><br><span class="line"><span class="function">Node* <span class="title">bstree_search</span><span class="params">(BSTree x, Type key)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x==<span class="literal">NULL</span> || x-&gt;key==key)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">if</span> (key &lt; x-&gt;key)</span><br><span class="line">        <span class="keyword">return</span> bstree_search(x-&gt;left, key);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> bstree_search(x-&gt;right, key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="单链表-双向链表"><a href="#单链表-双向链表" class="headerlink" title="单链表/双向链表"></a>单链表/双向链表</h2><ol>
<li><p>写出…储存结构</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参考</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    ElemType data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125;Node, *LinkList;</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除某个结点</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参考</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete</span><span class="params">(LinkList Node)</span> </span>&#123;</span><br><span class="line">    LinkList p,q,r;</span><br><span class="line">    p = head-&gt;next;</span><br><span class="line">    <span class="keyword">while</span>(p)&#123;</span><br><span class="line">        q = p;</span><br><span class="line">        <span class="keyword">while</span>(q-&gt;next)&#123;</span><br><span class="line">            <span class="keyword">if</span>(q-&gt;next-&gt;data == p-&gt;data) &#123;</span><br><span class="line">            	r = q-&gt;next;</span><br><span class="line">            	q-&gt;next = r-&gt;next;</span><br><span class="line">            	<span class="built_in">free</span>(r);</span><br><span class="line">        	&#125; <span class="keyword">else</span></span><br><span class="line">                q = q-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>单链表合并</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参考</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MerageLinkList</span><span class="params">(LinkList L1,LinkList L2)</span></span>&#123;</span><br><span class="line">    LinkList p;</span><br><span class="line">    <span class="keyword">for</span>(p=L1; p-&gt;next!=<span class="literal">NULL</span>; p=p-&gt;next)</span><br><span class="line">       ;</span><br><span class="line">    p-&gt;next = L2-&gt;next;</span><br><span class="line">    <span class="built_in">free</span> (L2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>二叉树的二叉链存储结构</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span>&#123;</span></span><br><span class="line">    TElemType data;<span class="comment">//数据域</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BiTNode</span> *<span class="title">lchild</span>,*<span class="title">rchild</span>;</span><span class="comment">//左右孩子指针</span></span><br><span class="line">&#125;BiTNode,*BiTree;</span><br></pre></td></tr></table></figure>
</li>
<li><p>计算二叉树中叶结点个数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参考</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Count</span><span class="params">( BinTree T )</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(T == <span class="literal">NULL</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(T-&gt;lchild==<span class="literal">NULL</span> &amp;&amp; T-&gt;rchild==<span class="literal">NULL</span> ) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    	<span class="keyword">return</span> Count(T-&gt;lchild)+Count(T-&gt;rchild);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>判断二叉树是否相似</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参考</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Issimilar</span><span class="params">(Tree b1, Tree b2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b1==Null &amp;&amp; b2==Null)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(b1!=Null &amp;&amp; b2==Null || b1==Null &amp;&amp; b2!=Null)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(Issimilar(b1-&gt;lchild, b2-&gt;lchild) &amp;&amp; Issimilar(b1-&gt;rchild, b2-&gt;rchild))</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/DatabaseFoundation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/DatabaseFoundation/" class="post-title-link" itemprop="url">数据库基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2020-06-18 12:56:40 / Modified: 19:27:46" itemprop="dateCreated datePublished" datetime="2020-06-18T12:56:40+08:00">2020-06-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/DB/" itemprop="url" rel="index"><span itemprop="name">DB</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="一-绪论"><a href="#一-绪论" class="headerlink" title="一 绪论"></a>一 绪论</h1><h2 id="数据库系统概述"><a href="#数据库系统概述" class="headerlink" title="数据库系统概述"></a>数据库系统概述</h2><ol>
<li>数据(Data)    <ul>
<li>定义：描述事物的符号记录</li>
<li>数据与其语义是不可分的</li>
</ul>
</li>
<li>数据库(Database)<ul>
<li>定义：长期储存在计算机内、有组织的、可共享的大量数据的集合</li>
<li>基本特征：<ul>
<li>数据按一定的数据模型组织、描述和储存</li>
<li>具有较小的冗余度（redundancy）</li>
<li>较高的数据独立性（data independency）</li>
<li>易扩展性（scalability）</li>
<li>可为各种用户共享</li>
</ul>
</li>
<li>概括：永久储存、有组织、可共享</li>
</ul>
</li>
<li>数据库管理系统(DBMS)<ul>
<li>主要功能：数据定义功能（DDL）、数据组织存储和管理、数据操纵功能（DML）、数据库的事务管理和运行管理、数据库的建立和维护、其他功能</li>
<li>建立在OS上</li>
</ul>
</li>
<li>数据库系统(DBS)<ul>
<li>定义：由数据库、数据管理系统（及其应用开发工具）、应用程序和数据库管理员（DBA）组成的存储、管理、处理、和维护数据的系统</li>
<li>特点<ul>
<li>数据结构化：<strong>数据库最主要特征之一，与文件系统的本质区别</strong>；文件系统中数据存取单位是记录，粒度不能细到数据项</li>
<li>数据共享性高、冗余度低且易扩充：数据面向整个系统</li>
<li>数据独立性高：<strong>物理独立性</strong>（物理存储相互独立，应用程序只处理数据的逻辑结构）、<strong>逻辑独立性</strong>（逻辑结构相互独立）；由数据管理系统提供的二级映像功能来保证</li>
<li>数据由数据管理系统统一管理控制：数据的<strong>安全性</strong>保护、<strong>完整性</strong>检查、<strong>并发控制</strong>、数据库恢复</li>
</ul>
</li>
</ul>
</li>
<li>发展阶段：人工管理 —&gt; 文件系统 —&gt; 数据库系统</li>
</ol>
<h2 id="数据模型！！！"><a href="#数据模型！！！" class="headerlink" title="数据模型！！！"></a>数据模型！！！</h2><p>数据库系统的核心和基础。每个数据库中的数据都是按照某一种数据模型来组织、描述和存储的。</p>
<ol>
<li>定义：<strong>一种模型，是对现实世界数据特征的抽象。</strong></li>
<li>分类：<ul>
<li><strong>概念模型</strong><ul>
<li>用于信息世界的建模，现实世界到信息世界的第一层抽象</li>
</ul>
</li>
<li><strong>逻辑模型和物理模型</strong><ul>
<li>逻辑模型：网状模型、层次模型、关系模型、面向对象数据模型、对象关系数据模型、半结构化数据模型等</li>
<li>物理模型，面向计算机系统</li>
</ul>
</li>
</ul>
</li>
<li>组成三要素：<ul>
<li><strong>数据结构</strong>：描述数据库的组成对象，以及对象之间的联系；对系统<strong>静态</strong>特性的描述</li>
<li><strong>数据操作</strong>：对数据库中各种对象(型)的实例(值)允许执行的操作的集合，包括操作及有关的操作规则；对系统<strong>动态</strong>特性的描述</li>
<li><strong>数据的完整性约束条件</strong>：一组完整性规则</li>
</ul>
</li>
</ol>
<h2 id="概念模型"><a href="#概念模型" class="headerlink" title="概念模型"></a>概念模型</h2><ol>
<li>信息世界中的基本概念<ul>
<li>实体（Entity） ：客观存在并可相互区别的事物。可以是具体的人、事、物或抽象的概念。</li>
<li>属性（Attribute） ：实体所具有的某一特性</li>
<li>码（Key） ：唯一标识实体的属性集</li>
<li>实体型（Entity Type）：用实体名及其属性名集合来抽象和刻画同类实体</li>
<li>实体集（Entity Set）：同一类型实体的集合</li>
<li>联系（Relationship） ：实体内部的联系通常是指组成实体的各属性之间的联系，实体之间的联系通常是指不同实体集之间的联系<ul>
<li>一对一、一对多、多对多</li>
</ul>
</li>
</ul>
</li>
<li><strong>实体-联系方法（E-R方法）</strong>！<ul>
<li>实体型</li>
<li>属性</li>
<li>联系：联系本身、联系的属性</li>
</ul>
</li>
</ol>
<h2 id="层次模型-Hierarchical-Model"><a href="#层次模型-Hierarchical-Model" class="headerlink" title="层次模型(Hierarchical Model)"></a>层次模型(Hierarchical Model)</h2><ol>
<li>满足条件：<ol>
<li>有且只有一个结点没有双亲结点，这个结点称为根结点</li>
<li>根以外的其它结点有且只有一个双亲结点</li>
</ol>
</li>
<li>完整性约束条件<ul>
<li>无相应的双亲结点值就不能插入子女结点值</li>
<li>如果删除双亲结点值，则相应的子女结点值也被同时删除</li>
<li>更新操作时，应更新所有相应记录，以保证数据的一致性</li>
</ul>
</li>
<li>存储结构<ol>
<li>邻接法<ul>
<li>按照层次树前序遍历的顺序把所有记录值依次邻接存放，即通过物理空间的位置相邻来实现层次顺序</li>
</ul>
</li>
<li>链接法<ul>
<li>用指引来反映数据之间的层次联系</li>
<li>子女－兄弟链接法：每个记录设两类指针，分别指向最左边的子女（每个记录型对应一个）和最近的兄弟</li>
<li>层次序列链接法：按树的前序穿越顺序链接各记录值</li>
</ul>
</li>
</ol>
</li>
<li>优缺点</li>
</ol>
<h2 id="网状模型-Network-Model"><a href="#网状模型-Network-Model" class="headerlink" title="网状模型(Network Model)"></a>网状模型(Network Model)</h2><ol>
<li>满足条件<ol>
<li>允许一个以上的结点无双亲；</li>
<li>一个结点可以有多于一个的双亲。</li>
</ol>
</li>
<li>网状模型与层次模型的区别<ul>
<li>网状模型允许多个结点没有双亲结点，结点有多个双亲结点</li>
<li>网状模型允许两个结点之间有多种联系（复合联系）</li>
<li>网状模型可以更直接地去描述现实世界</li>
<li>层次模型实际上是网状模型的一个特例</li>
</ul>
</li>
<li>关键：实现记录之间的联系</li>
<li>优缺点<ul>
<li>优点：更为直接描述；良好性能，存取效率高</li>
<li>缺点：结构比较复杂；DDL、DML比较复杂，要求用户掌握数据库结构和存取路径</li>
</ul>
</li>
</ol>
<h2 id="关系模型-Relational-Model"><a href="#关系模型-Relational-Model" class="headerlink" title="关系模型(Relational Model)"></a>关系模型(Relational Model)</h2><ol>
<li><p>关系结构</p>
<p>​    在用户观点下，关系模型中数据的逻辑结构是一张二维表，它由行和列组成</p>
<ul>
<li>关系（Relation）：一个关系对应通常说的一张表</li>
<li>元组（Tuple）：表中的一行即为一个元组<ul>
<li>同一关系模型的任两个元组值不能全同</li>
</ul>
</li>
<li>属性（Attribute）：表中的一列即为一个属性，给每一个属性起一个名称即属性名</li>
<li>主码（Key）：表中的某个属性组，它可以唯一确定一个元组<ul>
<li>一个关键字可由一个或多个其值能唯一标识该关系模式中任何元组的属性组成</li>
</ul>
</li>
<li>域（Domain）：属性的取值范围</li>
<li>分量：元组中的一个属性值</li>
<li>关系模式：对关系的描述</li>
</ul>
</li>
<li><p>规范条件</p>
<ul>
<li>关系的每一个分量必须是一个不可分的数据项，不允许表中还有表</li>
</ul>
</li>
<li><p>完整性约束条件 </p>
<ul>
<li>实体完整性</li>
<li>参照完整性</li>
<li>用户定义的完整性</li>
</ul>
</li>
<li><p>存储结构</p>
<ul>
<li>实体及实体间的联系都用表来表示，表以文件形式存储</li>
</ul>
</li>
</ol>
<h2 id="数据库系统结构"><a href="#数据库系统结构" class="headerlink" title="数据库系统结构"></a>数据库系统结构</h2><h3 id="数据库系统模式的概念"><a href="#数据库系统模式的概念" class="headerlink" title="数据库系统模式的概念"></a>数据库系统模式的概念</h3><ol>
<li>“型” 和“值” 的概念<ul>
<li>型（Type）：对某一类数据的结构和属性的说明</li>
<li>值（Value）：是型的一个具体赋值</li>
</ul>
</li>
<li>模式（Schema）：数据库逻辑结构和特征的描述，是型的描述。反映的是数据的结构及其联系，模式是相对稳定的。</li>
<li>实例（Instance）：模式的一个具体值。反映数据库某一时刻的状态。同一个模式可以有很多实例，实例随数据库中的数据的更新而变动。</li>
</ol>
<h3 id="三级模式结构！！！"><a href="#三级模式结构！！！" class="headerlink" title="三级模式结构！！！"></a>三级模式结构！！！</h3><ul>
<li><strong>模式（Schema）</strong>（也称逻辑模式）<ul>
<li>数据库中全体数据的逻辑结构和特征的描述，所有用户的公共数据视图，综合了所有用户的需求</li>
<li>一个数据库只有一个模式</li>
<li>地位：是数据库系统模式结构的中间层</li>
<li>定义：数据的逻辑结构（数据项的名字、类型、取值范围等）| 数据之间的联系| 数据有关的安全性、完整性要求</li>
</ul>
</li>
<li><strong>外模式（External Schema）</strong>（也称子模式或用户模式）<ul>
<li>数据库用户（包括应用程序员和最终用户）使用的局部数据的逻辑结构和特征的描述，数据库用户的数据视图，是与某一应用有关的数据的逻辑表示</li>
<li>地位：介于模式与应用之间</li>
<li>关系：模式-&gt;外模式||外模式-&gt;应用：一对多</li>
<li>每个用户只能看见和访问所对应的外模式中的数据</li>
</ul>
</li>
<li><strong>内模式（Internal Schema）</strong>（也称存储模式）<ul>
<li>是数据物理结构和存储方式的描述</li>
<li>是数据在数据库内部的表示方式</li>
<li>一个数据库只有一个内模式</li>
</ul>
</li>
</ul>
<h3 id="二级映像功能与数据独立性！！！"><a href="#二级映像功能与数据独立性！！！" class="headerlink" title="二级映像功能与数据独立性！！！"></a>二级映像功能与数据独立性！！！</h3><p>三级模式是对数据的三个抽象级别，二级映象在DBMS内部实现这三个抽象层次的联系和转换。</p>
<ul>
<li><strong>外模式/模式映像</strong>：<ul>
<li>模式：描述的是数据的全局逻辑结构；外模式：描述的是数据的局部逻辑结构 </li>
<li>同一个模式可以有任意多个外模式；每一个外模式，数据库系统都有一个外模式／模式映像，定义外模式与模式之间的对应关系</li>
<li>映象定义通常包含在各自外模式的描述中</li>
<li><strong>保证数据的逻辑独立性</strong>：当模式改变时，数据库管理员修改有关的外模式／模式映象，使外模式保持不变；应用程序是依据数据的外模式编写的，从而应用程序不必修改</li>
</ul>
</li>
<li><strong>模式/内模式映像</strong>：<ul>
<li>定义了数据全局逻辑结构与存储结构之间的对应关系</li>
<li>数据库中模式／内模式映象是唯一的</li>
<li>该映象定义通常包含在模式描述中</li>
<li><strong>保证数据的物理独立性</strong>：当数据库的存储结构改变了（例如选用了另一种存储结构），数据库管理员修改模式／内模式映象，使模式保持不变；应用程序不受影响</li>
</ul>
</li>
</ul>
<p>数据与程序之间的独立性，使得数据的定义和描述可以从应用程序中分离出去 </p>
<h1 id="二-关系数据库"><a href="#二-关系数据库" class="headerlink" title="二 关系数据库"></a>二 关系数据库</h1><h2 id="关系数据结构及形式化定义"><a href="#关系数据结构及形式化定义" class="headerlink" title="关系数据结构及形式化定义"></a>关系数据结构及形式化定义</h2><ul>
<li>关系<ul>
<li>单一的数据结构；现实世界的实体以及实体间的各种联系均用关系来表示</li>
<li>域：一组具有相同数据类型的值的集合</li>
<li>笛卡尔积：域上的一种集合运算。n元组、分量、基数</li>
<li>关系：<ul>
<li>目或度（n目关系必有n个属性）</li>
<li>候选码：唯一地标识一个元组</li>
<li>主码、主属性/非主属性、全码</li>
</ul>
</li>
<li>三类关系：基本关系、查询表、视图表</li>
<li>基本关系的性质：<ul>
<li>列是同质的，值来自同一个域；不同的列可以出自同一个域</li>
<li>列/行的次序可任意交换</li>
<li>任意两个元组的候选码不能取相同的值</li>
<li>分量必须取原子值</li>
</ul>
</li>
</ul>
</li>
<li>关系模式<ul>
<li>关系是关系模式在某一时刻的状态或内容；关系模式是型，关系是值，是关系模式的实例</li>
</ul>
</li>
<li>关系数据库</li>
</ul>
<h2 id="关系操作！！！"><a href="#关系操作！！！" class="headerlink" title="关系操作！！！"></a>关系操作！！！</h2><ul>
<li>常用的关系操作<ul>
<li><strong>查询</strong>：选择、投影、连接、除并交差</li>
<li>更新：<strong>插入</strong>、<strong>删除</strong>、<strong>修改</strong></li>
<li>选择、投影、并、差、笛卡尔积是5种基本操作</li>
</ul>
</li>
<li>特点<ul>
<li>集合操作方式：操作的对象和结果都是集合，一次一集合的方式</li>
</ul>
</li>
</ul>
<h2 id="关系的完整性！！！"><a href="#关系的完整性！！！" class="headerlink" title="关系的完整性！！！"></a>关系的完整性！！！</h2><ul>
<li><strong>实体完整性</strong><ul>
<li>若属性<em>A</em>是基本关系<em>R</em>的主属性，则属性<em>A</em>不能取空值</li>
<li>实体完整性规则是针对基本关系而言的。一个基本表通常对应现 实世界的一个实体集</li>
<li>关系模型中<strong>以主码作为唯一性标识</strong></li>
</ul>
</li>
<li><strong>参照完整性</strong><ul>
<li>关系间的引用</li>
<li>外码</li>
<li>参照完整性规则：<strong>或取空值或等于S中某个元组的主码值</strong></li>
</ul>
</li>
<li><strong>用户定义的完整性</strong><ul>
<li>针对某一具体关系数据库的约束条件，它反映某一具体应用所涉及的数据必须满足的语义要求</li>
</ul>
</li>
</ul>
<h1 id="三-关系数据库标准语言SQL！！！"><a href="#三-关系数据库标准语言SQL！！！" class="headerlink" title="三 关系数据库标准语言SQL！！！"></a>三 关系数据库标准语言SQL！！！</h1><h2 id="SQL概述"><a href="#SQL概述" class="headerlink" title="SQL概述"></a>SQL概述</h2><p>SQL集<strong>数据查询</strong>、<strong>数据操纵</strong>、<strong>数据定义</strong>、<strong>数据控制</strong>功能于一体</p>
<ul>
<li>综合统一：DDL+DML+DCL</li>
<li>高度非过程化</li>
<li>面向集合的操作方式</li>
<li>以同一种语法结构提供多种使用方式</li>
<li>语言简洁，易学易用</li>
</ul>
<p>用户可用SQL对基本表和视图进行查询或其他操作，基本表和视图一样都是关系</p>
<ul>
<li><strong>基本表是本身独立存在的表</strong>。一个关系对应一个基本表；一个或多个基本表对应一个存储文件；一个表可带若干索引</li>
<li>存储文件的逻辑结构组成了关系数据库的内模式</li>
<li><strong>视图是从一个或几个基本表导出的表。它本身不独立存储在数据库中</strong>；即数据库只存放视图的定义；视图是一个虚表；用户可以在视图上再定义视图</li>
</ul>
<h2 id="数据定义"><a href="#数据定义" class="headerlink" title="数据定义"></a>数据定义</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*创建*/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span>/<span class="keyword">TABLE</span>/<span class="keyword">VIEW</span>/<span class="keyword">INDEX</span>;</span><br><span class="line"><span class="comment">/*删除*/</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">SCHEMA</span>/<span class="keyword">TABLE</span>/<span class="keyword">VIEW</span>/<span class="keyword">INDEX</span>;</span><br><span class="line"><span class="comment">/*修改*/</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span>/<span class="keyword">INDEX</span>;</span><br></pre></td></tr></table></figure>
<p>定义模式实际上定义了一个命名空间。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">SCHEMA</span> &lt;模式名&gt; AUTHORIZATION &lt;用户名&gt; [&lt;表定义子句&gt;|&lt;视图定义子句&gt;|&lt;授权定义子句&gt;];</span><br><span class="line"><span class="comment">/*CASCADE（级联）删除模式时也删除该模式中所有的数据库对象*/</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">SCHEMA</span> &lt;模式名&gt; &lt;<span class="keyword">CASCADE</span>|RESTRICT&gt;;</span><br></pre></td></tr></table></figure>
<p>数据类型：</p>
<ul>
<li>CHAR(n) | VARCHAR(n)</li>
<li>INT | SMALLINT</li>
<li>NUMERIC(p,d)：定点数，由p位数字（不包括符号、小数点）组成，小数后面有d位数字</li>
<li>REAL：取决于机器精度的浮点数</li>
<li>DOUBLE PRECISION</li>
<li>FLOAT(n)</li>
<li>DATE | TIME</li>
<li>CLOB | BLOB</li>
</ul>
<p>修改基本表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> &lt;表名&gt;</span><br><span class="line">	[<span class="keyword">ADD</span> [<span class="keyword">COLUMN</span>] &lt;新列名&gt; &lt;数据类型&gt; []]</span><br><span class="line">	[<span class="keyword">ADD</span> &lt;表级完整性约束&gt;]</span><br><span class="line">	[<span class="keyword">DROP</span> [<span class="keyword">COLUMN</span>] &lt;列名&gt; [<span class="keyword">CASCADE</span>|RESTRICT]]</span><br><span class="line">	[<span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> &lt;完整性约束名&gt; [<span class="keyword">CASCADE</span>|RESTRICT]]</span><br><span class="line">	[<span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> &lt;列名&gt; &lt;数据类型&gt;]</span><br></pre></td></tr></table></figure>
<p>建立索引的目的：加快查询速度。DBMS一般会自动建立以下列上的索引<br><code>PRIMARY  KEY</code>，<code>UNIQUE</code>。</p>
<p>RDBMS中索引一般采用B+树（动态平衡）、HASH索引（查找速度快）来实现</p>
<p>索引是关系数据库的内部实现技术，属于内模式的范畴</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">UNIQUE</span>] [CLUSTER] <span class="keyword">INDEX</span> &lt;索引名&gt; </span><br><span class="line">	<span class="keyword">ON</span> &lt;表名&gt; ( &lt;列名&gt;[&lt;次序&gt;][,&lt;列名&gt;[&lt;次序&gt;]]… );</span><br></pre></td></tr></table></figure>
<p><strong>数据字典！</strong></p>
<p>数据字典是关系数据库管理系统内部的一组系统表，它记录了数据库中所有的定义信息，包括关系模式定义、视图定义、索引定义、完整性约束定义、各类用户对数据库的操作权限、统计信息等。</p>
<h2 id="数据查询！！！"><a href="#数据查询！！！" class="headerlink" title="数据查询！！！"></a>数据查询！！！</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> [<span class="keyword">ALL</span>|<span class="keyword">DISTINCT</span>] &lt;目标列表达式&gt; [，&lt;目标列表达式&gt;] …</span><br><span class="line"><span class="keyword">FROM</span> &lt;表名或视图名&gt;[， &lt;表名或视图名&gt; ] … </span><br><span class="line">	[ <span class="keyword">WHERE</span> &lt;条件表达式&gt; ]</span><br><span class="line">	[ <span class="keyword">GROUP</span> <span class="keyword">BY</span> &lt;列名<span class="number">1</span>&gt; [ <span class="keyword">HAVING</span> &lt;条件表达式&gt; ] ]</span><br><span class="line">	[ <span class="keyword">ORDER</span> <span class="keyword">BY</span> &lt;列名<span class="number">2</span>&gt; [ <span class="keyword">ASC</span>|<span class="keyword">DESC</span> ] ];</span><br></pre></td></tr></table></figure>
<ul>
<li><p>单表查询</p>
<ul>
<li>选择表中的若干列<ul>
<li><code>SELECT * FROM Student;</code></li>
<li><code>SELECT Sname NAME, &#39;Year of Birth:&#39; BIRTH, 2000-Sage BIRTHDAY, LOWER(Sdept) DEPARTMENT FROM Student；</code></li>
</ul>
</li>
<li>选择表中的若干元组<ul>
<li>去掉表中重复的行：<code>SELECT DISTINCT Sno FROM SC;</code></li>
<li><code>BETWEEN...AND...</code>，<code>NOT BETWEEN...AND...</code></li>
<li>IN &lt;值表&gt;,  NOT IN &lt;值表&gt; </li>
<li>[NOT] LIKE  ‘&lt;匹配串&gt;’  [ESCAPE ‘ &lt;换码字符&gt;’]</li>
<li>AND，OR，NOT</li>
</ul>
</li>
<li>ORDER BY子句：<code>ASC</code>升序；<code>DESC</code>降序；缺省值为升序</li>
<li>聚集函数<ul>
<li><code>COUNT</code>、<code>SUM</code>、<code>AVG</code>、<code>MAX</code>、<code>MIN</code></li>
<li>WHERE子句中不能用聚集函数作为条件表达式，只能用于SELECT子句和GROUP BY中的 HAVING子句</li>
</ul>
</li>
<li>GROUP BY子句<ul>
<li>将查询结果按某一列或多列的值分组，值相等为一组</li>
<li>细化聚集函数的作用对象</li>
<li><code>SELECT Sno FROM SC GROUP BY Sno HAVING COUNT(*)&gt;3</code></li>
<li>WHERE子句作用于基本表或视图，HAVING短语作用于组</li>
</ul>
</li>
</ul>
</li>
<li><p>连接查询</p>
<ul>
<li>等值/非等值连接：嵌套循环连接算法</li>
<li>自然连接：把目标列中重复的属性去掉</li>
<li>自身连接：必须使用别名前缀；例如先修课</li>
<li>外连接：LEFT/RIGHT OUT JOIN</li>
</ul>
</li>
<li><p>嵌套查询</p>
<ul>
<li>子查询不能使用ORDER BY子句</li>
<li>IN、比较运算符、ANY(SOME)  ALL、EXISTS</li>
<li>用EXISTS/NOT EXISTS实现全称量词(难点)</li>
<li>用EXISTS/NOT EXISTS实现逻辑蕴函(难点)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*查询选修了全部课程的学生姓名。*/</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">     (<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> Course</span><br><span class="line">       <span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">           (<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> SC</span><br><span class="line">            <span class="keyword">WHERE</span> Sno= Student.Sno <span class="keyword">AND</span> Cno= Course.Cno</span><br><span class="line">            )</span><br><span class="line">      );</span><br><span class="line"><span class="comment">/*查询至少选修了学生200215122选修的全部课程的学生号码。*/</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Sno <span class="keyword">FROM</span> SC SCX</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">	 (<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> SC SCY</span><br><span class="line">      <span class="keyword">WHERE</span> SCY.Sno=<span class="string">'200215122'</span> <span class="keyword">AND</span> </span><br><span class="line">      <span class="keyword">NOT</span> <span class="keyword">EXISTS</span></span><br><span class="line">     	   (<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> SC SCZ</span><br><span class="line">            <span class="keyword">WHERE</span> SCZ.Sno=SCX.Sno <span class="keyword">AND</span> SCZ.Cno=SCY.Cno</span><br><span class="line">           )</span><br><span class="line">     );</span><br></pre></td></tr></table></figure>
</li>
<li><p>集合查询</p>
<ul>
<li><p>并：UNION</p>
</li>
<li><p>交：INTERSECT</p>
</li>
<li>差：EXCEPT</li>
</ul>
</li>
</ul>
<h2 id="数据更新"><a href="#数据更新" class="headerlink" title="数据更新"></a>数据更新</h2><ul>
<li>插入数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> &lt;表名&gt; [(&lt;属性列<span class="number">1</span>&gt;[，&lt;属性列<span class="number">2</span> &gt;…)]</span><br><span class="line">            <span class="keyword">VALUES</span> (&lt;常量<span class="number">1</span>&gt; [，&lt;常量<span class="number">2</span>&gt;]…);</span><br><span class="line">                   </span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> &lt;表名&gt; [(&lt;属性列<span class="number">1</span>&gt;[，&lt;属性列<span class="number">2</span> &gt;…)] 子查询;</span><br></pre></td></tr></table></figure>
<ul>
<li>修改数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> &lt;表名&gt;</span><br><span class="line"><span class="keyword">SET</span> &lt;列名&gt;=&lt;表达式&gt; [,&lt;列名&gt;=&lt;表达式&gt;] … [<span class="keyword">WHERE</span> &lt;条件&gt;];</span><br></pre></td></tr></table></figure>
<ul>
<li>删除数据</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> &lt;表名&gt; [<span class="keyword">WHERE</span> &lt;条件&gt;];</span><br></pre></td></tr></table></figure>
<h2 id="视图！！！"><a href="#视图！！！" class="headerlink" title="视图！！！"></a>视图！！！</h2><p>视图是用户查看数据库中数据的一种方式。<br>视图是一种逻辑对象，不占用物理空间，其作用相当于查询，所包含的列和行的数据只是来源于视图所查询的表。</p>
<ul>
<li><strong>视图和基本表的区别！！！</strong><ul>
<li><strong>基本表中的数据是物理存在的，并存储在存储介质上，而视图本身没有存储任何实际数据，只是一种逻辑对象，它所有的数据通过引用基本表反映出来。</strong></li>
<li><strong>视图确定的行和列可以是一个基本表中行的子集或列的子集；可以是多个基本表的联接；可以是由基本表进行运算汇总的结果；可以是另外一个视图的子集；也可以是视图与基本表之间的组合。</strong></li>
</ul>
</li>
<li>视图的特点<ul>
<li>虚表，是从一个或几个基本表（或视图）导出的表</li>
<li>只存放视图的定义，不存放视图对应的数据</li>
<li>基表中的数据发生变化，从视图中查询出的数据也随之改变</li>
</ul>
</li>
<li><strong>视图的作用！</strong><ul>
<li>简化用户的操作</li>
<li>使用户能以多种角度看待同一数据</li>
<li>对重构数据库提供了一定程度的逻辑独立性</li>
<li>能够对机密数据提供安全保护</li>
<li>适当的利用视图可以更清晰的表达查询</li>
</ul>
</li>
<li>基本表的行列子集视图一般是可更新的；若视图来自聚集函数、表达式，则不可更新</li>
</ul>
<p>定义视图</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> &lt;视图名&gt; [(&lt;列名&gt; [，&lt;列名&gt;]…)]</span><br><span class="line">	<span class="keyword">AS</span> &lt;子查询&gt;</span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">CHECK</span> <span class="keyword">OPTION</span>];</span><br><span class="line"><span class="comment">/**/</span></span><br></pre></td></tr></table></figure>
<h1 id="四-数据库安全性"><a href="#四-数据库安全性" class="headerlink" title="四 数据库安全性"></a>四 数据库安全性</h1><p>保护数据库以防止不合法的使用所造成的数据泄露、更改或破坏。</p>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">安全级别</th>
<th style="text-align:left">定义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">A1</td>
<td style="text-align:left">验证设计（Verified Design）</td>
</tr>
<tr>
<td style="text-align:center">B3</td>
<td style="text-align:left">安全域（Security Domains）</td>
</tr>
<tr>
<td style="text-align:center">B2</td>
<td style="text-align:left">结构化保护（Structural Protection）</td>
</tr>
<tr>
<td style="text-align:center">B1</td>
<td style="text-align:left">标记安全保护（Labeled Security Protection）</td>
</tr>
<tr>
<td style="text-align:center">C2</td>
<td style="text-align:left">受控的存取保护（Controlled Access Protection）</td>
</tr>
<tr>
<td style="text-align:center">C1</td>
<td style="text-align:left">自主安全保护（Discretionary Security Protection）</td>
</tr>
<tr>
<td style="text-align:center">D</td>
<td style="text-align:left">最小保护（Minimal Protection）</td>
</tr>
</tbody>
</table>
</div>
<p>C1：能实现对用户和数据的分离，进行<strong>自主存取控制（DAC）</strong>，保护或限制用户权限的传播。</p>
<p>B1：对标记的主体和客体实施<strong>强制存取控制（MAC）</strong>以及审计等安全机制。</p>
<h2 id="安全性控制！！！"><a href="#安全性控制！！！" class="headerlink" title="安全性控制！！！"></a>安全性控制！！！</h2><ul>
<li><p>用户标识与鉴别（Identification &amp;  Authentication）</p>
<ul>
<li>系统提供的最外层安全保护措施</li>
<li>用户标识：用户名、用户标识号</li>
<li>常用鉴别方法</li>
</ul>
</li>
<li><p>存取控制</p>
<ul>
<li>组成：定义用户权限、合法权限检查</li>
<li>用户权限定义和合法权检查机制一起组成了  DBMS的安全子系统</li>
</ul>
</li>
<li><p><strong>自主存取控制方法！！！</strong></p>
<ul>
<li>通过 SQL 的 <code>GRANT</code> 语句和 <code>REVOKE</code> 语句实现</li>
<li>用户权限组成：数据对象、操作类型</li>
<li>定义存取权限称为授权 </li>
</ul>
</li>
<li><p><strong>强制存取控制方法！！！</strong></p>
<ul>
<li>保证更高程度的安全性；用户能不能直接感知或进行控制</li>
<li>主体是系统中的活动实体（DBMS所管理的实际用户、代表用户的各进程）；客体是系统中的被动实体，受主体操纵（文件、基表、索引、视图）</li>
<li>敏感度标记（Label）：<ul>
<li>绝密（Top Secret）机密（Secret）可信（Confidential）公开（Public）</li>
<li>主体的敏感度标记称为许可证级别（Clearance Level）；客体的敏感度标记称为密级（Classification Level）。</li>
</ul>
</li>
<li><strong>强制存取控制规则</strong><ul>
<li>仅当主体的许可证级别 ≧ 客体的密级时，该主体才能<strong>读取</strong>相应的客体</li>
<li>仅当主体的许可证级别 ≦ 客体的密级时，该主体才能<strong>写</strong>相应的客体</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>授权与回收！！！</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*将对指定操作对象的指定操作权限授予指定的用户 */</span></span><br><span class="line"><span class="keyword">GRANT</span> &lt;权限&gt; [,&lt;权限&gt;]...</span><br><span class="line">	[<span class="keyword">ON</span> &lt;对象类型&gt; &lt;对象名&gt;]</span><br><span class="line">	<span class="keyword">TO</span> &lt;用户&gt; [,&lt;用户&gt;]...</span><br><span class="line">[<span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>];  <span class="comment">/*指定则获取该权限用户可再授予*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*把对Student表和Course表的全部权限授予用户U2和U3*/</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILIGES </span><br><span class="line">      <span class="keyword">ON</span> <span class="keyword">TABLE</span> Student, Course </span><br><span class="line">      <span class="keyword">TO</span> U2, U3;</span><br><span class="line"><span class="comment">/*把对表SC的INSERT权限授予U5用户并允许他再将此权限授予其他用户*/</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">INSERT</span> </span><br><span class="line">    <span class="keyword">ON</span> <span class="keyword">TABLE</span> SC </span><br><span class="line">    <span class="keyword">TO</span> U5</span><br><span class="line"><span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br><span class="line"><span class="comment">/*把对表SC的查询权限授予所有用户*/</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> <span class="keyword">TABLE</span> SC <span class="keyword">TO</span> <span class="keyword">PUBLIC</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> &lt;权限&gt; [,&lt;权限&gt;]...</span><br><span class="line">	[<span class="keyword">ON</span> &lt;对象类型&gt; &lt;对象名&gt;]</span><br><span class="line">	<span class="keyword">FROM</span> &lt;用户&gt; [,&lt;用户&gt;]...;</span><br><span class="line">	</span><br><span class="line"><span class="comment">/*把用户U5对SC表的INSERT权限收回*/</span></span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">INSERT</span></span><br><span class="line">	<span class="keyword">ON</span> <span class="keyword">TABLE</span> SC</span><br><span class="line">	<span class="keyword">FROM</span> U5 <span class="keyword">CASCADE</span>; </span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *将用户U5的INSERT权限收回的时候必须级联（CASCADE）收回,</span></span><br><span class="line"><span class="comment"> *系统只收回直接或间接从U5处获得的权限 </span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="视图机制"><a href="#视图机制" class="headerlink" title="视图机制"></a>视图机制</h2><p>把要保密的数据对无权存取这些数据的用户隐藏起来，对数据提供一定程度的安全保护 。</p>
<h2 id="审计"><a href="#审计" class="headerlink" title="审计"></a>审计</h2><ul>
<li>审计事件</li>
<li>审计功能</li>
<li>AUDIT 和 NOT AUDIT 语句</li>
</ul>
<h2 id="数据加密"><a href="#数据加密" class="headerlink" title="数据加密"></a>数据加密</h2><ul>
<li>存储加密</li>
<li>传输加密</li>
</ul>
<h2 id="统计数据库安全性"><a href="#统计数据库安全性" class="headerlink" title="统计数据库安全性"></a>统计数据库安全性</h2><h1 id="五-完整性！！！"><a href="#五-完整性！！！" class="headerlink" title="五 完整性！！！"></a>五 完整性！！！</h1><ul>
<li>数据库的完整性：指数据的正确性和相容性</li>
<li>完整性和安全性区别：<ul>
<li>完整性：防止数据库中存在不符合语义的数据</li>
<li>安全性：保护数据库防止恶意的破坏和非法的存取</li>
</ul>
</li>
<li>维护数据库完整性，DBMS：<ul>
<li>提供定义完整性约束条件的机制</li>
<li>提供完整性检查的方法</li>
<li>违约处理</li>
</ul>
</li>
</ul>
<h2 id="实体-完整性！！！"><a href="#实体-完整性！！！" class="headerlink" title="实体 完整性！！！"></a>实体 完整性！！！</h2><ul>
<li>关系模型的实体完整性在CREATE TABLE 中用 <code>PRIMARY KEY</code> 定义</li>
<li>列级约束条件/表级约束条件</li>
<li>检查<ul>
<li>主码值是否唯一（方法：全表扫描）</li>
<li>主码的各个属性是否为空</li>
</ul>
</li>
</ul>
<h2 id="参照-完整性！！！"><a href="#参照-完整性！！！" class="headerlink" title="参照 完整性！！！"></a>参照 完整性！！！</h2><ul>
<li><code>FOREIGN KEY</code>定义哪些列为外码；<code>REFERENCES</code>指明这些外码参照哪些表的主码</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">被参照表（例如Student）</th>
<th style="text-align:left">参照表（例如SC）</th>
<th>违约处理</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">可能破坏参照完整性</td>
<td style="text-align:left">&lt;—插入元组</td>
<td>拒绝</td>
</tr>
<tr>
<td style="text-align:left">可能破坏参照完整性</td>
<td style="text-align:left">&lt;—修改外码值</td>
<td>拒绝</td>
</tr>
<tr>
<td style="text-align:left">删除元组  —&gt;</td>
<td style="text-align:left">可能破坏参照完整性</td>
<td>拒绝/级连删除/设置为空值</td>
</tr>
<tr>
<td style="text-align:left">修改主码值  —&gt;</td>
<td style="text-align:left">可能破坏参照完整性</td>
<td>拒绝/级连修改/设置为空值</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>参照完整性违约处理<ul>
<li>拒绝（NO ACTION）执行：默认策略</li>
<li>级联（CASCADE）操作</li>
<li>设置为空值（SET-NULL）：对于参照完整性，除了应该定义外码，还应定义外码列是否允许空值</li>
</ul>
</li>
</ul>
<h2 id="用户定义的-完整性！！！"><a href="#用户定义的-完整性！！！" class="headerlink" title="用户定义的 完整性！！！"></a>用户定义的 完整性！！！</h2><ul>
<li>针对某一具体应用的数据必须满足的语义要求</li>
<li>属性上的约束条件<ul>
<li>定义：<code>NOT NULL</code>、<code>UNIQUE</code>、<code>CHECK</code></li>
<li>检查和违约处理：插入元组或修改属性的值时，RDBMS检查属性上的约束条件是否被满足，不满足则操作被拒绝执行 </li>
</ul>
</li>
<li>元组上的约束条件<ul>
<li>定义：可以用<code>CHECK</code>短语定义元组上的约束条件，即元组级的限制（可以设置不同属性之间的取值的相互约束条件 ）</li>
<li>检查和违约处理：同上</li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*CONSTRAINT约束*/</span></span><br><span class="line">CONSTRAINT &lt;完整性约束条件名&gt; [PRIMARY 短语 | FOREIGN 短语 | CHECK 短语]</span><br><span class="line"><span class="comment">/*ALTER TABLE 修改*/</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> St <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> C1 <span class="keyword">CHECK</span> ...;</span><br></pre></td></tr></table></figure>
<h1 id="六-关系数据理论"><a href="#六-关系数据理论" class="headerlink" title="六 关系数据理论"></a>六 关系数据理论</h1><ul>
<li>数据依赖：<ul>
<li>一个关系内部属性与属性之间的一种约束关系</li>
<li>函数依赖（FD）/多值依赖（MVD）/其他</li>
</ul>
</li>
</ul>
<h2 id="规范化"><a href="#规范化" class="headerlink" title="规范化"></a>规范化</h2><p>用来改造关系模式，通过分解关系模式来消除其中不合适的数据依赖，以解决插入异常、删除异常、更新异常和数据冗余问题。</p>
<h3 id="函数依赖！"><a href="#函数依赖！" class="headerlink" title="函数依赖！"></a><strong>函数依赖！</strong></h3><ul>
<li>定义</li>
<li>非平凡的函数依赖 / 平凡的函数依赖</li>
<li>完全函数依赖(F) / 部分函数依赖(P)</li>
<li>传递函数依赖 （ / 直接依赖）</li>
</ul>
<h3 id="范式！！！"><a href="#范式！！！" class="headerlink" title="范式！！！"></a><strong>范式！！！</strong></h3><ul>
<li><p>规范化</p>
<ul>
<li>一个低一级范式的关系模式，通过模式分解可以转换为若干个高一级范式的关系模式的集合</li>
</ul>
</li>
<li><p>第一范式(1NF)</p>
<ul>
<li>每一个分量必须是不可分的数据项</li>
</ul>
</li>
<li><p>第二范式(2NF)</p>
<ul>
<li>若R∈1NF，且每一个非主属性<strong>完全函数依赖</strong>于码，则R∈2NF</li>
<li><strong>投影分解法</strong></li>
</ul>
</li>
<li><p>第三范式(3NF)</p>
<ul>
<li>若R∈3NF，则每一个非主属性既<strong>不部分依赖</strong>于码也<strong>不传递依赖</strong>于码</li>
</ul>
</li>
<li><p>BC范式(BCNF)</p>
<ul>
<li><p>每一个决定属性因素都包含码</p>
</li>
<li><p>所有非主属性对每一个码都是完全函数依赖</p>
<p>所有的主属性对每一个不包含它的码，也是完全函数依赖</p>
<p>没有任何属性完全函数依赖于非码的任何一组属性</p>
</li>
</ul>
</li>
</ul>
<h1 id="七-数据库设计！！！"><a href="#七-数据库设计！！！" class="headerlink" title="七 数据库设计！！！"></a>七 数据库设计！！！</h1><h3 id="基本步骤"><a href="#基本步骤" class="headerlink" title="基本步骤"></a>基本步骤</h3><ol>
<li><strong>需求分析</strong><ul>
<li>准确了解与分析用户需求（包括数据与处理）</li>
</ul>
</li>
<li><strong>概念结构设计</strong><ul>
<li>通过对用户需求进行综合、归纳与抽象，形成一个独立于具体DBMS的概念模型</li>
</ul>
</li>
<li><strong>逻辑结构设计</strong><ul>
<li>将概念结构转换为某个DBMS所支持的数据模型</li>
</ul>
</li>
<li><strong>物理结构设计</strong><ul>
<li>为数据模型选取一个最适合应用环境的物理结构（包括存储结构和存取方法）</li>
</ul>
</li>
<li><strong>数据库实施</strong><ul>
<li>运用DBMS提供的数据库语言及宿主语言根据逻辑设计和物理设计的结果 建立数据库；编制与调试应用程序；组织数据入库；进行试运行</li>
</ul>
</li>
<li><strong>数据库运行和维护</strong><ul>
<li>数据库应用系统经过试运行后即可投入正式运行</li>
<li>在数据库系统运行过程中必须不断地对其进行评价、调整与修改</li>
</ul>
</li>
</ol>
<h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><p><strong>数据字典！</strong></p>
<ul>
<li>用途：进行详细的数据收集和数据分析所获得的主要结果</li>
<li>内容<ul>
<li>数据项：不可再分的数据单位</li>
<li>数据结构：反映了数据之间的组合关系</li>
<li>数据流：数据结构在系统内传输的路径</li>
<li>数据存储：数据结构停留或保存的地方，也是数据流的来源和去向之一</li>
<li>处理过程：具体处理逻辑一般用判定表或判定树来描述</li>
</ul>
</li>
<li>数据字典是关于数据库中数据的描述，是元数据，而不是数据本身</li>
</ul>
<h3 id="概念结构设计！！！"><a href="#概念结构设计！！！" class="headerlink" title="概念结构设计！！！"></a>概念结构设计！！！</h3><ul>
<li>步骤<ul>
<li>抽象数据并设计局部视图 （常用抽象：分类 | 聚集 | 概括）</li>
<li>集成局部视图，得到全局概念结构</li>
<li>验证整体概念结构</li>
</ul>
</li>
<li>设计局部视图<ul>
<li>选择局部应用</li>
<li>逐一设计分E-R图<ul>
<li>标定局部应用中的实体、属性、码，实体间的联系（1:1 | 1:n | m:n）</li>
<li>用E-R图描述出来</li>
</ul>
</li>
</ul>
</li>
<li>集成局部视图<ul>
<li>合并分E-R图，生成初步E-R图（冲突：属性 | 命名 | 结构）</li>
<li>修改与重构（消除不必要的冗余，设计生成基本E-R图）</li>
</ul>
</li>
</ul>
<p><strong>E-R图：实体型用矩形，属性用椭圆形，联系用菱形</strong></p>
<p><strong>属性不能再具有描述的性质，不能与其他实体具有联系。</strong></p>
<h3 id="逻辑结构设计"><a href="#逻辑结构设计" class="headerlink" title="逻辑结构设计"></a>逻辑结构设计</h3><p>把概念结构设计阶段设计好的基本E-R图转换为与选用DBMS产品所支持的数据模型相符合的逻辑结构。</p>
<ul>
<li>步骤：<ul>
<li>将概念结构转化为一般的关系、网状、层次模型</li>
<li>将转换来的关系、网状、层次模型向特定DBMS支持下的数据模型转换</li>
<li>对数据模型进行优化</li>
</ul>
</li>
<li>E-R图向关系模型的转换</li>
<li>数据模型的优化<ul>
<li>确定数据依赖</li>
<li>消除 冗余的联系</li>
<li>确定所属范式</li>
<li>分析对于这样的应用环境这些模式是否合适，确定是否进行合并或分解</li>
<li>对关系模式进行必要的分解（水瓶分解 | 垂直分解）</li>
</ul>
</li>
<li>设计用户子模式<ul>
<li>使用更符合用户习惯的别名</li>
<li>针对不同级别的用户定义不同的外模式，以满足系统对安全性的要求。</li>
<li>简化用户对系统的使用</li>
</ul>
</li>
</ul>
<h1 id="十-数据库恢复技术！！！"><a href="#十-数据库恢复技术！！！" class="headerlink" title="十 数据库恢复技术！！！"></a>十 数据库恢复技术！！！</h1><h2 id="事务的基本概念！！！"><a href="#事务的基本概念！！！" class="headerlink" title="事务的基本概念！！！"></a>事务的基本概念！！！</h2><ul>
<li>定义<ul>
<li>用户定义的一个<strong>数据库操作序列</strong>，这些操作要么全做要么全不做，是一个不可分割的单位。</li>
</ul>
</li>
<li>事务和程序<ul>
<li>在关系数据库中，一个事务可以是一条或多条SQL语句,也可以包含一个或多个程序。一个程序通常包含多个事务。</li>
</ul>
</li>
<li><code>BEGIN TRANSACTION</code>、<code>COMMIT</code>、<code>ROLLBACK</code></li>
<li>ACID特性<ul>
<li><strong>原子性</strong>、<strong>一致性</strong>、<strong>隔离性</strong>、<strong>持续性</strong></li>
</ul>
</li>
</ul>
<h2 id="故障的种类"><a href="#故障的种类" class="headerlink" title="故障的种类"></a>故障的种类</h2><ul>
<li>事务内部的故障<ul>
<li>有的是可以通过事务程序本身发现的</li>
<li>有的是非预期的：运算溢出，并发事务发生死锁而被选中撤销该事务，违反了某些完整性限制等</li>
<li>恢复：撤消事务（UNDO）</li>
</ul>
</li>
<li>系统故障（软故障）<ul>
<li>指造成系统停止运转的任何事件，使得系统要重新启动。<ul>
<li>整个系统的正常运行突然被破坏</li>
<li>所有正在运行的事务都非正常终止</li>
<li>不破坏数据库</li>
<li>内存中数据库缓冲区的信息全部丢失</li>
</ul>
</li>
<li>常见原因<ul>
<li>特定类型的硬件错误（如CPU故障）</li>
<li>操作系统故障</li>
<li>DBMS代码错误</li>
<li>系统断电</li>
</ul>
</li>
<li>恢复<ul>
<li>强行撤消（UNDO）所有未完成事务</li>
<li>重做（REDO）所有已提交的事务</li>
</ul>
</li>
</ul>
</li>
<li>介质故障（硬故障）<ul>
<li>磁盘损坏、磁头碰撞、操作系统的某种潜在错误、瞬时强磁场干扰</li>
<li>恢复<ul>
<li>装入数据库发生介质故障前某个时刻的数据副本</li>
<li>重做自此时始的所有成功事务，将这些事务已提交的结果重新记入数据库</li>
</ul>
</li>
</ul>
</li>
<li>计算机病毒</li>
</ul>
<h2 id="恢复的实现技术"><a href="#恢复的实现技术" class="headerlink" title="恢复的实现技术"></a>恢复的实现技术</h2><p>原理：利用存储在系统其它地方的冗余数据来重建数据库中已被破坏或不正确的那部分数据</p>
<ul>
<li>如何建立冗余数据<ul>
<li>数据转储（backup）</li>
<li>登录日志文件（logging）</li>
</ul>
</li>
<li>数据转储<ul>
<li>定义：指DBA将整个数据库复制到磁带或另一个磁盘上保存起来的过程，备用的数据称为后备副本或后援副本</li>
<li>静态转储与动态转储</li>
<li>海量转储与增量转储</li>
</ul>
</li>
<li>日志文件<ul>
<li>定义：是用来记录事务对数据库的更新操作的文件</li>
<li>格式：以 记录 / 数据块 为单位</li>
<li>记录 内容：事务标识、操作类型、操作对象、更新前数据的旧值、更新后数据的新值</li>
<li>数据块 内容：事务标识、被更新的数据块</li>
<li>作用：进行事务故障恢复、系统故障恢复、协助后备副本进行介质故障恢复</li>
<li>登记日志文件必须<strong>先写日志文件，后写数据库</strong></li>
</ul>
</li>
</ul>
<h2 id="恢复策略！！！"><a href="#恢复策略！！！" class="headerlink" title="恢复策略！！！"></a>恢复策略！！！</h2><ol>
<li><strong>事务故障的恢复</strong><ul>
<li>方法：由恢复子系统利用日志文件撤消（UNDO）此事务对数据库进行的修改</li>
<li>步骤：<ol>
<li>反向扫描文件日志，查找该事务的更新操作</li>
<li>对该事务的更新操作执行逆操作</li>
<li>继续反向扫描日志文件，查找该事务的其他更新操作，并做同样处理</li>
<li>如此处理下去，直至读到此事务的开始标记，事务故障恢复完成</li>
</ol>
</li>
</ul>
</li>
<li><strong>系统故障的恢复</strong><ul>
<li>方法：UNDO、REDO</li>
<li>步骤：<ol>
<li>正向扫描日志文件</li>
<li>对撤销(Undo)队列事务进行撤销(UNDO)处理</li>
<li>对重做(Redo)队列事务进行重做(REDO)处理</li>
</ol>
</li>
</ul>
</li>
<li><strong>介质故障的恢复</strong><ul>
<li>方法：重装数据库、重做已完成的事务</li>
<li>步骤：<ol>
<li>装入最新的后备数据库副本 ，使数据库恢复到最近一次转储时的一致性状态</li>
<li>装入有关的日志文件副本(转储结束时刻的日志文件副本) ，重做已完成的事务</li>
</ol>
</li>
<li><strong>介质故障的恢复需要DBA介入</strong>；具体的恢复操作仍由DBMS完成</li>
</ul>
</li>
</ol>
<h1 id="十一-并发控制"><a href="#十一-并发控制" class="headerlink" title="十一 并发控制"></a>十一 并发控制</h1><h2 id="并发控制概述"><a href="#并发控制概述" class="headerlink" title="并发控制概述"></a>并发控制概述</h2><ul>
<li>并发操作导致：<ul>
<li>数据不一致性：<ul>
<li>丢失修改、不可重复读、读“脏”数据</li>
</ul>
</li>
<li>破坏了事务的隔离性</li>
</ul>
</li>
<li>主要技术：有封锁、时间戳、乐观控制法、多版本并发控制法</li>
</ul>
<h2 id="封锁"><a href="#封锁" class="headerlink" title="封锁"></a>封锁</h2><ul>
<li>定义：事务T在对某个数据对象（例如表、记录等）操作之前，先向系统发出请求，对其加锁</li>
<li>基本封锁类型<ul>
<li><strong>排它锁（X锁）</strong><ul>
<li>若事务T对数据对象A加上X锁，则只允许T读取和修改A，其它任何事务都不能再对A加任何类型的锁，直到T释放A上的锁</li>
<li>保证其他事务在T释放A上的锁之前不能再读取和修改A</li>
</ul>
</li>
<li><strong>共享锁（S锁）</strong><ul>
<li>若事务T对数据对象A加上S锁，则其它事务只能再对A加S锁，而不能加X锁，直到T释放A上的S锁</li>
<li>保证其他事务可以读A，但在T释放A上的S锁之前不能对A做任何修改</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="封锁协议"><a href="#封锁协议" class="headerlink" title="封锁协议"></a>封锁协议</h2><ul>
<li>一级封锁协议<ul>
<li>事务T在修改数据R之前必须先对其加X锁，直到事务结束才释放</li>
<li>防止丢失修改并保证事务T可恢复</li>
<li>不能保证可重复读和不读“脏”数据</li>
</ul>
</li>
<li>二级封锁协议<ul>
<li>一级基础上，增加事务T在读取数据R之前必须先对其加S锁，读完即可释放S锁</li>
<li>可进一步防止读“脏”数据</li>
<li>不保证可重复读</li>
</ul>
</li>
<li>三级封锁协议<ul>
<li>二级基础上，增加事务T在读取数据R之前必须先对其加S锁，直到事务结束才释放</li>
<li>进一步防止不可重复读</li>
</ul>
</li>
</ul>
<h2 id="活锁和死锁！！！"><a href="#活锁和死锁！！！" class="headerlink" title="活锁和死锁！！！"></a>活锁和死锁！！！</h2><ul>
<li>活锁<ul>
<li>永远等待</li>
<li>避免：先来先服务</li>
</ul>
</li>
<li>死锁<ul>
<li>永远不结束</li>
<li>预防死锁：<ul>
<li>一次封锁法：一次将所有要使用的数据全部加锁；降低系统并发度，难于事先精确确定封锁对象</li>
<li>顺序封锁法：预先对数据对象规定一个封锁顺序，所有事务都按这个顺序实行封锁；维护成本，难以实现</li>
</ul>
</li>
<li>诊断与解除<ul>
<li>诊断：超时法 | 事务等待图法</li>
<li>解除：撤销一个处理死锁代价最小的事务；释放此事务持有的所有的锁</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/JSbasis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/JSbasis/" class="post-title-link" itemprop="url">JS基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2020-06-04 01:30:33 / Modified: 01:36:20" itemprop="dateCreated datePublished" datetime="2020-06-04T01:30:33+08:00">2020-06-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Web/" itemprop="url" rel="index"><span itemprop="name">Web</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>因为专业实习，所以复习一下去年学的JS。</p>
<h1 id="基本了解"><a href="#基本了解" class="headerlink" title="基本了解"></a>基本了解</h1><p>JavaScript是一门完备的动态编程语言。当应用于HTML文档时，可为网站提供动态交互特性。</p>
<p>完整的JS实现由以下三部分组成：</p>
<ul>
<li>核心（ECMAScript）</li>
<li>文档对象模型DOM</li>
<li>浏览器对象模型BOM</li>
</ul>
<h1 id="变量（Variable）"><a href="#变量（Variable）" class="headerlink" title="变量（Variable）"></a>变量（Variable）</h1><p>存储值的容器。</p>
<h2 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">'smallp'</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="string">'smallp'</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">'smallp'</span></span><br></pre></td></tr></table></figure>
<p><code>var</code>和<code>let</code>的区别：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">  <span class="keyword">var</span> b = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a <span class="comment">// ReferenceError: a is not defined.</span></span><br><span class="line">b <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(foo); <span class="comment">// 输出undefined</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(bar); <span class="comment">// 报错ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> bar = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">变量</th>
<th style="text-align:left">解释</th>
<th style="text-align:left">示例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">String</td>
<td style="text-align:left">字符串的值必须用引号（单双均可，必须成对）扩起来。</td>
<td style="text-align:left"><code>let myVariable = &#39;李雷&#39;;</code></td>
</tr>
<tr>
<td style="text-align:left">Number</td>
<td style="text-align:left">无需引号。</td>
<td style="text-align:left"><code>let myVariable = 10;</code></td>
</tr>
<tr>
<td style="text-align:left">Boolean</td>
<td style="text-align:left"><code>true</code>/<code>false</code> 是 JS 里的特殊关键字，无需引号。</td>
<td style="text-align:left"><code>let myVariable = true;</code></td>
</tr>
<tr>
<td style="text-align:left">Array</td>
<td style="text-align:left">数组，用于在单一引用中存储多个值的结构。</td>
<td style="text-align:left"><code>let myVariable = [1, &#39;李雷&#39;, &#39;韩梅梅&#39;, 10];</code> 元素引用方法：<code>myVariable[0]</code>, <code>myVariable[1]</code> ……</td>
</tr>
<tr>
<td style="text-align:left">Object</td>
<td style="text-align:left">对象，JavaScript 里一切皆对象，一切皆可储存在变量里。这一点要牢记于心。</td>
<td style="text-align:left"><code>let myVariable = document.querySelector(&#39;h1&#39;);</code></td>
</tr>
<tr>
<td style="text-align:left">Undefined</td>
<td style="text-align:left">一个没有被赋值的变量会有个默认值 <code>undefined</code></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Null</td>
<td style="text-align:left">Null 类型只有一个值： <code>null</code>是一个字面量，表示缺少的标识，指示变量未指向任何对象。</td>
</tr>
</tbody>
</table>
</div>
<div class="note info"><p><code>typeof</code>是一个操作符返回一个字符串，表示未经计算的操作数的类型。<code>==</code>会执行类型转换</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>        <span class="comment">// "object" (历史遗留问题)</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>   <span class="comment">// "undefined"</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">undefined</span> <span class="comment">// false</span></span><br><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span>  <span class="comment">// true</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">null</span> <span class="comment">// true</span></span><br><span class="line"><span class="literal">null</span> == <span class="literal">null</span>  <span class="comment">// true</span></span><br><span class="line">!<span class="literal">null</span> <span class="comment">//true</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">1</span> + <span class="literal">null</span>)      <span class="comment">// false</span></span><br><span class="line"><span class="built_in">isNaN</span>(<span class="number">1</span> + <span class="literal">undefined</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</div>
<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">7</span> + <span class="number">8</span>;		<span class="comment">//15</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">"7"</span> + <span class="number">8</span>;	<span class="comment">//78,有一个为字符串相加为字符串拼接</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">7</span> + <span class="literal">NaN</span>;	<span class="comment">//NaN,有一个为NaN就为NaN</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">Infinity</span> + <span class="literal">Infinity</span>;	<span class="comment">//Infinity</span></span><br><span class="line"><span class="keyword">var</span> a = -<span class="literal">Infinity</span> + -<span class="literal">Infinity</span>;	<span class="comment">//-Infinity</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span> + 对象;       　　　　　　 <span class="comment">//10[object Object],如果有toString()或valueOf()则返回10+返回的值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">-100</span> - <span class="literal">NaN</span>;   <span class="comment">//NaN</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">Infinity</span> - <span class="literal">Infinity</span>;   <span class="comment">//NaN</span></span><br><span class="line"><span class="keyword">var</span> a = -<span class="literal">Infinity</span> - -<span class="literal">Infinity</span>; <span class="comment">//NaN</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">Infinity</span> - -<span class="literal">Infinity</span>;  <span class="comment">//Infinity</span></span><br><span class="line"><span class="keyword">var</span> a = -<span class="literal">Infinity</span> - <span class="literal">Infinity</span>;  <span class="comment">//-Infinity</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span> - <span class="literal">true</span>;     <span class="comment">//99,true转换成数值为1</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span> - <span class="string">''</span>;      <span class="comment">//100,''转换为0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span> / <span class="string">''</span>;	  <span class="comment">//Infinity</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span> / <span class="literal">null</span>;   <span class="comment">//Infinity</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span> / <span class="string">'p'</span>;    <span class="comment">//NaN</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">100</span> / 对象;    <span class="comment">//NaN ,如果有toString()或valueOf(),返回10/返回值</span></span><br></pre></td></tr></table></figure>
<h1 id="函数（Function）"><a href="#函数（Function）" class="headerlink" title="函数（Function）"></a>函数（Function）</h1><p> <code>alert</code> 是浏览器内置的函数，随时可用。</p>
<h2 id="函数类型"><a href="#函数类型" class="headerlink" title="函数类型"></a>函数类型</h2><ul>
<li><p>匿名函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;;		<span class="comment">//() =&gt; &#123;&#125;;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>命名函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;	<span class="comment">//const foo = () =&gt; &#123;&#125;;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>内部函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addSquares</span>(<span class="params">a,b</span>) </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> x * x;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> square(a) + square(b);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>递归函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loop</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (x &gt;= <span class="number">10</span>)</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">   loop(x + <span class="number">1</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>立即调用函数表达式（IIFE）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"Hello Foo"</span>);</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="函数作用域"><a href="#函数作用域" class="headerlink" title="函数作用域"></a>函数作用域</h2><h1 id="变量提升和函数提升"><a href="#变量提升和函数提升" class="headerlink" title="变量提升和函数提升"></a>变量提升和函数提升</h1><p><strong>变量提升(hoisting)</strong>会将当前作用域的所有变量的声明提升到程序的顶部。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a);	<span class="comment">// =&gt; 2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a);	<span class="comment">// =&gt; undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>函数是JS中的一等公民，函数声明的优先级最高。多个同名函数声明的时候，是由后面的函数声明来覆盖前面的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">foo();				<span class="comment">// =&gt; foo</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'foo'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">foo();				<span class="comment">// =&gt; TypeError (foo声明但未赋值，undefined)</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'foo'</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">foo();				<span class="comment">// =&gt; 2</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'1'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'2'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hoistFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    foo(); 					<span class="comment">// =&gt; 2</span></span><br><span class="line">    <span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    foo(); 					<span class="comment">// =&gt; 1</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    foo(); 					<span class="comment">// =&gt; 1</span></span><br><span class="line">&#125;</span><br><span class="line">hoistFunction();</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/DS-Graph/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/DS-Graph/" class="post-title-link" itemprop="url">数据结构——图</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-04-14 15:06:44" itemprop="dateCreated datePublished" datetime="2020-04-14T15:06:44+08:00">2020-04-14</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-11-09 16:34:33" itemprop="dateModified" datetime="2020-11-09T16:34:33+08:00">2020-11-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Data-Structure/" itemprop="url" rel="index"><span itemprop="name">Data Structure</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="上"><a href="#上" class="headerlink" title="上"></a>上</h2><blockquote>
<p>对于有N个顶点的无向图，怎样存储可以省一半空间？</p>
<ul>
<li>用一个长度为N(N+1)/2的1维数组</li>
</ul>
</blockquote>
<p><img src="/DS-Graph/image-20200324192347351.png" alt="image-20200324192347351" style="zoom: 67%;"></p>
<p><img src="/DS-Graph/image-20200324192430508.png" alt="image-20200324192430508" style="zoom:67%;"></p>
<p><img src="/DS-Graph/image-20200324192545682.png" alt="image-20200324192545682" style="zoom:67%;"></p>
<h3 id="图的邻接矩阵表示法"><a href="#图的邻接矩阵表示法" class="headerlink" title="图的邻接矩阵表示法"></a>图的邻接矩阵表示法</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxVertexNum 100    <span class="comment">/* 最大顶点数设为100 */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INFINITY 65535      <span class="comment">/* ∞设为双字节无符号整数的最大值65535*/</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Vertex;         <span class="comment">/* 用顶点下标表示顶点,为整型 */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> WeightType;     <span class="comment">/* 边的权值设为整型 */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> DataType;      <span class="comment">/* 顶点存储的数据类型设为字符型 */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 边的定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ENode</span> *<span class="title">PtrToENode</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ENode</span>&#123;</span></span><br><span class="line">    Vertex V1, V2;      <span class="comment">/* 有向边&lt;V1, V2&gt; */</span></span><br><span class="line">    WeightType Weight;  <span class="comment">/* 权重 */</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> PtrToENode Edge;</span><br><span class="line">        </span><br><span class="line"><span class="comment">// 图结点的定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GNode</span> *<span class="title">PtrToGNode</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">GNode</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> Nv;  <span class="comment">/* 顶点数 */</span></span><br><span class="line">    <span class="keyword">int</span> Ne;  <span class="comment">/* 边数   */</span></span><br><span class="line">    WeightType G[MaxVertexNum][MaxVertexNum]; <span class="comment">/* 邻接矩阵 */</span></span><br><span class="line">    DataType Data[MaxVertexNum];      		  <span class="comment">/* 存顶点的数据 */</span></span><br><span class="line">    <span class="comment">/* 注意：很多情况下，顶点无数据，此时Data[]可以不用出现 */</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> PtrToGNode MGraph; <span class="comment">/* 以邻接矩阵存储的图类型 */</span></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="function">MGraph <span class="title">CreateGraph</span><span class="params">( <span class="keyword">int</span> VertexNum )</span></span>&#123; </span><br><span class="line">    <span class="comment">/* 初始化一个有VertexNum个顶点但没有边的图 */</span></span><br><span class="line">    Vertex V, W;</span><br><span class="line">    MGraph Graph;</span><br><span class="line">     </span><br><span class="line">    Graph = (MGraph)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct GNode)); <span class="comment">/* 建立图 */</span></span><br><span class="line">    Graph-&gt;Nv = VertexNum;</span><br><span class="line">    Graph-&gt;Ne = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* 初始化邻接矩阵 */</span></span><br><span class="line">    <span class="comment">/* 注意：这里默认顶点编号从0开始，到(Graph-&gt;Nv - 1) */</span></span><br><span class="line">    <span class="keyword">for</span> (V=<span class="number">0</span>; V&lt;Graph-&gt;Nv; V++)</span><br><span class="line">        <span class="keyword">for</span> (W=<span class="number">0</span>; W&lt;Graph-&gt;Nv; W++)  </span><br><span class="line">            Graph-&gt;G[V][W] = INFINITY;</span><br><span class="line">             </span><br><span class="line">    <span class="keyword">return</span> Graph; </span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InsertEdge</span><span class="params">( MGraph Graph, Edge E )</span></span>&#123;</span><br><span class="line">     <span class="comment">/* 插入边 &lt;V1, V2&gt; */</span></span><br><span class="line">     Graph-&gt;G[E-&gt;V1][E-&gt;V2] = E-&gt;Weight;    </span><br><span class="line">     <span class="comment">/* 若是无向图，还要插入边&lt;V2, V1&gt; */</span></span><br><span class="line">     Graph-&gt;G[E-&gt;V2][E-&gt;V1] = E-&gt;Weight;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">MGraph <span class="title">BuildGraph</span><span class="params">()</span></span>&#123;</span><br><span class="line">    MGraph Graph;</span><br><span class="line">    Edge E;</span><br><span class="line">    Vertex V;</span><br><span class="line">    <span class="keyword">int</span> Nv, i;</span><br><span class="line">     </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Nv);   <span class="comment">/* 读入顶点个数 */</span></span><br><span class="line">    Graph = CreateGraph(Nv); <span class="comment">/* 初始化有Nv个顶点但没有边的图 */</span> </span><br><span class="line">     </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;(Graph-&gt;Ne));   <span class="comment">/* 读入边数 */</span></span><br><span class="line">    <span class="keyword">if</span> ( Graph-&gt;Ne != <span class="number">0</span> ) &#123; 	<span class="comment">/* 如果有边 */</span> </span><br><span class="line">        E = (Edge)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct ENode)); <span class="comment">/* 建立边结点 */</span> </span><br><span class="line">        <span class="comment">/* 读入边，格式为"起点 终点 权重"，插入邻接矩阵 */</span></span><br><span class="line">        <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;Graph-&gt;Ne; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;E-&gt;V1, &amp;E-&gt;V2, &amp;E-&gt;Weight); </span><br><span class="line">            <span class="comment">/* 注意：如果权重不是整型，Weight的读入格式要改 */</span></span><br><span class="line">            InsertEdge( Graph, E );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line"> </span><br><span class="line">    <span class="comment">/* 如果顶点有数据的话，读入数据 */</span></span><br><span class="line">    <span class="keyword">for</span> (V=<span class="number">0</span>; V&lt;Graph-&gt;Nv; V++) </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">" %c"</span>, &amp;(Graph-&gt;Data[V]));</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> Graph;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="图的邻接表表示法"><a href="#图的邻接表表示法" class="headerlink" title="图的邻接表表示法"></a>图的邻接表表示法</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxVertexNum 100    <span class="comment">/* 最大顶点数设为100 */</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Vertex;         <span class="comment">/* 用顶点下标表示顶点,为整型 */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> WeightType;     <span class="comment">/* 边的权值设为整型 */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> DataType;      <span class="comment">/* 顶点存储的数据类型设为字符型 */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 边的定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ENode</span> *<span class="title">PtrToENode</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ENode</span>&#123;</span></span><br><span class="line">    Vertex V1, V2;      <span class="comment">/* 有向边&lt;V1, V2&gt; */</span></span><br><span class="line">    WeightType Weight;  <span class="comment">/* 权重 */</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> PtrToENode Edge;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 邻接点的定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">AdjVNode</span> *<span class="title">PtrToAdjVNode</span>;</span> </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AdjVNode</span>&#123;</span></span><br><span class="line">    Vertex AdjV;        <span class="comment">/* 邻接点下标 */</span></span><br><span class="line">    WeightType Weight;  <span class="comment">/* 边权重 */</span></span><br><span class="line">    PtrToAdjVNode Next; <span class="comment">/* 指向下一个邻接点的指针 */</span></span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 顶点表头结点的定义</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Vnode</span>&#123;</span></span><br><span class="line">    PtrToAdjVNode FirstEdge;  <span class="comment">/* 边表头指针 */</span></span><br><span class="line">    DataType Data;            <span class="comment">/* 存顶点的数据 */</span></span><br><span class="line">    <span class="comment">/* 注意：很多情况下，顶点无数据，此时Data可以不用出现 */</span></span><br><span class="line">&#125; AdjList[MaxVertexNum];      <span class="comment">/* AdjList是邻接表类型 */</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">/* 图结点的定义 */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">GNode</span> *<span class="title">PtrToGNode</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">GNode</span>&#123;</span>  </span><br><span class="line">    <span class="keyword">int</span> Nv;     <span class="comment">/* 顶点数 */</span></span><br><span class="line">    <span class="keyword">int</span> Ne;     <span class="comment">/* 边数 */</span></span><br><span class="line">    AdjList G;  <span class="comment">/* 邻接表 */</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> PtrToGNode LGraph; <span class="comment">/* 以邻接表方式存储的图类型 */</span></span><br><span class="line"> </span><br><span class="line">  </span><br><span class="line"><span class="function">LGraph <span class="title">CreateGraph</span><span class="params">( <span class="keyword">int</span> VertexNum )</span> </span>&#123; </span><br><span class="line">    <span class="comment">/* 初始化一个有VertexNum个顶点但没有边的图 */</span></span><br><span class="line">    Vertex V;</span><br><span class="line">    LGraph Graph;</span><br><span class="line">     </span><br><span class="line">    Graph = (LGraph)<span class="built_in">malloc</span>( <span class="keyword">sizeof</span>(struct GNode) ); <span class="comment">/* 建立图 */</span></span><br><span class="line">    Graph-&gt;Nv = VertexNum;</span><br><span class="line">    Graph-&gt;Ne = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* 初始化邻接表头指针 */</span></span><br><span class="line">    <span class="comment">/* 注意：这里默认顶点编号从0开始，到(Graph-&gt;Nv - 1) */</span></span><br><span class="line">       <span class="keyword">for</span> (V=<span class="number">0</span>; V&lt;Graph-&gt;Nv; V++)</span><br><span class="line">        Graph-&gt;G[V].FirstEdge = <span class="literal">NULL</span>;</span><br><span class="line">             </span><br><span class="line">    <span class="keyword">return</span> Graph; </span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InsertEdge</span><span class="params">( LGraph Graph, Edge E )</span> </span>&#123;</span><br><span class="line">    PtrToAdjVNode NewNode;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">/* 插入边 &lt;V1, V2&gt; */</span></span><br><span class="line">    <span class="comment">/* 为V2建立新的邻接点 */</span></span><br><span class="line">    NewNode = (PtrToAdjVNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct AdjVNode));</span><br><span class="line">    NewNode-&gt;AdjV = E-&gt;V2;</span><br><span class="line">    NewNode-&gt;Weight = E-&gt;Weight;</span><br><span class="line">    <span class="comment">/* 将V2插入V1的表头 */</span></span><br><span class="line">    NewNode-&gt;Next = Graph-&gt;G[E-&gt;V1].FirstEdge;</span><br><span class="line">    Graph-&gt;G[E-&gt;V1].FirstEdge = NewNode;</span><br><span class="line">         </span><br><span class="line">    <span class="comment">/* 若是无向图，还要插入边 &lt;V2, V1&gt; */</span></span><br><span class="line">    <span class="comment">/* 为V1建立新的邻接点 */</span></span><br><span class="line">    NewNode = (PtrToAdjVNode)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct AdjVNode));</span><br><span class="line">    NewNode-&gt;AdjV = E-&gt;V1;</span><br><span class="line">    NewNode-&gt;Weight = E-&gt;Weight;</span><br><span class="line">    <span class="comment">/* 将V1插入V2的表头 */</span></span><br><span class="line">    NewNode-&gt;Next = Graph-&gt;G[E-&gt;V2].FirstEdge;</span><br><span class="line">    Graph-&gt;G[E-&gt;V2].FirstEdge = NewNode;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">LGraph <span class="title">BuildGraph</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    LGraph Graph;</span><br><span class="line">    Edge E;</span><br><span class="line">    Vertex V;</span><br><span class="line">    <span class="keyword">int</span> Nv, i;</span><br><span class="line">     </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Nv);   	 <span class="comment">/* 读入顶点个数 */</span></span><br><span class="line">    Graph = CreateGraph(Nv); <span class="comment">/* 初始化有Nv个顶点但没有边的图 */</span> </span><br><span class="line">     </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;(Graph-&gt;Ne));   <span class="comment">/* 读入边数 */</span></span><br><span class="line">    <span class="keyword">if</span> ( Graph-&gt;Ne != <span class="number">0</span> ) &#123; 	<span class="comment">/* 如果有边 */</span> </span><br><span class="line">        E = (Edge)<span class="built_in">malloc</span>( <span class="keyword">sizeof</span>(struct ENode) ); <span class="comment">/* 建立边结点 */</span> </span><br><span class="line">        <span class="comment">/* 读入边，格式为"起点 终点 权重"，插入邻接矩阵 */</span></span><br><span class="line">        <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;Graph-&gt;Ne; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;E-&gt;V1, &amp;E-&gt;V2, &amp;E-&gt;Weight); </span><br><span class="line">            <span class="comment">/* 注意：如果权重不是整型，Weight的读入格式要改 */</span></span><br><span class="line">            InsertEdge( Graph, E );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line"> </span><br><span class="line">    <span class="comment">/* 如果顶点有数据的话，读入数据 */</span></span><br><span class="line">    <span class="keyword">for</span> (V=<span class="number">0</span>; V&lt;Graph-&gt;Nv; V++) </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">" %c"</span>, &amp;(Graph-&gt;G[V].Data));</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> Graph;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="DFS—邻接表存储的图"><a href="#DFS—邻接表存储的图" class="headerlink" title="DFS—邻接表存储的图"></a>DFS—邻接表存储的图</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Visit</span><span class="params">( Vertex V )</span></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"正在访问顶点%d\n"</span>, V);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* Visited[]为全局变量，已经初始化为false */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">( LGraph Graph, Vertex V, <span class="keyword">void</span> (*Visit)(Vertex) )</span></span>&#123;   </span><br><span class="line">    <span class="comment">/* 以V为出发点对邻接表存储的图Graph进行DFS搜索 */</span></span><br><span class="line">    PtrToAdjVNode W;</span><br><span class="line">     </span><br><span class="line">    Visit( V ); <span class="comment">/* 访问第V个顶点 */</span></span><br><span class="line">    Visited[V] = <span class="literal">true</span>; <span class="comment">/* 标记V已访问 */</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span>( W=Graph-&gt;G[V].FirstEdge; W; W=W-&gt;Next ) </span><br><span class="line">        <span class="comment">/* 对V的每个邻接点W-&gt;AdjV */</span></span><br><span class="line">        <span class="keyword">if</span> ( !Visited[W-&gt;AdjV] )    <span class="comment">/* 若W-&gt;AdjV未被访问 */</span></span><br><span class="line">            DFS( Graph, W-&gt;AdjV, Visit );    <span class="comment">/* 则递归访问之 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="BFS—邻接矩阵存储的图"><a href="#BFS—邻接矩阵存储的图" class="headerlink" title="BFS—邻接矩阵存储的图"></a>BFS—邻接矩阵存储的图</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IsEdge(Graph, V, W)检查&lt;V, W&gt;是否图Graph中的一条边，即W是否V的邻接点。</span></span><br><span class="line"><span class="comment">// 此函数根据图的不同类型要做不同的实现，关键取决于对不存在的边的表示方法。</span></span><br><span class="line"><span class="comment">// 例如对有权图, 如果不存在的边被初始化为INFINITY, 则函数实现如下:</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsEdge</span><span class="params">( MGraph Graph, Vertex V, Vertex W )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Graph-&gt;G[V][W]&lt;INFINITY ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/* Visited[]为全局变量，已经初始化为false */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span> <span class="params">( MGraph Graph, Vertex S, <span class="keyword">void</span> (*Visit)(Vertex) )</span> </span>&#123;   </span><br><span class="line">    <span class="comment">/* 以S为出发点对邻接矩阵存储的图Graph进行BFS搜索 */</span></span><br><span class="line">    Queue Q;     </span><br><span class="line">    Vertex V, W;</span><br><span class="line"> </span><br><span class="line">    Q = CreateQueue( MaxSize ); <span class="comment">/* 创建空队列, MaxSize为外部定义的常数 */</span></span><br><span class="line">    <span class="comment">/* 访问顶点S：此处可根据具体访问需要改写 */</span></span><br><span class="line">    Visit( S );</span><br><span class="line">    Visited[S] = <span class="literal">true</span>; 	<span class="comment">/* 标记S已访问 */</span></span><br><span class="line">    AddQ(Q, S); 	<span class="comment">/* S入队列 */</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">while</span> ( !IsEmpty(Q) ) &#123;</span><br><span class="line">        V = DeleteQ(Q);  	<span class="comment">/* 弹出V */</span></span><br><span class="line">        <span class="keyword">for</span>( W=<span class="number">0</span>; W&lt;Graph-&gt;Nv; W++ ) 	<span class="comment">/* 对图中的每个顶点W */</span></span><br><span class="line">            <span class="comment">/* 若W是V的邻接点并且未访问过 */</span></span><br><span class="line">            <span class="keyword">if</span> ( !Visited[W] &amp;&amp; IsEdge(Graph, V, W) ) &#123;</span><br><span class="line">                <span class="comment">/* 访问顶点W */</span></span><br><span class="line">                Visit( W );</span><br><span class="line">                Visited[W] = <span class="literal">true</span>; 	<span class="comment">/* 标记W已访问 */</span></span><br><span class="line">                AddQ(Q, W); 	<span class="comment">/* W入队列 */</span></span><br><span class="line">            &#125;</span><br><span class="line">    &#125; <span class="comment">/* while结束*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="实例：六度空间"><a href="#实例：六度空间" class="headerlink" title="实例：六度空间"></a>实例：六度空间</h3><blockquote>
<p>给定社交网络图，对每个节点计算符合“六度空间”理论的结点占结点总数的百分比</p>
<p>算法思路：</p>
<ul>
<li>对每个节点进行BFS</li>
<li>搜索过程累计访问的节点数</li>
<li>需要记录“层”数，仅计算6层以内的节点数</li>
</ul>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BFS</span><span class="params">(Vertex V)</span> </span>&#123;</span><br><span class="line">    Visited[V] = <span class="literal">true</span>;</span><br><span class="line">    count = <span class="number">1</span>;</span><br><span class="line">    level = <span class="number">0</span>;</span><br><span class="line">    last = V;</span><br><span class="line">    Enqueue(V, Q);</span><br><span class="line">    <span class="keyword">while</span>(!IsEmpty(Q)) &#123;</span><br><span class="line">        V = DeleteQ(Q);</span><br><span class="line">        <span class="keyword">for</span>() &#123;</span><br><span class="line">            <span class="keyword">if</span> (!Visited[W]) &#123;</span><br><span class="line">                Visited[W] = <span class="literal">true</span>;</span><br><span class="line">                Enqueue(W, Q);</span><br><span class="line">                count++;</span><br><span class="line">                tail = W;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(V == last) &#123;</span><br><span class="line">            level++;</span><br><span class="line">            last = tail;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(level == <span class="number">6</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SDS</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>() &#123;</span><br><span class="line">        count = BFS(V);</span><br><span class="line">        Output(count/N);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="中"><a href="#中" class="headerlink" title="中"></a>中</h2><h3 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h3><h4 id="Tree-Traversals-Again"><a href="#Tree-Traversals-Again" class="headerlink" title="Tree Traversals Again"></a>Tree Traversals Again</h4><h4 id="Complete-Binary-Search-Tree"><a href="#Complete-Binary-Search-Tree" class="headerlink" title="Complete Binary Search Tree"></a>Complete Binary Search Tree</h4><h4 id="Huffman-Codes"><a href="#Huffman-Codes" class="headerlink" title="Huffman Codes"></a>Huffman Codes</h4><h3 id="最短路径问题"><a href="#最短路径问题" class="headerlink" title="最短路径问题"></a>最短路径问题</h3><h2 id="下"><a href="#下" class="headerlink" title="下"></a>下</h2><h3 id="最小生成树问题"><a href="#最小生成树问题" class="headerlink" title="最小生成树问题"></a>最小生成树问题</h3><h3 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h3>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/ComputerOrganization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/ComputerOrganization/" class="post-title-link" itemprop="url">计算机组成原理</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-04-08 23:36:23" itemprop="dateCreated datePublished" datetime="2020-04-08T23:36:23+08:00">2020-04-08</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-11-09 16:33:54" itemprop="dateModified" datetime="2020-11-09T16:33:54+08:00">2020-11-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Computer-Organization/" itemprop="url" rel="index"><span itemprop="name">Computer Organization</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="计算机系统概论"><a href="#计算机系统概论" class="headerlink" title="计算机系统概论"></a>计算机系统概论</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ul>
<li>层次结构<ul>
<li>虚拟$M_4$（高级语言）→虚拟$M_3$（汇编语言）→虚拟$M_2$（操作系统）→实际$M_1$（机器语言）→微程序$M_0$（微指令系统）</li>
</ul>
</li>
</ul>
<h2 id="冯诺依曼计算机的特点"><a href="#冯诺依曼计算机的特点" class="headerlink" title="冯诺依曼计算机的特点"></a>冯诺依曼计算机的特点</h2><ol>
<li>计算机由<strong>运算器</strong>、<strong>存储器</strong>、<strong>控制器</strong>和<strong>输入设备</strong>、<strong>输出设备</strong>5大部件组成</li>
<li>指令和数据以同等地位存于存储器内，并可按地址寻访</li>
<li>指令和数据均用二进制代码表示</li>
<li>指令由操作码（表示操作的性质）和地址码（表示操作数在存储器中的位置）组成</li>
<li>指令在存储器内按顺序存放</li>
<li>机器以运算器为中心，I/O设备与存储器间的数据传送通过运算器完成</li>
</ol>
<p><strong>其中，CPU从存储器或高速缓冲存储器中取出指令，放入指令寄存器，并对指令译码。</strong></p>
<h1 id="总线"><a href="#总线" class="headerlink" title="总线"></a>总线</h1><h2 id="总线的基本概念"><a href="#总线的基本概念" class="headerlink" title="总线的基本概念"></a>总线的基本概念</h2><p><strong>定义</strong>：连接多个部件的信息传输线，是各部件共享的传输介质。</p>
<p><strong>特点</strong>：</p>
<ul>
<li>同一组总线在同一时刻只能接受一个发送源，否则会发生冲突</li>
<li>信息的发送则可同时发送给一个或多个目的地</li>
</ul>
<h2 id="总线的分类"><a href="#总线的分类" class="headerlink" title="总线的分类"></a>总线的分类</h2><h3 id="数据传送："><a href="#数据传送：" class="headerlink" title="数据传送："></a>数据传送：</h3><ul>
<li>串行传输总线</li>
<li>并行传输总线</li>
</ul>
<h3 id="连接部件："><a href="#连接部件：" class="headerlink" title="连接部件："></a>连接部件：</h3><ul>
<li><p>片内总线</p>
<p>指芯片内部的总线。</p>
</li>
<li><p>系统总线</p>
<p>指CPU、主存、I/O设备各大部件之间的信息传输线（又称板级总线）。</p>
<p>按传输信息分类：</p>
<ul>
<li>数据总线<ul>
<li>传输各功能部件之间的数据信息</li>
<li>双向传输</li>
<li>位数（宽度）：机器字长、存储字长</li>
</ul>
</li>
<li><p>地址总线</p>
<ul>
<li>指出数据总线上的源数据或目的数据在主存单元的地址或I/O设备的地址</li>
<li><p>单向传输</p>
</li>
<li><p>位数：存储单元的个数</p>
</li>
</ul>
</li>
<li><p>控制总线</p>
<ul>
<li>发出各种控制信号的传输线</li>
<li>单向传输</li>
<li>常见的控制信号：时钟、复位、总线请求、总线允许、中断请求、中断响应、存储器写、存储器读、I/O读、I/O写、传输响应</li>
</ul>
</li>
</ul>
</li>
<li><p>通信总线</p>
<p>用于计算机系统之间或计算机系统与其他系统之间的通信。</p>
</li>
</ul>
<h2 id="总线特性及性能指标"><a href="#总线特性及性能指标" class="headerlink" title="总线特性及性能指标"></a>总线特性及性能指标</h2><h3 id="总线特性"><a href="#总线特性" class="headerlink" title="总线特性"></a>总线特性</h3><ol>
<li>机械特性：尺寸、形状、管脚数及排列顺序</li>
<li>电气特性：信号的传递方向和有效的电平范围</li>
<li>功能特性：传输线的功能—地址、数据、控制</li>
<li>时间特性：信号的时序关系</li>
</ol>
<h3 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h3><ol>
<li>总线宽度：根数，bit（位）</li>
<li>总线带宽：数据传输速率，MBps（兆字节每秒）</li>
<li>时钟同步/异步</li>
<li>总线复用</li>
<li>信号线数：地址总线+数据总线+控制总线</li>
<li>总线控制方式</li>
<li>其他指标</li>
</ol>
<p>几种流行的微机总线性能：ISA(PC-AT)、EISA、STD、VESA(VL-BUS)、MCA、PCI</p>
<h3 id="总线标准"><a href="#总线标准" class="headerlink" title="总线标准"></a>总线标准</h3><ul>
<li>ISA：（AT总线）使用独立于CPU的总线时钟，不支持多台主设备</li>
<li>EISA：在ISA基础上扩充开放的总线标准，分离出总线控制权，支持多台设备系统</li>
<li>VESA(VL-BUS)：局部总线标准</li>
<li>PCI：高性能；良好的兼容性；支持即插即用；支持多设备主力；具有与处理器和存储器子系统完全并行操 作的能力；提供数据和地址校验能力；支持两种电压标准；可扩充性好；软件兼容性好；多路复用减少引脚个数。</li>
<li>AGP：加速图形端口，显卡专用的局部总线</li>
<li>RS-232C：应用于DTE和DCE之间的标准接口</li>
<li>USB总线：具有真正的即插即用特征；具有很强的连接能力；数据传输速率；标准统一；连接电缆轻巧，电源体积小；生命力强。</li>
</ul>
<h2 id="总线结构"><a href="#总线结构" class="headerlink" title="总线结构"></a>总线结构</h2><h3 id="单总线结构"><a href="#单总线结构" class="headerlink" title="单总线结构"></a>单总线结构</h3><p>将CPU、主存、I/O设备都挂在一组总线上。</p>
<h3 id="多总线结构"><a href="#多总线结构" class="headerlink" title="多总线结构"></a>多总线结构</h3><ul>
<li><p>双总线结构</p>
<ul>
<li>主存总线 &lt;=&gt; 【通道】 &lt;=&gt; I/O总线</li>
</ul>
</li>
<li><p>三总线结构</p>
<ul>
<li>主存总线 【CPU-主存】、I/O总线【CPU-I/O接口】、DMA总线【主存-I/O接口】</li>
<li>局部总线【CPU-Cache-局部I/O控制器】 、系统总线【主存-Cache-扩展总线接口】、扩展总线【扩展总线接口-局域网-SCSI-Modem-串行接口】</li>
</ul>
</li>
<li><p>四总线结构</p>
<ul>
<li>局部总线【CPU-Cache/桥】 、系统总线【主存-Cache/桥】、高速总线【局域网-SCSI-图形-多媒体-扩展总线接口】、扩展总线【扩展总线接口-FAX-Modem-串行接口】</li>
</ul>
</li>
</ul>
<h2 id="总线控制"><a href="#总线控制" class="headerlink" title="总线控制"></a>总线控制</h2><h3 id="总线判优控制"><a href="#总线判优控制" class="headerlink" title="总线判优控制"></a>总线判优控制</h3><p>解决多个部件同时申请总线时的使用权分配问题。</p>
<ol>
<li><strong>链式查询</strong><ul>
<li>BS（总线忙）、BR（总线请求）、BG（总线同意）</li>
<li>连线简单，并且容易扩展设备，对电路故障敏感，且优先级别低的设备可能很难获得请求。 </li>
<li>3根线 </li>
</ul>
</li>
<li><strong>计数器定时查询</strong><ul>
<li>与链式查询相比，<strong>多了设备地址线少了BG</strong></li>
<li>对电路故障<strong>不如链式查询方式敏感</strong>，但增加了控制线，控制也比较复杂</li>
<li><strong>Log2n根线</strong> </li>
</ul>
</li>
<li><strong>独立请求方式</strong><ul>
<li>每台设备有BR、BG</li>
<li>响应速度快，优先次序控制灵活，但控制线数量多，总线控制复杂。</li>
<li>2n根线</li>
</ul>
</li>
</ol>
<h3 id="总线通信控制"><a href="#总线通信控制" class="headerlink" title="总线通信控制"></a>总线通信控制</h3><p>总线周期：申请分配、寻址、传数、结束</p>
<ol>
<li><p><strong>同步通信</strong></p>
<p>总线传输周期越短，数据线的位数越多。</p>
<blockquote>
<p>时钟周期 = 1/时钟频率</p>
<p>传输周期 = n*时钟周期</p>
<p>宽度：n位 = n/8 B（字节）</p>
<p>数据传输率（带宽） = 宽度/传输周期</p>
</blockquote>
</li>
<li><p><strong>异步通信</strong></p>
<ul>
<li><p>不互锁（速度最快）、半互锁、全互锁</p>
<p><img src="/ComputerOrganization/image-20200408235029729.png" alt="image-20200408235029729"></p>
</li>
<li><p>可用于并行传送和串行传送</p>
</li>
<li><p>异步串行通信的数据传送速率用波特率bps（位/秒）来衡量</p>
</li>
<li><p>比特率：单位时间内传送二进制有效数据的位数</p>
</li>
<li><p>一帧：起始位+数据位+奇偶校验位+终止位</p>
</li>
</ul>
</li>
<li><p><strong>半同步通信</strong></p>
<ul>
<li>同步：发送方用系统时钟前沿发信号，接收方用系统时钟后沿判断、识别</li>
<li>异步：允许不同速度的模块和谐工作，增加一条 “等待”响应信号</li>
</ul>
</li>
<li><p><strong>分离式通信</strong></p>
<ul>
<li>传输周期：子周期1—主模块申请占用总线，使用完后即放弃总线的使用权；子周期2—从模块申请占用总线，将各种信息送至总线上</li>
<li>特点：各模块有权申请占用总线；充分提高了总线的有效占用；采用同步方式通信，不等对方回答；各模块准备数据时，不占用总线；总线被占用时，无空闲</li>
</ul>
</li>
</ol>
<h1 id="存储器"><a href="#存储器" class="headerlink" title="存储器"></a>存储器</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ul>
<li>按存储介质分类：<ol>
<li>半导体存储器：TTL 、MOS  <code>易失</code></li>
<li>磁表面存储器：磁头、载磁体</li>
<li>磁芯存储器：硬磁材料、环状元件</li>
<li>光盘存储器：激光、磁光材料</li>
</ol>
</li>
<li>按存取方式分类：<ol>
<li>存取时间和物理地址无关（随机访问）<ul>
<li>随机存储器： 在程序的执行过程中可读可写</li>
<li>只读存储器： 在程序的执行过程中只读</li>
</ul>
</li>
<li>存取时间和物理地址有关（串行访问）<ul>
<li>顺序存取存储器 磁带</li>
<li>直接存取存储器 磁盘</li>
</ul>
</li>
</ol>
</li>
<li>按在计算机中的作用分类 ：<ol>
<li>主存<ul>
<li>随机存储器（RAM）：DRAM、SRAM</li>
<li>只读存储器（ROM）：MROM、PROM、EPROM、EEPROM</li>
</ul>
</li>
<li>闪速存储器（Flash Memory）</li>
<li>辅存：磁盘、磁带、光盘</li>
<li>缓存（Cache）</li>
</ol>
</li>
</ul>
<h3 id="层次结构"><a href="#层次结构" class="headerlink" title="层次结构"></a>层次结构</h3><ul>
<li>价位↓速度↓容量↑：寄存器、缓存、主存、磁盘、光盘、磁带</li>
<li>Cache-主存层次和主存-辅存层次<ul>
<li>Cache-主存：提高访存速度，硬件自动完成</li>
<li>主存-辅存：扩容，硬件和操作系统共同完成</li>
</ul>
</li>
</ul>
<h2 id="主存储器"><a href="#主存储器" class="headerlink" title="主存储器"></a>主存储器</h2><p>用于存放正在执行的程序和数据。CPU可以直接进行随机读写，访问速度较高。</p>
<h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><ul>
<li>主存的基本组成</li>
</ul>
<p><img src="/ComputerOrganization/image-20200409010239582.png" alt="image-20200409010239582" style="zoom: 50%;"></p>
<ul>
<li><p>主存和CPU的联系</p>
<p><img src="/ComputerOrganization/image-20200409010429615.png" alt="image-20200409010429615" style="zoom: 50%;"></p>
</li>
<li><p>主存中存储单元地址的分配</p>
<ul>
<li>大端：高位字节地址为字地址；小端：低位字节地址为字地址。</li>
<li><p>地址线为24根 <strong>按字节寻址</strong>  $2^{24} = 16MB$</p>
<p>若字长为16位 <strong>按字寻址</strong>                   8MW</p>
<p>若字长为32位 按字寻址                   4MW</p>
</li>
</ul>
</li>
<li><p>主存的技术指标</p>
<ol>
<li><p>存储容量：主存存放二进制代码的总位数</p>
<ul>
<li><p><strong>存储容量 = 存储单元个数×存储字长</strong></p>
<p>（用字节总数表示）存储容量 = 存储单元个数×存储字长/8</p>
</li>
</ul>
</li>
<li><p>存储速度</p>
<ul>
<li><p>存取时间：读出时间和写入时间 </p>
</li>
<li><p>存取周期：连续两次独立的存储器操作（读或写）所需的最小间隔时间</p>
<p>存取周期 = 存取时间 + 恢复时间</p>
</li>
</ul>
</li>
<li><p>存储器的带宽</p>
<ul>
<li>单位时间内从存储器进出信息的最大数量，位/秒</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="半导体存储芯片简介"><a href="#半导体存储芯片简介" class="headerlink" title="半导体存储芯片简介"></a>半导体存储芯片简介</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">地址线（单向）</th>
<th style="text-align:center">数据线（双向）</th>
<th style="text-align:center">芯片容量</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">4</td>
<td style="text-align:center">2^10×4 = 1K×4 位</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2^14×4 = 16K×4 位</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">8</td>
<td style="text-align:center">2^13×4 = 8K×8 位</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>译码驱动方式<ul>
<li>线选法：地址译码信号只选中同一个字的所有位，结构简单费器材</li>
<li>重合法：地址分、行列两部分译码，行、列译码线的交叉点即为所选单元</li>
</ul>
</li>
</ul>
<h3 id="随机存储器（RAM）"><a href="#随机存储器（RAM）" class="headerlink" title="随机存储器（RAM）"></a>随机存储器（RAM）</h3><p>主要用作计算机中的主存。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">存储原理</th>
<th style="text-align:center">集成度</th>
<th style="text-align:center">芯片引脚</th>
<th style="text-align:center">功耗</th>
<th style="text-align:center">价格</th>
<th style="text-align:center">速度</th>
<th style="text-align:center">刷新</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">DRAM</td>
<td style="text-align:center">电容</td>
<td style="text-align:center">高</td>
<td style="text-align:center">少</td>
<td style="text-align:center">小</td>
<td style="text-align:center">低</td>
<td style="text-align:center">慢</td>
<td style="text-align:center">有</td>
</tr>
<tr>
<td style="text-align:center">SRAM</td>
<td style="text-align:center">触发器</td>
<td style="text-align:center">低</td>
<td style="text-align:center">多</td>
<td style="text-align:center">大</td>
<td style="text-align:center">高</td>
<td style="text-align:center">快</td>
<td style="text-align:center">无</td>
</tr>
</tbody>
</table>
</div>
<ol>
<li><p>基本单元电路</p>
<ul>
<li>SRAM：MOS管，易失性半导体存储器</li>
<li>DRAM：三管式和单管式，电源不掉电信息也会消失</li>
</ul>
<p>（总结：<strong>RAM属于易失性存储器，掉电后将丢失信息。</strong>）</p>
</li>
<li>芯片举例<ul>
<li>SRAM：Intel2114芯片</li>
<li>DRAM：1k×1位三管MOS动态RAM、4116动态RAM</li>
</ul>
</li>
<li>读/写时序<ol>
<li>读周期时序</li>
<li>写周期时序</li>
</ol>
</li>
</ol>
<h4 id="动态RAM的刷新"><a href="#动态RAM的刷新" class="headerlink" title="动态RAM的刷新"></a>动态RAM的刷新</h4><p>定义：<strong>对DRAM定期进行的全部重写过程</strong>。刷新原因：<strong>因电容泄漏而引起的DRAM所存信息的衰减需要及时补充，因此安排了定期刷新操作。</strong></p>
<ol>
<li><strong>集中刷新</strong><ul>
<li>刷新周期2ms（占4000个存取周期）</li>
<li>死时间（死区）：存取周期×行数</li>
<li>死时间率：行数/4000×100%</li>
</ul>
</li>
<li><strong>分散刷新</strong><ul>
<li>tc = tm + tr (读写+刷新)</li>
<li>若读写周期0.5μs，则存取周期1μs</li>
</ul>
</li>
<li><strong>异步刷新</strong><ul>
<li>最大刷新间隔：2ms</li>
</ul>
</li>
</ol>
<h3 id="只读存储器（ROM）"><a href="#只读存储器（ROM）" class="headerlink" title="只读存储器（ROM）"></a>只读存储器（ROM）</h3><p>由芯片制造商在制造时写入内容，以后只能读出而不能写入。</p>
<ol>
<li><strong>MROM</strong>：<strong>掩模ROM</strong>，行列选择线交叉处有MOS管为“1”</li>
<li><strong>PROM</strong>：<strong>可一次性编程</strong>只读存储器，由用户根据需要确定写入内容，只能写入一次。熔丝断为“0”</li>
<li><strong>EPROM</strong>：<strong>紫外线擦写可编程</strong>只读存储器。需要修改内容时，现将其全部内容擦除，然后再编程。擦除依靠紫外线使浮动栅极上的电荷泄露而实现。</li>
<li><strong>EEPROM</strong>：<strong>电擦写可编程</strong>只读存储器。</li>
<li><strong>Flash Memory</strong>：<strong>闪速存储器（快擦型存储器）</strong>。</li>
</ol>
<h3 id="存储器与CPU的连接"><a href="#存储器与CPU的连接" class="headerlink" title="存储器与CPU的连接"></a>存储器与CPU的连接</h3><h4 id="存储容量的扩展"><a href="#存储容量的扩展" class="headerlink" title="存储容量的扩展"></a>存储容量的扩展</h4><blockquote>
<ol>
<li>位扩展：2片 1k×4位 =&gt; 1k×8位</li>
<li>字扩展：2片 1k×8位 =&gt; 2k×8位</li>
<li>字、位扩展：8片 1k×4位 =&gt; 4k×8位</li>
</ol>
</blockquote>
<h4 id="存储器与CPU的连接-1"><a href="#存储器与CPU的连接-1" class="headerlink" title="存储器与CPU的连接"></a>存储器与CPU的连接</h4><ol>
<li>地址线的连接</li>
<li>数据线的连接</li>
<li>读/写命令线的连接</li>
<li>片选线的连接</li>
<li>合理选择存储芯片</li>
<li>其他       时序、负载</li>
</ol>
<blockquote>
<p>根据题中地址范围写成二进制地址码，并确定总容量</p>
<p>根据地址范围的容量及其作用选择芯片</p>
<p>分配CPU的地址线</p>
<p>形成片选信号</p>
</blockquote>
<p><img src="/ComputerOrganization/image-20200627135958069.png" alt="image-20200627135958069"></p>
<p><img src="/ComputerOrganization/image-20200627140111401.png" alt="image-20200627140111401"></p>
<p><img src="/ComputerOrganization/image-20200627140210930.png" alt="image-20200627140210930"></p>
<p>（解答过程参考教材）</p>
<h3 id="存储器的校验"><a href="#存储器的校验" class="headerlink" title="存储器的校验"></a>存储器的校验</h3><h4 id="编码的最小距离"><a href="#编码的最小距离" class="headerlink" title="编码的最小距离"></a>编码的最小距离</h4><ul>
<li>任意两组合法代码之间二进制位数的最少差异，编码的纠错 、检错能力与编码的最小距离有关。</li>
<li>L - 1 = D + C (D≥C)</li>
<li>L：编码的最小距离；D ：检测错误的位数；C：纠正错误的位数。</li>
</ul>
<h4 id="汉明码的组成"><a href="#汉明码的组成" class="headerlink" title="汉明码的组成"></a>汉明码的组成</h4><ul>
<li>汉明码的组成需增添 ？位检测位：2k ≥ n + k + 1</li>
<li>检测位的位置 ？：2i  ( i = 0,1,2 ,3 ,…)</li>
<li>检测位的取值 ？：与该位所在的检测“小组” 中承担的奇偶校验任务有关</li>
<li>小组划分特点：<ul>
<li>gi 小组独占第 2^(i－1) 位</li>
<li>gi 和 gj 小组共同占第 2^(i－1) + 2^(j－1) 位</li>
<li>gi、gj 和 gl 小组共同占第 2^(i－1) + 2^(j－1) + 2^(l－1) 位</li>
</ul>
</li>
</ul>
<h4 id="汉明码的纠错过程"><a href="#汉明码的纠错过程" class="headerlink" title="汉明码的纠错过程"></a>汉明码的纠错过程</h4><p>形成新的检测位 Pi，其位数与增添的检测位有关。</p>
<h4 id="奇偶校验码"><a href="#奇偶校验码" class="headerlink" title="奇偶校验码"></a>奇偶校验码</h4><ul>
<li>奇校验：原始码流+校验位 总共有奇数个1 </li>
<li>偶校验：原始码流+校验位 总共有偶数个1 </li>
</ul>
<h3 id="提高访存速度的措施"><a href="#提高访存速度的措施" class="headerlink" title="提高访存速度的措施"></a>提高访存速度的措施</h3><p>除了采用高速器件和采用层次结构，还可调整主存结构。</p>
<h4 id="单体多字系统"><a href="#单体多字系统" class="headerlink" title="单体多字系统"></a>单体多字系统</h4><p>增加存储器的带宽 ，提高单体存储器的速度。</p>
<p><img src="/ComputerOrganization/image-20200413011654267.png" alt="image-20200413011654267" style="zoom: 50%;"></p>
<h4 id="多体并行系统"><a href="#多体并行系统" class="headerlink" title="多体并行系统"></a>多体并行系统</h4><ol>
<li><p>高位交叉</p>
<ul>
<li>顺序编址，各个体并行工作</li>
<li>高位地址：体号；低位地址：体内地址</li>
</ul>
</li>
<li><p>低位交叉</p>
<ul>
<li>各个体轮流编址</li>
<li><p>高位地址：体内地址；低位地址：体号</p>
</li>
<li><p>在不改变存取周期的前提下，增加存储器的带宽</p>
</li>
</ul>
<blockquote>
<p>设低位交叉存储器模块数为n，存取周期为T，总线传输周期为τ，为实现流水线方式存取，应满足 T ＝ nτ。</p>
<p>连续读取 n 个字所需的时间 t1 为：t1 = T＋(n －1)τ</p>
<p>高位交叉编址所需时间：t2 = nT</p>
</blockquote>
</li>
<li><p>存储器控制部件（简称存控）</p>
<ul>
<li><img src="/ComputerOrganization/image-20200413013451046.png" alt="image-20200413013451046" style="zoom:50%;"></li>
</ul>
</li>
</ol>
<h4 id="高性能存储芯片"><a href="#高性能存储芯片" class="headerlink" title="高性能存储芯片"></a>高性能存储芯片</h4><ol>
<li>SDRAM (同步 DRAM)：CPU 无须等待</li>
<li>RDRAM：主要解决存储器带宽问题 </li>
<li>带 Cache 的 DRAM：有利于猝发式读取</li>
</ol>
<h2 id="高速缓冲存储器"><a href="#高速缓冲存储器" class="headerlink" title="高速缓冲存储器"></a>高速缓冲存储器</h2><h3 id="概述-2"><a href="#概述-2" class="headerlink" title="概述"></a>概述</h3><h4 id="程序访问的局部性原理"><a href="#程序访问的局部性原理" class="headerlink" title="程序访问的局部性原理"></a>程序访问的局部性原理</h4><p>指令和数据在主存内连续存放，且有些被多次调用，在主存内的地址分布不是随机的而是相对的簇聚，使得CPU在执行程序时访问具有相对的局部性。</p>
<h4 id="Cache的工作原理"><a href="#Cache的工作原理" class="headerlink" title="Cache的工作原理"></a>Cache的工作原理</h4><ul>
<li>主存和缓存按块存储，块的大小相同，块长 $B = 2^b$</li>
<li>主存：高 m 位 主存块号，低 b 位 块内地址，块数 $M = 2^m$</li>
<li>Cache：高 c 位 块号，低 b 位 块内地址，块数 $C = 2^c$ ，且C &lt;&lt; M</li>
</ul>
<blockquote>
<p>$N_e$为访问Cache的总命中次数，$N_m$为访问主存的总次数</p>
<ul>
<li>命中率：$h = N_e / (N_e + N_m)$</li>
</ul>
<p>$t_c$为命中时的Cache访问时间，$t_m$为未命中时Cache的主存访问时间</p>
<ul>
<li><p>平均访问时间：$t_a = ht_c + (1-h)t_m$</p>
</li>
<li><p>效率：$e = (访问Cache的时间 / 平均访问时间) × 100%$</p>
<p>​           $e = t_c / [ ht_c + (1-h)t_m ] × 100%$    </p>
</li>
</ul>
</blockquote>
<h4 id="Cache的基本结构"><a href="#Cache的基本结构" class="headerlink" title="Cache的基本结构"></a>Cache的基本结构</h4><ul>
<li><strong>Cache存储体</strong>、<strong>地址映射变换机构</strong>、<strong>Cache替换机构</strong></li>
<li>Cache的读写操作<ul>
<li>写直达法（Write – through）：写操作时间就是访问主存的时间</li>
<li>写回法（Write – back）：写操作时间就是访问 Cache 的时间</li>
</ul>
</li>
</ul>
<h4 id="Cache的改进"><a href="#Cache的改进" class="headerlink" title="Cache的改进"></a>Cache的改进</h4><ol>
<li>增加 Cache 的级数：片载Cache、片外Cache</li>
<li>统一缓存和分立缓存：指令Cache、数据Cache</li>
</ol>
<h3 id="Cache-主存地址映射"><a href="#Cache-主存地址映射" class="headerlink" title="Cache-主存地址映射"></a>Cache-主存地址映射</h3><h4 id="直接映射"><a href="#直接映射" class="headerlink" title="直接映射"></a>直接映射</h4><ul>
<li>主存地址：主存字块标记 + Cache字块地址 + 字块内地址 （t+c+b）</li>
<li>映射关系：i = j mod C （i缓存块号，j主存块号，C缓存块数）</li>
<li>某一主存块只能固定映射到某一缓存块</li>
</ul>
<h4 id="全相联映射"><a href="#全相联映射" class="headerlink" title="全相联映射"></a>全相联映射</h4><ul>
<li>主存地址：主存字块标记 + 字块内地址 （m+b）（m=t+c）</li>
<li>某一主存块能映射到任一缓存块</li>
</ul>
<h4 id="组相联映射"><a href="#组相联映射" class="headerlink" title="组相联映射"></a>组相联映射</h4><ul>
<li>主存地址：主存字块标记 + 组地址 + 字块内地址 （s+q+b）（s=t+r，q=c-r，s+q=m）</li>
<li>2^c Cache总块数，2^q Cache分组个数，2^r 组内包含块数，r=c-q</li>
<li>某一主存块只能映射到某一缓存组中的任一块</li>
</ul>
<blockquote>
<p>容量 =&gt; 地址（长度）</p>
<p>总字数 / 每个字块中字数 =&gt; 字块数</p>
<p>主存地址长度 - Cache地址长度 =&gt; 主存字块标记</p>
<p>块长 =&gt; 字块内地址</p>
<p>// 4个16位的字 =&gt; 字块内地址2，8个32位的字 =&gt; 字块内地址3+2=5</p>
</blockquote>
<h3 id="替换策略"><a href="#替换策略" class="headerlink" title="替换策略"></a>替换策略</h3><ol>
<li>FIFO算法</li>
<li>LRU算法</li>
<li>随机法</li>
</ol>
<h2 id="辅助存储器"><a href="#辅助存储器" class="headerlink" title="辅助存储器"></a>辅助存储器</h2><p>用于存放当前暂不执行的程序和数据，以及一些需要永久保存的信息。</p>
<blockquote>
<p>记录密度：道密度 Dt = 1 / P；位密度 Db = fi / πdmin</p>
<p>存储容量：C = n × k × s</p>
<p>平均寻址时间：寻道时间 + 等待时间</p>
<p>数据传输率：Dr  = Db × V</p>
<p>误码率：出错信息位数与读出信息的总位数之比</p>
<p>// P 道距，fi 每道总位数，dmin 同心圆中最小直径，n 存放信息的盘面数，k 每个盘面的磁道数，s 每条磁道上记录的二进制代码数，Db 记录密度，V 记录介质的运动速度</p>
</blockquote>
<h3 id="磁记录原理和记录方式"><a href="#磁记录原理和记录方式" class="headerlink" title="磁记录原理和记录方式"></a>磁记录原理和记录方式</h3><ol>
<li>磁记录原理</li>
<li>磁表面存储器的记录方式<ul>
<li>归零制RZ、不归零制NRZ、“见1就翻不归零制NRZ1、调和制PM、调频制FM、改进型调频制FM</li>
</ul>
</li>
</ol>
<h3 id="硬磁盘存储器"><a href="#硬磁盘存储器" class="headerlink" title="硬磁盘存储器"></a>硬磁盘存储器</h3><ol>
<li><p>类型：固定磁头和移动磁头、可换盘和固定盘</p>
</li>
<li><p>结构：</p>
<ul>
<li><p>磁盘控制器：主机与磁盘驱动器之间的接口</p>
</li>
<li><p>磁盘驱动器：主轴、定位驱动、数据控制</p>
</li>
<li>盘片：由硬质铝合金材料制成</li>
</ul>
</li>
<li><p>硬磁盘存储器的发展方向</p>
<ul>
<li>半导体盘</li>
<li>提高磁盘记录密度</li>
<li>提高磁盘的数据传输率和缩短平均存取时间</li>
<li>采用磁盘阵列RAID</li>
</ul>
</li>
<li><p>硬磁盘的磁道记录格式</p>
<ul>
<li>定长记录格式<ul>
<li>盘面、磁道、扇区和柱面</li>
<li>硬盘上的数据分布</li>
<li>ISOT型磁道记录格式</li>
</ul>
</li>
<li>不定长记录格式</li>
</ul>
</li>
</ol>
<h3 id="软磁盘存储器"><a href="#软磁盘存储器" class="headerlink" title="软磁盘存储器"></a>软磁盘存储器</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">速度</th>
<th style="text-align:center">磁头</th>
<th style="text-align:center">盘片</th>
<th style="text-align:center">价格</th>
<th style="text-align:center">环境</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">硬盘</td>
<td style="text-align:center">高</td>
<td style="text-align:center">固定、活动，浮动</td>
<td style="text-align:center">固定盘、盘组大部分不可换</td>
<td style="text-align:center">高</td>
<td style="text-align:center">苛刻</td>
</tr>
<tr>
<td style="text-align:center">软盘</td>
<td style="text-align:center">低</td>
<td style="text-align:center">活动，接触盘片</td>
<td style="text-align:center">可换盘片</td>
<td style="text-align:center">低</td>
<td style="text-align:center">不苛刻</td>
</tr>
</tbody>
</table>
</div>
<h3 id="光盘存储器"><a href="#光盘存储器" class="headerlink" title="光盘存储器"></a>光盘存储器</h3><ul>
<li>采用光存储技术：利用激光写入和读出<ul>
<li>第一代光存储技术：采用非磁性介质  不可擦写</li>
<li>第二代光存储技术：采用磁性介质  可擦写</li>
</ul>
</li>
<li>光盘的存储原理<ul>
<li>只读型和只写一次型：热作用（物理或化学变化）</li>
<li>可擦写光盘：热磁效应</li>
</ul>
</li>
</ul>
<h1 id="I-O"><a href="#I-O" class="headerlink" title="I/O"></a>I/O</h1><ul>
<li>发展概况</li>
<li>组成<ul>
<li>I/O 软件：(1) I/O 指令：CPU 指令的一部分；(2) 通道指令：通道自身的指令</li>
<li>I/O 硬件：接口模块和I/O设备</li>
</ul>
</li>
<li>I/O 设备与主机的联系方式<ol>
<li>I/O 设备编址方式：统一编址或不统一编址</li>
<li>设备寻址：每台设备赋予一个设备号，用设备选择电路识别是否被选中</li>
<li>传送方式：串行或并行</li>
<li>联络方式：(1) 立即响应；(2) 异步工作采用应答信号；(3) 同步工作采用同步时标</li>
<li>I/O 设备与主机的连接方式：(1) 辐射式连接；(2) 总线连接</li>
</ol>
</li>
</ul>
<h2 id="I-O设备"><a href="#I-O设备" class="headerlink" title="I/O设备"></a>I/O设备</h2><p>外部设备分类：</p>
<ol>
<li>人机交互设备：键盘、鼠标、打印机、显示器</li>
<li>计算机信息存储设备：磁盘、光盘、磁带</li>
<li>机-机通信设备：调制解调器等</li>
</ol>
<h3 id="输入设备"><a href="#输入设备" class="headerlink" title="输入设备"></a>输入设备</h3><p>完成输入程序、数据和操作命令等功能。</p>
<ul>
<li>键盘</li>
<li>鼠标</li>
<li>触摸屏</li>
<li>其他输入设备</li>
</ul>
<h3 id="输出设备"><a href="#输出设备" class="headerlink" title="输出设备"></a>输出设备</h3><ul>
<li>显示设备</li>
<li>打印设备</li>
</ul>
<h3 id="其他I-O设备"><a href="#其他I-O设备" class="headerlink" title="其他I/O设备"></a>其他I/O设备</h3><h3 id="多媒体技术"><a href="#多媒体技术" class="headerlink" title="多媒体技术"></a>多媒体技术</h3><h2 id="I-O接口"><a href="#I-O接口" class="headerlink" title="I/O接口"></a>I/O接口</h2><p>为什么要设置接口？</p>
<p>实现设备的选择；实现数据缓冲达到速度匹配；实现数据串-并格式转换；实现电平转换；传送控制命令；反映设备的状态（“忙”、“就绪”、“中断请求”）</p>
<h3 id="接口的功能和组成"><a href="#接口的功能和组成" class="headerlink" title="接口的功能和组成"></a>接口的功能和组成</h3><ul>
<li>总线连接方式的 I/O 接口电路<ol>
<li>设备选择线</li>
<li>数据线</li>
<li>命令线</li>
<li>状态线</li>
</ol>
</li>
<li>接口的功能和组成<ol>
<li>选址功能：设备选择电路</li>
<li>传送命令的功能：命令寄存器、命令译码器</li>
<li>传送数据的功能：数据缓冲寄存器(DBR)</li>
<li>反映I/O设备工作状态的功能：设备状态标记  D、B、INTR、MASK</li>
</ol>
</li>
<li>接口类型<ol>
<li>数据传送方式 <ul>
<li>并行接口：Intel 8255</li>
<li>串行接口：Intel 8251</li>
</ul>
</li>
<li>功能选择的灵活性<ul>
<li>可编程接口：Intel 8255、 Intel 8251</li>
<li>不可编程接口：Intel 8212</li>
</ul>
</li>
<li>通用性<ul>
<li>通用接口：Intel 8255、 Intel 8251</li>
<li>专用接口：Intel 8279、 Intel 8275</li>
</ul>
</li>
<li>数据传送的 控制方式<ul>
<li>中断接口：Intel 8259</li>
<li>DMA接口：Intel 8257</li>
</ul>
</li>
</ol>
</li>
</ul>
<h2 id="程序查询方式"><a href="#程序查询方式" class="headerlink" title="程序查询方式"></a>程序查询方式</h2><p><strong>CPU 和 I/O 串行工作，踏步等待</strong></p>
<ul>
<li>程序查询流程<ul>
<li>查询流程</li>
<li>程序流程</li>
</ul>
</li>
<li>程序查询方式的接口</li>
</ul>
<h2 id="程序中断方式"><a href="#程序中断方式" class="headerlink" title="程序中断方式"></a>程序中断方式</h2><p><strong>CPU 和 I/O 并行工作，没有踏步等待现象  中断现行程序</strong></p>
<ul>
<li>中断的概念</li>
<li>I/O中断的产生</li>
<li>程序中断方式的接口电路<ol>
<li>配置中断请求触发器（INTR）和中断屏蔽触发器（MASK）</li>
<li>排队器</li>
<li>中断向量地址形成部件<ul>
<li>CPU一旦响应I/O中断就要暂停现行程序去执行中断服务程序，每个服务程序都有一个入口地址</li>
<li>（硬件向量法）<strong>通过向量地址来寻找中断服务程序入口地址</strong>。</li>
<li><strong>向量地址是硬件电路（向量编码器）产生的中断源的内存地址编号，中断入口地址是中断服务程序首址</strong>。</li>
<li><strong>中断向量地址，即存储中断向量的存储单元地址，中断服务程序入口地址的地址</strong>。</li>
</ul>
</li>
<li>程序中断方式接口电路的基本组成</li>
</ol>
</li>
</ul>
<h3 id="I-O中断处理过程"><a href="#I-O中断处理过程" class="headerlink" title="I/O中断处理过程"></a>I/O中断处理过程</h3><ol>
<li>CPU 响应中断的条件和时间<ul>
<li>条件：允许中断触发器 EINT = 1 （开中断、关中断）</li>
<li>时间：当 D = 1（随机）且 MASK = 0 时 （在每条指令执行阶段的结束前 CPU 发 中断查询信号）</li>
</ul>
</li>
<li>I/O 中断处理过程<ul>
<li>中断请求、中断判优、中断响应、中断服务、中断返回</li>
</ul>
</li>
</ol>
<h3 id="中断服务程序流程"><a href="#中断服务程序流程" class="headerlink" title="中断服务程序流程"></a>中断服务程序流程</h3><ul>
<li>中断服务程序的流程<ol>
<li>保护现场<ul>
<li>程序断点的保护    中断隐指令完成 </li>
<li>寄存器内容的保护    进栈指令</li>
</ul>
</li>
<li>中断服务<ul>
<li>对不同的 I/O 设备具有不同内容的设备服务</li>
</ul>
</li>
<li>恢复现场<ul>
<li>出栈指令</li>
</ul>
</li>
<li>中断返回<ul>
<li>中断返回指令</li>
</ul>
</li>
</ol>
</li>
<li>单重中断和多重中断<ul>
<li>单重中断：不允许中断 现行的中断服务程序</li>
<li>多重中断：允许级别更高的中断源 中断 现行的中断服务程序</li>
</ul>
</li>
<li>单重中断和多重中断的服务程序流程</li>
</ul>
<h2 id="DMA方式"><a href="#DMA方式" class="headerlink" title="DMA方式"></a>DMA方式</h2><p><strong>CPU 和 I/O 并行工作，不中断现行程序  周期挪用</strong></p>
<p>DMA 方式的特点</p>
<ul>
<li>主存和DMA接口间有一条数据通路，工作速度比程序中断方式快</li>
</ul>
<h3 id="DMA-与主存交换数据的三种方式"><a href="#DMA-与主存交换数据的三种方式" class="headerlink" title="DMA 与主存交换数据的三种方式"></a>DMA 与主存交换数据的三种方式</h3><ol>
<li>停止 CPU 访问主存<ul>
<li>控制简单，CPU 处于不工作状态或保持状态，未充分发挥CPU对主存的利用率</li>
</ul>
</li>
<li>周期挪用（或周期窃取）<ul>
<li>DMA 访问主存有三种可能：<ol>
<li>CPU 此时不访存</li>
<li>CPU 正在访存</li>
<li>CPU 与 DMA 同时请求访存（访问冲突，此时CPU将总线控制权让给DMA）</li>
</ol>
</li>
</ul>
</li>
<li>DMA 与 CPU 交替访问<ul>
<li>CPU 工作周期（所有指令执行过程中的一个基准时间）：C1专供和C2专供</li>
<li>不需要申请建立和归还总线的使用权</li>
</ul>
</li>
</ol>
<h3 id="DMA-接口的功能和组成"><a href="#DMA-接口的功能和组成" class="headerlink" title="DMA 接口的功能和组成"></a>DMA 接口的功能和组成</h3><ol>
<li>DMA 接口功能<ol>
<li>向CPU申请DMA传送</li>
<li>处理总线控制权的转交</li>
<li>管理系统总线、控制数据传送</li>
<li>确定数据传送的首地址和长度，修正传送过程中的数据地址和长度</li>
<li>DMA传送结束时，给出操作完成信号</li>
</ol>
</li>
<li>DMA 接口组成<ol>
<li>主存地址寄存器（AR）</li>
<li>字计数器（WC）</li>
<li>数据缓冲寄存器（BR）</li>
<li>DMA控制逻辑</li>
<li>中断机构</li>
<li>设备地址寄存器（DAR）</li>
</ol>
</li>
</ol>
<h3 id="DMA-的工作过程"><a href="#DMA-的工作过程" class="headerlink" title="DMA 的工作过程"></a>DMA 的工作过程</h3><ol>
<li><p>DMA 传送过程</p>
<ol>
<li><p>预处理</p>
<ul>
<li><p>通知 DMA 控制逻辑传送方向（入/出）</p>
</li>
<li><p>主存起始地址 =&gt; DMA的AR</p>
</li>
<li>设备地址 =&gt; DMA的DAR</li>
<li>传送数据个数 =&gt; DMA的WC</li>
<li>启动设备</li>
</ul>
</li>
<li><p>数据传送</p>
<ul>
<li>继续执行主程序，同时完成一批数据传送</li>
<li>数据输入</li>
<li>数据输出</li>
</ul>
</li>
<li><p>后处理</p>
<ul>
<li>校验送入主存的数是否正确</li>
<li>是否继续用 DMA</li>
<li>测试传送过程是否正确，错则转诊断程序</li>
<li>由中断服务程序完成，做DMA结束处理</li>
</ul>
</li>
</ol>
</li>
<li><p>DMA 接口与系统的连接方式</p>
<ol>
<li>具有公共请求线的 DMA 请求</li>
<li>独立的 DMA 请求</li>
</ol>
</li>
</ol>
<h3 id="DMA-接口的类型"><a href="#DMA-接口的类型" class="headerlink" title="DMA 接口的类型"></a>DMA 接口的类型</h3><ol>
<li>选择型<ul>
<li>在物理上连接多个设备，在逻辑上只允许连接一个设备</li>
</ul>
</li>
<li>多路型<ul>
<li>在物理上连接多个设备，在逻辑上允许连接多个设备同时工作 </li>
<li>工作原理</li>
</ul>
</li>
</ol>
<h3 id="DMA-方式与程序中断方式的比较"><a href="#DMA-方式与程序中断方式的比较" class="headerlink" title="DMA 方式与程序中断方式的比较"></a>DMA 方式与程序中断方式的比较</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">中断方式</th>
<th style="text-align:center">DMA 方式</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">数据传送</td>
<td style="text-align:center">程序</td>
<td style="text-align:center">硬件</td>
</tr>
<tr>
<td style="text-align:center">响应时间</td>
<td style="text-align:center">指令执行</td>
<td style="text-align:center">存取周期结束</td>
</tr>
<tr>
<td style="text-align:center">处理异常情况</td>
<td style="text-align:center">能</td>
<td style="text-align:center">不能</td>
</tr>
<tr>
<td style="text-align:center">中断请求</td>
<td style="text-align:center">传送数据</td>
<td style="text-align:center">后处理</td>
</tr>
<tr>
<td style="text-align:center">优先级</td>
<td style="text-align:center">低</td>
<td style="text-align:center">高</td>
</tr>
</tbody>
</table>
</div>
<h1 id="计算机的运算方法"><a href="#计算机的运算方法" class="headerlink" title="计算机的运算方法"></a>计算机的运算方法</h1><h2 id="无符号数和有符号数"><a href="#无符号数和有符号数" class="headerlink" title="无符号数和有符号数"></a>无符号数和有符号数</h2><p>数均存放在寄存器中，通常称寄存器的位数为机器字长。</p>
<ul>
<li>无符号数：16位：0 ~ 65535</li>
<li>有符号数：16位：-32768 ~ +32767（补码）</li>
</ul>
<ol>
<li><p>原码表示法</p>
<ul>
<li>整数：<ul>
<li>$x=+1110$，$[x]_原=0,x=0,1110$</li>
<li>$x=-1110$，$[x]_原=2^n-x=2^4-(-1110)=1,1110$</li>
</ul>
</li>
<li>小数：<ul>
<li>$x=+0.1101$，$[x]_原=x=0.1101$</li>
<li>$x=-0.1101$，$[x]_原=1-x=1-(-0.1101)=1.1101$</li>
</ul>
</li>
</ul>
</li>
<li><p>反码表示法</p>
<ul>
<li>整数：<ul>
<li>$x=+1101$，$[x]_反=0,x=0,1101$</li>
<li>$x=-1101$，$[x]_反=(2^{n+1}-1)+x=(2^{4+1}-1)-1101=1,0100$</li>
</ul>
</li>
<li>小数：<ul>
<li>$x=+0.1101$，$[x]_反=x=0.1101$</li>
<li>$x=-0.1010$，$[x]_反=(2-2^{-n})+x=(2-2^{-4})-1010=1,0101$</li>
</ul>
</li>
</ul>
</li>
<li><p>补码表示法</p>
<ul>
<li>整数：<ul>
<li>$x=+1010$，$[x]_补=0,x=0,1010$</li>
<li>$x=-1011000$，$[x]_原=2^{n+1}+x=2^{7+1}+(-1011000)=1,0101000$</li>
</ul>
</li>
<li>小数：<ul>
<li>$x=+0.1110$，$[x]_原=x=0.1110$</li>
<li>$x=-0.1100000$，$[x]_原=2+x=2+(-0.1100000)=1.0100000$</li>
</ul>
</li>
</ul>
<blockquote>
<p>对于正数，原码 = 补码 = 反码</p>
<p>对于负数 ，符号位为 1，其 数值部分：</p>
<ul>
<li>原码 除符号位外 每位取反 =&gt; 反码</li>
<li>原码 除符号位外 每位取反末位加 1 =&gt; 补码</li>
<li>反码末位加 1 =&gt; 补码</li>
</ul>
<p>$[+0]_反 ≠ [-0]_反$</p>
</blockquote>
</li>
<li><p>移码表示法</p>
<ul>
<li>$[x]_移=2^n+x$</li>
<li>x 为真值，n 为 整数的位数（移码为n +1位）</li>
</ul>
<blockquote>
<p>补码与移码只差一个符号位</p>
<p>$[+0]_移 = [-0]_移$</p>
<p>最小真值的移码为全 0</p>
</blockquote>
</li>
</ol>
<h2 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h2><p>定点数小数点位置固定不变，当计算机处理非纯小数或纯整数时，可用浮点数表示。</p>
<ul>
<li>浮点数的一般形式：$N=S×r^j$</li>
<li>S 尾数  j 阶码  r 基数（基值）</li>
<li>规格化：<ul>
<li>当尾数的值不为 0 时，其绝对值应≥0.5，即尾数域的最高有效位应为1,否则修改阶码同时左右移小数点</li>
<li>基数不同，浮点数的规格化形式不同。基数 r 越大，可表示的浮点数的范围越大，浮点数的精度降低 </li>
<li>例：当$r=2$时，$N=11.0101=0.110101×2^{10}$</li>
</ul>
</li>
<li>表示形式：【阶码j】[阶符|阶码的数值部分]+【尾数S】[数符|尾数的数值部分]</li>
<li><strong>表示范围</strong>：（假设阶码数值m位，尾数数值n位）<ul>
<li>负数：$-2^{-(2^m-1)}×(1-2^{-n})\sim-2^{(2^m-1)}×2^{-n}$</li>
<li>正数：$2^{-(2^m-1)}×2^{-n}\sim2^{(2^m-1)}×(1-2^{-n})$</li>
</ul>
</li>
<li><strong>溢出判断</strong><ul>
<li><strong>上溢   阶码 &gt; 最大阶码</strong></li>
<li><strong>下溢   阶码 &lt; 最小阶码   按 机器零 处理</strong></li>
</ul>
</li>
<li>机器零<ul>
<li>当浮点数尾数为 0 时，不论其阶码为何值按机器零处理</li>
<li>当浮点数 阶码等于或小于它所表示的最小数时，不论尾数为何值，按机器零处理</li>
</ul>
</li>
<li><strong>IEEE 754 标准</strong><ul>
<li>S：浮点数的符号位，1 位，0正1负</li>
<li>M：尾数，用原码表示，小数点放在尾数域的最前面。当尾数为规格化表示时，包含一位隐藏位，即尾数M对应的真值是1.M。当尾数为非规格化表示时，不包含隐藏位，即尾数M对应的真值是0.M。</li>
<li>E：阶码，阶符采用隐含方式，即采用移码方式来表示正负指数。采用这种方式时，将浮点数的指数真值e 变成阶码E时，应将指数 e 加上一个固定的偏移值offset，即 E＝e＋ offset. </li>
<li>当阶码E为全0且尾数M也为全0时，表示的真值x为零，结合符号位S为0或1，有正零和负零之分；当阶码E为全1且尾数M为全0时，表示的真值x为无穷大，结合符号位S为0或1，有+∞和-∞之分。</li>
<li><strong>32位浮点数：符号位S = 1，阶码E = 8，尾数M = 23</strong></li>
</ul>
</li>
</ul>
<h2 id="定点运算"><a href="#定点运算" class="headerlink" title="定点运算"></a>定点运算</h2><h3 id="移位运算"><a href="#移位运算" class="headerlink" title="移位运算"></a>移位运算</h3><p>算术移位规则：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">码制</th>
<th style="text-align:center">添补代码</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">正数</td>
<td style="text-align:center">原码、补码、反码</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">/</td>
<td style="text-align:center">原码</td>
<td style="text-align:center">0</td>
</tr>
<tr>
<td style="text-align:center">负数</td>
<td style="text-align:center">补码</td>
<td style="text-align:center">左移添0，右移添1</td>
</tr>
<tr>
<td style="text-align:center">\</td>
<td style="text-align:center">反码</td>
<td style="text-align:center">1</td>
</tr>
</tbody>
</table>
</div>
<p>逻辑移位：无符号数的移位。左移：低位添 0，高位移丢；右移：高位添 0，低位移丢。</p>
<h3 id="加减法运算"><a href="#加减法运算" class="headerlink" title="加减法运算"></a>加减法运算</h3><p><strong>补码加减运算公式</strong></p>
<ol>
<li>加法：<ul>
<li>整数：$[A]_补+[B]_补=[A+B]_补(mod\;2^{n+1})$</li>
<li>小数：$[A]_补+[B]_补=[A+B]_补(mod\;2)$</li>
</ul>
</li>
<li>减法：<ul>
<li>整数：$[A-B]_补=[A+(-B)]_补=[A]_补+[-B]_补(mod\;2^{n+1})$</li>
<li>小数：$[A-B]_补=[A+(-B)]_补=[A]_补+[-B]_补(mod\;2)$</li>
</ul>
</li>
</ol>
<p><strong>溢出判断</strong></p>
<ol>
<li><p><strong>用一位符号位判溢出</strong></p>
<ul>
<li><strong>参加操作的 两个数（减法时即为被减数和“求补”以后的减数）符号相同，其结果的符号与原操作数的符号不同，即为溢出</strong></li>
<li>硬件实现：最高有效位的进位⊕符号位的进位 = 1  溢出</li>
</ul>
</li>
<li><p><strong>用两位符号位判溢出</strong></p>
<script type="math/tex; mode=display">
[x]_补=\left\{
\begin{array}{rcl}
x     &      & {2(1)>x\geq 0}\\
F_R   &      & {0>x\geq-2(1)}&(mod4)
\end{array} \right.\\
\lbrack x\rbrack_{补'}+\lbrack y\rbrack_{补'}=\lbrack x+y\rbrack_{补'}\;(mod4)\\
\lbrack x-y\rbrack_{补'}=\lbrack x\rbrack_{补'}+\lbrack -y\rbrack_{补'}\;(mod4)</script><p><strong>结果的双符号位相同未溢出，不同则溢出</strong></p>
<p>最高符号位代表其真正的符号</p>
</li>
<li><p>补码加减法的硬件配置</p>
</li>
</ol>
<h3 id="乘法运算"><a href="#乘法运算" class="headerlink" title="乘法运算"></a>乘法运算</h3><ol>
<li><p>笔算乘法改进</p>
<script type="math/tex; mode=display">
\begin{equation}
\begin{aligned}
A\cdot B&=A\cdot 0.1011\\
&=0.1A+0.00A+0.001A+0.0001A\\
&=0.1A+0.00A+0.001(A+0.1A)\\
&=0.1A+0.01[0\cdot A+0.1(A+0.1A)]\\
&=0.1\{A +0.1[0\cdot A+0.1(A+0.1A)]\}\\
&=2^{-1}{A+2^{-1}[0\cdot A+2^{-1}(A+2^{-1}(A+0))]}\\
\end{aligned}
\end{equation}</script></li>
</ol>
<p>   乘法运算可用加和移位实现。由乘数的末位决定被乘数是否与原部分积相加，然后—&gt;1 位形成新的部分积，同时 乘数—&gt;1位（末位移丢），空出高位存放部分积的低位。被乘数只与部分积的高位相加。</p>
<ol>
<li><p>原码乘法</p>
<ul>
<li><p>原码一位乘运算规则</p>
<script type="math/tex; mode=display">
[x]_原 = x_0.x_1x_2···x_n,[y]_原 = y_0.y_1y_2···y_n\\
\lbrack x\cdot y\rbrack_原 = (x_0\oplus y_0).(0.x_1x_2···x_n)(0.y_1y_2···y_n)= (x_0\oplus y_0).x^*y^*</script></li>
<li><p>原码一位乘的硬件配置</p>
<p>| 乘数 y_{n-1}  y_n​ |     新的部分积      |<br>| :———————-: | :————————-: |<br>|       0  0        |     加 “0” → 2      |<br>|       0  1        |    加被乘数 → 2     |<br>|       1  0        | 加 2 倍的被乘数 → 2 |<br>|       1  1        | 加 3 倍的被乘数 → 2 |</p>
<p>部分积与被乘数均采用3位符号,乘数末位增加1位Cj,其初值为0。若数值部分长度n为奇数，则运算时将乘数加一个符号且为0，以便形成偶数位，此时需做n/2+1次移位（最后一次仅移一位），最多需作n/2+1次加法；若n为偶数，则需做n/2次移位，最多需做n/2+1次加法。若最后一次Cj仍为1，则需再做一次加x操作，以便还清欠账。</p>
</li>
<li><p>比较</p>
<p>|      | 符号位  |    操作数    |   移位   |  移位次数  | 最多加法次数 |<br>| :—: | :——-: | :—————: | :———: | :————: | :—————: |<br>|  一  | x_0⊕y_0 |    绝对值    | 逻辑右移 |     n      |      n       |<br>|  两  | x_0⊕y_0 | 绝对值的补码 | 算术右移 | n/2或n/2+1 |    n/2+1     |</p>
</li>
</ul>
</li>
<li><p>补码乘法</p>
<ul>
<li><p>补码一位乘运算</p>
<ul>
<li>y符号为正：$[x\cdot y]_补=[x]_补\cdot [y]_补=[x]_补\cdot y$</li>
<li>y符号为负：$[x\cdot y]_补=[x]_补(0.y_1y_2···y_n)+[-x]_补$</li>
</ul>
</li>
<li><p><strong>Booth 算法</strong></p>
<script type="math/tex; mode=display">
\begin{equation}
\begin{aligned}
\lbrack x\cdot y \rbrack _补 &= [x]_补(0.y_1y_2···y_n)-[x]_补\cdot y_0\\
             &= [x]_补(–y_0+y_12^{-1}+y_22^{-2}+···+yn2^{-n})\\
             &= [x]_补[–y_0+(y_1–y_12^{-1})+(y_22^{-1}–y_22^{-2})+···+(y_n2^{-(n-1)}–y_n2^{-n})]\\
             &= [x]_补[(y_1–y_0)+(y_2–y_1)2^{-1}+···+(y_n–y_{n-1})2^{-(n-1)}+(0–y_n)2^{-n})]\\
             &= [x]_补[(y_1–y_0)+(y_2–y_1)2^{-1}+···+(y_{n+1}–y_n)2^{-n}]
\end{aligned}
\end{equation}</script></li>
</ul>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">yi  y{i+1}​</th>
<th style="text-align:center">y{i+1} - yi​</th>
<th style="text-align:center">操作</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0  0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">→1</td>
</tr>
<tr>
<td style="text-align:center">0  1</td>
<td style="text-align:center">1</td>
<td style="text-align:center">+[x]补​ → 1</td>
</tr>
<tr>
<td style="text-align:center">1  0</td>
<td style="text-align:center">-1</td>
<td style="text-align:center">+[-x]补​ →1</td>
</tr>
<tr>
<td style="text-align:center">1  1</td>
<td style="text-align:center">0</td>
<td style="text-align:center">→1</td>
</tr>
</tbody>
</table>
</div>
<p><img src="/ComputerOrganization/image-20200418204251323.png" alt="image-20200418204251323" style="zoom:50%;"></p>
<h3 id="除法运算"><a href="#除法运算" class="headerlink" title="除法运算"></a>除法运算</h3><ol>
<li><p>笔算除法和机器除法</p>
<p>笔算除法：商符单独处理。余数不动低位补“0”，减右移一位的除数；2倍字长加法器；上商位置 不固定。</p>
<p>机器除法：符号位异或形成。|x|–|y|＞0上商 1，&lt;0上商0；余数左移一位低位补“0”，减 除数；1倍字长加法器；在寄存器最末位上商。</p>
</li>
<li><p>原码除法</p>
<script type="math/tex; mode=display">
[\frac{x}{y}]_原= (x_0\oplus y_0).\frac{x^*}{y^*}</script><ul>
<li><p>恢复余数法</p>
<p>余数 Ri＞0   上商 “1”，2Ri – y* </p>
<p>余数 Ri＜0   上商 “0”，Ri + y*      恢复余数 </p>
</li>
<li><p>加减交替法</p>
<p>上商“1”        2Ri – y*</p>
<p>上商“0”        2Ri + y* </p>
<p>特点：上商  n+1 次；第一次上商判溢出；移 n 次，加 n+1 次；用移位的次数判断除法是否结束。</p>
<p><img src="/ComputerOrganization/image-20200418212934362.png" alt="image-20200418212934362" style="zoom:50%;"></p>
</li>
</ul>
</li>
<li><p>补码除法</p>
<p>补码除法共上商 n +1 次（末位恒置 1），第一次为商符；第一次商可判溢出；加 n 次   移 n 次；用移位的次数判断除法是否结束；精度误差最大为  2-n。</p>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">[x]补​ 和 [y]补​</th>
<th style="text-align:center">[Ri]补</th>
<th style="text-align:center">[Ri]补​与[y]补​</th>
<th style="text-align:center">商值</th>
<th style="text-align:center">新余数</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">同号</td>
<td style="text-align:center">[x]补​- ​[y]补​</td>
<td style="text-align:center">同号</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2[Ri]补​+​[-y]补​​</td>
</tr>
<tr>
<td style="text-align:center">异号</td>
<td style="text-align:center">[x]补+[y]补</td>
<td style="text-align:center">异号</td>
<td style="text-align:center">0</td>
<td style="text-align:center">[Ri]补+[y]补</td>
</tr>
</tbody>
</table>
</div>
<h2 id="浮点运算"><a href="#浮点运算" class="headerlink" title="浮点运算"></a>浮点运算</h2><h3 id="加减运算"><a href="#加减运算" class="headerlink" title="加减运算"></a>加减运算</h3><p>$x=S_x\cdot 2^{j_x}$，$y=S_y\cdot 2^{j_y}$</p>
<ol>
<li><p><strong>对阶</strong></p>
<ol>
<li>求阶差：$\triangle j=j_x-j_y$</li>
<li>对阶原则：小阶向大阶看齐</li>
</ol>
</li>
<li><p><strong>尾数求和</strong></p>
</li>
<li><p><strong>规格化</strong></p>
<ol>
<li><p>规格化数的定义</p>
<p>r = 1/2      1/2 ≤ |S| ＜ 1</p>
</li>
<li><p>规格化数的判断</p>
<p>原码     不论正数、负数，第一数位为1</p>
<p>补码     符号位和第 一数位不同</p>
<p>特例：$[-\frac{1}{2}]_补$不是规格化的数，$[-1]_补$是规格化的数</p>
</li>
<li><p>左规</p>
<p>尾数左移一位，阶码减 1，直到数符和第一数位不同为止 </p>
</li>
<li><p>右规</p>
<p>当 尾数溢出（ &gt;1）时，需右规，即尾数出现 01. ××···×或 10. ××···×时；尾数右移一位，阶码加 1</p>
</li>
</ol>
</li>
<li><p>舍入</p>
<p>在对阶和右规过程中，可能出现尾数末位丢失引起误差，需考虑舍入</p>
<ol>
<li>0 舍 1 入法 </li>
<li>恒置 “1” 法</li>
</ol>
</li>
<li><p>溢出判断</p>
</li>
</ol>
<h3 id="乘除运算"><a href="#乘除运算" class="headerlink" title="乘除运算"></a>乘除运算</h3><ol>
<li><p>乘法：$x\cdot y=(S_x\cdot S_y)\times 2^{j_x+j_y}$</p>
</li>
<li><p>除法：$\frac{x}{y}=\frac{S_x}{S_y}\times 2^{j_x-j_y}$</p>
</li>
<li><p>步骤：</p>
<ol>
<li>阶码采用补码定点加（乘法）减（除法）运算</li>
<li>尾数乘除同 定点 运算</li>
<li>规格化</li>
</ol>
</li>
<li><p>浮点运算部件</p>
<p>阶码运算部件，尾数运算部件</p>
</li>
</ol>
<h2 id="算术逻辑单元"><a href="#算术逻辑单元" class="headerlink" title="算术逻辑单元"></a>算术逻辑单元</h2><h3 id="ALU电路"><a href="#ALU电路" class="headerlink" title="ALU电路"></a>ALU电路</h3><p><img src="/ComputerOrganization/image-20200427012730757.png" alt="image-20200427012730757" style="zoom:50%;"></p>
<ul>
<li><p>一位全加器（FA）</p>
<p>$F_i=A_i\oplus B_i\oplus C_i$</p>
<p>$C_{i+1}=A_iB_i+B_iC_i+C_iA_i$</p>
</li>
<li><p>一位算术/逻辑运算单元</p>
<p>将Ai和Bi先组合成由控制参数S0,S1,S2,S3控制的组合函数Xi和Yi,然后再将Xi,Yi和下一位进位数通过全加器进行全加。</p>
<p>$F_i=X_i\oplus Y_i\oplus C_{n+i}$</p>
<p>$C_{n+i+1}=X_iY_i+Y_iC_{n+i}+C_{n+i}X_i$</p>
</li>
<li><p><strong>四位ALU 74181</strong></p>
<p>M=0        算术运算</p>
<p>M=1        逻辑运算</p>
<p>S3 ~ S0：不同取值，可做不同运算；B3~B0 和 A3~A0：两个操作数</p>
<p>F3~F0：输出结果；A=B：为1表示两个操作数相同</p>
<p>Cn：最低位的外来进位；$C_{n+4}$：向高位的进位</p>
<p>P、G：用于先行进位（G：本地进位； P：传送条件）</p>
</li>
</ul>
<h3 id="快速进位链"><a href="#快速进位链" class="headerlink" title="快速进位链"></a>快速进位链</h3><ol>
<li>并行加法器</li>
<li>串行进位链</li>
<li>并行进位链<ol>
<li>单重分组跳跃进位链</li>
<li>双重分组跳跃进位链</li>
</ol>
</li>
</ol>
<h1 id="指令系统"><a href="#指令系统" class="headerlink" title="指令系统"></a>指令系统</h1><p>机器的指令系统集中反映了机器的功能。</p>
<h2 id="机器指令"><a href="#机器指令" class="headerlink" title="机器指令"></a>机器指令</h2><ol>
<li>一般格式<ul>
<li>操作码：<ul>
<li>通常其位数反映机器允许的指令条数 2^n</li>
<li>长度固定用于指令字长较长的情况，RISC；长度可变，操作码分散在指令字的不同字段</li>
<li>扩展操作码技术：使操作码的位数随地址数的减少而增加</li>
</ul>
</li>
<li>地址码：<ul>
<li>四地址</li>
<li>三地址</li>
<li>二地址</li>
<li>一地址</li>
<li>零地址：无地址码</li>
</ul>
</li>
</ul>
</li>
<li>指令字长<ul>
<li>影响因素：操作码的长度、操作数地址的长度和个数</li>
<li>固定：指令字长 = 存储字长</li>
<li>可变：按字节倍数变化</li>
</ul>
</li>
</ol>
<h2 id="操作数类型和操作类型"><a href="#操作数类型和操作类型" class="headerlink" title="操作数类型和操作类型"></a>操作数类型和操作类型</h2><h2 id="寻址方式"><a href="#寻址方式" class="headerlink" title="寻址方式"></a>寻址方式</h2><p>确定本条指令的操作地址，下一条要执行指令的指令地址</p>
<p><strong>指令寻址</strong></p>
<ol>
<li>顺序：（PC）+1→PC</li>
<li>跳跃：通过转移指令实现</li>
</ol>
<p><strong>数据寻址</strong></p>
<p>形式地址A：指令字中的地址</p>
<p>有效地址EA：操作数的真实地址，有=由寻址方式和形式地址共同确定</p>
<ol>
<li>立即寻址<ul>
<li>A即操作数，A的位数限制了立即数的范围</li>
<li>指令执行阶段不访存</li>
</ul>
</li>
<li>直接寻址<ul>
<li>EA = A</li>
<li>A的位数决定了该指令操作数的寻址范围</li>
<li>执行阶段访问1次存储器</li>
</ul>
</li>
<li>隐含寻址<ul>
<li>操作数地址隐含在操作码或某个寄存器中</li>
<li>有利于缩短字长</li>
</ul>
</li>
<li>间接寻址<ul>
<li>EA = （A）</li>
<li>执行指令阶段2次访存</li>
<li>便于编制程序    多次访存</li>
</ul>
</li>
<li><strong>寄存器寻址</strong><ul>
<li>EA = Ri</li>
<li>执行阶段不访存，只访问寄存器，执行速度快</li>
<li>寄存器个数有限，可缩短指令字长</li>
</ul>
</li>
<li>寄存器间接寻址<ul>
<li>EA = （Ri）</li>
<li>有效地址在寄存器中，操作数在存储器中，执行阶段访存</li>
<li>便于编制循环程序</li>
</ul>
</li>
<li><strong>基址寻址</strong><ul>
<li><strong>EA = （BR）+A</strong></li>
<li>可扩大寻址范围，有利于多道程序</li>
<li><strong>BR为基址寄存器，内容由操作系统或管理程序确定</strong></li>
<li>执行过程中，BR内容不变，A可变</li>
</ul>
</li>
<li>变址寻址<ul>
<li>EA = （IX）+A</li>
<li>可扩大寻址范围，IX的内容由用户决定</li>
<li>便于处理数组问题</li>
<li>执行过程中，IX内容可变，A不变</li>
</ul>
</li>
<li><strong>相对寻址</strong><ul>
<li>EA = （PC）+A</li>
<li>A是相对于当前指令的位移量</li>
<li>程序浮动，广泛应用于转移指令</li>
</ul>
</li>
<li>堆栈寻址<ul>
<li>硬堆栈，软堆栈</li>
<li>先进后出，栈顶地址由SP指出</li>
</ul>
</li>
</ol>
<h2 id="指令格式举例"><a href="#指令格式举例" class="headerlink" title="指令格式举例"></a>指令格式举例</h2><p>设计指令格式时考虑因素：</p>
<ol>
<li>指令系统的兼容性</li>
<li>其他因素<ul>
<li>操作类型</li>
<li>数据类型</li>
<li>指令格式</li>
<li>寻址方式</li>
<li>寄存器个数</li>
</ul>
</li>
</ol>
<p>IBM 360</p>
<p>Intel 8086</p>
<h2 id="RISC技术"><a href="#RISC技术" class="headerlink" title="RISC技术"></a>RISC技术</h2><p>RISC主要特征：</p>
<ul>
<li>选用使用频度较高的简单指令，复杂指令的功能由简单指令组合</li>
<li>指令长度固定，指令格式种类少，寻址方式少</li>
<li>只有LOAD/STORE指令访存</li>
<li>CPU中有多个通用寄存器</li>
<li>流水技术，一个时钟周期内完成一条指令</li>
<li>采用组合逻辑实现控制器</li>
</ul>
<h1 id="CPU的结构和功能"><a href="#CPU的结构和功能" class="headerlink" title="CPU的结构和功能"></a>CPU的结构和功能</h1><h2 id="CPU的结构"><a href="#CPU的结构" class="headerlink" title="CPU的结构"></a>CPU的结构</h2><p>运算器 + 控制器</p>
<h3 id="CPU的功能"><a href="#CPU的功能" class="headerlink" title="CPU的功能"></a>CPU的功能</h3><ol>
<li><p>控制器的功能：</p>
<p>取指令，分析指令，执行指令，控制程序输入及结果输出，总线管理，处理异常情况和特殊请求</p>
</li>
<li><p>运算器功能：</p>
<p>实现算术运算和逻辑运算</p>
</li>
</ol>
<p><strong>总结：指令控制，操作控制，时间控制，处理中断，数据加工</strong></p>
<h3 id="CPU结构框图"><a href="#CPU结构框图" class="headerlink" title="CPU结构框图"></a>CPU结构框图</h3><p><img src="/ComputerOrganization/image-20200627183844337.png" alt="image-20200627183844337"><img src="/ComputerOrganization/image-20200627183955852.png" alt="image-20200627183955852"></p>
<h3 id="CPU的寄存器"><a href="#CPU的寄存器" class="headerlink" title="CPU的寄存器"></a>CPU的寄存器</h3><ol>
<li>用户可见的寄存器<ol>
<li>通用寄存器</li>
<li>数据寄存器</li>
<li>地址寄存器</li>
<li>条件码寄存器</li>
</ol>
</li>
<li>控制和状态寄存器<ol>
<li>MAR：存储器地址寄存器</li>
<li>MDR：存储器数据寄存器</li>
<li>PC：程序计数器</li>
<li>IR：指令寄存器</li>
</ol>
</li>
</ol>
<h3 id="控制单元和中断系统"><a href="#控制单元和中断系统" class="headerlink" title="控制单元和中断系统"></a>控制单元和中断系统</h3><p>CU：提供完成计算机全部指令操作的微操作命令序列部件</p>
<ul>
<li>组合逻辑设计：硬连线逻辑</li>
<li>微程序设计：存储逻辑</li>
</ul>
<p>中断系统：处理计算机的各种中断</p>
<h2 id="指令周期"><a href="#指令周期" class="headerlink" title="指令周期"></a>指令周期</h2><h3 id="基本概念-1"><a href="#基本概念-1" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li>定义：取出并执行一条指令所需的全部时间</li>
<li>取指周期</li>
<li>取指周期+执行周期</li>
<li>取指周期+间址周期+执行周期</li>
<li>取指周期+间址周期+间址周期+中断周期</li>
</ul>
<h3 id="指令周期的数据流"><a href="#指令周期的数据流" class="headerlink" title="指令周期的数据流"></a>指令周期的数据流</h3><ol>
<li>取指周期数据流</li>
<li>间址周期数据流</li>
<li>间址周期数据流</li>
<li>中断周期数据流</li>
</ol>
<h2 id="指令流水"><a href="#指令流水" class="headerlink" title="指令流水"></a>指令流水</h2><h2 id="中断系统"><a href="#中断系统" class="headerlink" title="中断系统"></a>中断系统</h2><p>引起中断的各种因素：</p>
<ol>
<li>人为设置的中断</li>
<li>程序性事故</li>
<li>硬件故障</li>
<li>I/O设备</li>
<li>外部事件</li>
</ol>
<h3 id="中断请求标记和中断判优逻辑"><a href="#中断请求标记和中断判优逻辑" class="headerlink" title="中断请求标记和中断判优逻辑"></a>中断请求标记和中断判优逻辑</h3><ol>
<li>中断请求标记  INTR</li>
<li>中断判优逻辑<ol>
<li>硬件实现（排队器）</li>
<li>软件实现（程序查询）</li>
</ol>
</li>
</ol>
<h3 id="中断服务程序入口地址的寻找"><a href="#中断服务程序入口地址的寻找" class="headerlink" title="中断服务程序入口地址的寻找"></a>中断服务程序入口地址的寻找</h3><ol>
<li>硬件向量法</li>
<li>软件查询法</li>
</ol>
<h3 id="中断响应"><a href="#中断响应" class="headerlink" title="中断响应"></a>中断响应</h3><ol>
<li>条件：EINT = 1</li>
<li>时间：指令执行周期结束后，由CPU发查询信号</li>
<li>中断隐指令（CPU在中断周期内由硬件自动完成）<ol>
<li>保护程序断点</li>
<li>寻找服务程序入口地址</li>
<li>硬件关中断</li>
</ol>
</li>
</ol>
<h3 id="保护现场和恢复现场"><a href="#保护现场和恢复现场" class="headerlink" title="保护现场和恢复现场"></a>保护现场和恢复现场</h3><p>保护现场：保护程序断点、保护CPU内部各寄存器内容</p>
<h3 id="中断屏蔽技术"><a href="#中断屏蔽技术" class="headerlink" title="中断屏蔽技术"></a>中断屏蔽技术</h3><p>主要用于多重中断。</p>
<p>实现多重中断的条件：</p>
<ol>
<li>提前设置“开中断”指令</li>
<li>优先级别高的中断源有权中断优先级别低的中断源</li>
</ol>
<p>屏蔽触发器与屏蔽字：</p>
<ul>
<li>当MASK=1时，即使D=1，中断查询信号到来只能使INTR置“0”，CPU接收不到请求</li>
<li>每个INTR有一个MASK，MASK组合构成屏蔽寄存器，其中的内容称为<strong>屏蔽字</strong></li>
</ul>
<p>改变优先等级：</p>
<ul>
<li><strong>响应优先级</strong>：<strong>CPU响应各中断源请求的优先次序</strong>（硬件线路设置好不便改动）</li>
<li><strong>处理优先级</strong>：<strong>CPU实际对各中断源请求的处理顺序</strong></li>
</ul>
<p>例：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">中断源</th>
<th style="text-align:center">原屏蔽字</th>
<th style="text-align:center">新屏蔽字</th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">A</td>
<td style="text-align:center">1 1 1 1</td>
<td style="text-align:center">1 1 1 1</td>
<td style="text-align:center">优先级最高，全为1</td>
</tr>
<tr>
<td style="text-align:center">B</td>
<td style="text-align:center">0 1 1 1</td>
<td style="text-align:center">0 1 0 0</td>
<td style="text-align:center">A、D、C的优先级比B大，所以第1、3、4位是0，其余为1</td>
</tr>
<tr>
<td style="text-align:center">C</td>
<td style="text-align:center">0 0 1 1</td>
<td style="text-align:center">0 1 1 0</td>
<td style="text-align:center">A、D的优先级比C大，所以第1、4位是0，其余为1</td>
</tr>
<tr>
<td style="text-align:center">D</td>
<td style="text-align:center">0 0 0 1</td>
<td style="text-align:center">0 1 1 1</td>
<td style="text-align:center">A的优先级比D大，所以第1位是0，其余为1</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">A→B→C→D</td>
<td style="text-align:center">A→D→C→B</td>
</tr>
</tbody>
</table>
</div>
<h1 id="控制单元的功能"><a href="#控制单元的功能" class="headerlink" title="控制单元的功能"></a>控制单元的功能</h1><p>为完成不同指令所发出的各种操作命令（控制信号）控制计算机所有部件有次序地完成相应的操作，以达到执行程序的目的。</p>
<h2 id="微操作命令的分析"><a href="#微操作命令的分析" class="headerlink" title="微操作命令的分析"></a>微操作命令的分析</h2><p>完成一条指令4个工作周期：取指 间址 执行 中断</p>
<h3 id="一、取指周期"><a href="#一、取指周期" class="headerlink" title="一、取指周期"></a>一、取指周期</h3><ol>
<li>PC→MAR→地址线</li>
<li>1→R</li>
<li>M（MAR）→MDR</li>
<li>MDR→IR</li>
<li>OP（IR）→CU</li>
<li>（PC）+1→PC</li>
</ol>
<h3 id="二、间址周期"><a href="#二、间址周期" class="headerlink" title="二、间址周期"></a>二、间址周期</h3><ol>
<li>Ad（IR）→MAR</li>
<li>1→R</li>
<li>M（MAR）→MDR</li>
<li>MDR→Ad（IR）（有些机器中可省略）</li>
</ol>
<h3 id="三、执行周期"><a href="#三、执行周期" class="headerlink" title="三、执行周期"></a>三、执行周期</h3><p>非访存指令：</p>
<ol>
<li>CLA    $0→ACC$</li>
<li>COM    取反    $\overline{ACC} \rightarrow ACC$</li>
<li>SHR    算术右移    $L(ACC)\rightarrow R(ACC), ACC_0 \rightarrow ACC_0$</li>
<li>CSL    循环左移    $R(ACC)\rightarrow L(ACC), ACC_0 \rightarrow ACC_n$</li>
<li>STP    停机指令    $0\rightarrow G$</li>
</ol>
<p>访存指令</p>
<ol>
<li>加法指令    ADD X</li>
<li>存数指令    STA X</li>
<li>取数指令    LDA X</li>
</ol>
<p>转移指令</p>
<ol>
<li>无条件转    JMP X</li>
<li>条件转移    BAN X</li>
</ol>
<h3 id="四、中断周期"><a href="#四、中断周期" class="headerlink" title="四、中断周期"></a>四、中断周期</h3><p>假设程序断点存至主存的0地址单元，且采用硬件向量法寻找入口地址：</p>
<ol>
<li>0→MAR                           //（SP）-1→MAR    程序断点进栈</li>
<li>1→W</li>
<li>PC→MDR</li>
<li>MDR→M（MAR）</li>
<li>向量地址M→PC</li>
<li>0→EINT</li>
</ol>
<h2 id="控制单元的功能-1"><a href="#控制单元的功能-1" class="headerlink" title="控制单元的功能"></a>控制单元的功能</h2><h3 id="控制单元的外特性"><a href="#控制单元的外特性" class="headerlink" title="控制单元的外特性"></a>控制单元的外特性</h3><p>输入信号</p>
<ol>
<li>时钟                    CU受时钟控制</li>
<li>指令寄存器        操作码</li>
<li>标志                    有时需依赖CPU当前状态</li>
<li>外来信号            INTR中断请求  HRQ总线请求</li>
</ol>
<p>输出信号</p>
<ol>
<li>CPU内的控制信号            $R_i\rightarrow R_j$，ALU    +、-、与、或</li>
<li>送至控制总线的信号        命令主存，I/O读写，中断响应</li>
</ol>
<h3 id="控制信号举例"><a href="#控制信号举例" class="headerlink" title="控制信号举例"></a>控制信号举例</h3><p>不采用CPU内部总线的方式</p>
<p>采用CPU内部总线的方式</p>
<h3 id="多级时序系统"><a href="#多级时序系统" class="headerlink" title="多级时序系统"></a>多级时序系统</h3><p>机器周期</p>
<ul>
<li>概念：所有指令执行过程中的一个基准时间</li>
<li>因素：每条指令的执行步骤，每一步骤所需时间</li>
<li>基准时间：完成最复杂指令功能的时间，访问一次存储器的时间</li>
<li><strong>存储字长=指令字长，则取指周期可看作机器周期</strong></li>
</ul>
<p>时钟周期（节拍、状态）</p>
<ul>
<li>控制计算机操作的最小时间单位</li>
<li>用时钟周期控制产生一个或几个微操作命令</li>
</ul>
<p>多级时序系统</p>
<ul>
<li>一个指令周期包含若干个机器周期，一个机器周期包含若干个时钟周期</li>
</ul>
<blockquote>
<p>在机器周期所含时钟周期数相同的前提下，两机 平均指令执行速度之比 等于 两机主频之比</p>
<script type="math/tex; mode=display">
\frac{MIPS_1}{MIPS_2}=\frac{f_1}{f_2}</script><p>影响机器速度的因素：主频（f）、机器周期中所含时钟周期数（1/f）、指令周期中所含的机器周期数</p>
</blockquote>
<p><img src="/ComputerOrganization/hexo\source\_posts\ComputerOrganization\image-20200627182527375.png" alt="image-20200627182527375"></p>
<h3 id="控制方式"><a href="#控制方式" class="headerlink" title="控制方式"></a>控制方式</h3><p>产生不同微操作命令序列所用的时序控制方式</p>
<p><strong>同步控制方式</strong></p>
<p>任一微操作均由统一基准时标的时序信号控制</p>
<ol>
<li>定长的机器周期</li>
<li>不定长的机器周期</li>
<li>中央控制和局部控制相结合</li>
</ol>
<p><strong>异步控制方式</strong></p>
<ul>
<li>无基准时标信号</li>
<li>无固定的周期节拍和严格的时钟同步</li>
<li>应答线路控制</li>
</ul>
<p><strong>联合控制方式</strong></p>
<p>同步控制+异步控制</p>
<p><strong>人工控制方式</strong></p>
<ol>
<li>Reset键</li>
<li>连续或单条执行转换开关</li>
<li>符合停机开关</li>
</ol>
<h1 id="控制单元的设计"><a href="#控制单元的设计" class="headerlink" title="控制单元的设计"></a>控制单元的设计</h1><h2 id="组合逻辑设计"><a href="#组合逻辑设计" class="headerlink" title="组合逻辑设计"></a>组合逻辑设计</h2><h3 id="微操作的节拍安排"><a href="#微操作的节拍安排" class="headerlink" title="微操作的节拍安排"></a>微操作的节拍安排</h3><p>安排微操作时序的原则</p>
<ol>
<li>先后顺序不得随意更改</li>
<li>被控对象不同的微操作尽量安排在一个节拍内完成</li>
<li>占用时间较短的微操作尽量在一个节拍内并允许有先后顺序</li>
</ol>
<p>取指周期</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">$T_0$</th>
<th style="text-align:center">$T_1$</th>
<th style="text-align:center">$T_2$</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">PC→MAR</td>
<td style="text-align:center">M（MAR）→MDR</td>
<td style="text-align:center">MDR→IR</td>
</tr>
<tr>
<td style="text-align:center">1→R</td>
<td style="text-align:center">（PC）+1→PC</td>
<td style="text-align:center">OP（IR）→ID</td>
</tr>
<tr>
<td style="text-align:center">原则2</td>
<td style="text-align:center">原则2</td>
<td style="text-align:center">原则3</td>
</tr>
</tbody>
</table>
</div>
<p>间址周期</p>
<ul>
<li>$T_0$：Ad（IR）→MAR，1→R</li>
<li>$T_1$：M（MAR）→MDR</li>
<li>$T_2$：MDR→Ad（IR）</li>
</ul>
<p>执行周期</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">$T_0$</th>
<th style="text-align:center">$T_1$</th>
<th style="text-align:center">$T_2$</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">CLA</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">0→AC</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">COM</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">$\overline{AC}→AC$</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">SHR</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">L（AC）→R（AC）</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">$AC_0→AC_0$</td>
</tr>
<tr>
<td style="text-align:center">CSL</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">R（AC）→L（AC）</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">$AC_0→AC_0$</td>
</tr>
<tr>
<td style="text-align:center">ADD X</td>
<td style="text-align:center">Ad（IR）→MAR</td>
<td style="text-align:center">M（MAR）→MDR</td>
<td style="text-align:center">（AC）+（MDR）→AC</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">1→R</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">STA X</td>
<td style="text-align:center">Ad（IR）→MAR</td>
<td style="text-align:center">AC→MDR</td>
<td style="text-align:center">MDR→M（MAR）</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">1→W</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">LDA X</td>
<td style="text-align:center">Ad（IR）→MAR</td>
<td style="text-align:center">M（MAR）→MDR</td>
<td style="text-align:center">MDR→AC</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center">1→R</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">JMP X</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">Ad（IR）→PC</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">BAN X</td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center">$A_0$•Ad(IR)+$\overline A_0$•PC→PC</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>
<p>中断周期</p>
<ul>
<li>$T_0$：0→MAR，1→W</li>
<li>$T_1$：PC→MDR</li>
<li>$T_2$：MDR→M（MAR）,向量地址→PC</li>
</ul>
<h3 id="组合逻辑设计步骤"><a href="#组合逻辑设计步骤" class="headerlink" title="组合逻辑设计步骤"></a>组合逻辑设计步骤</h3><h2 id="微程序设计"><a href="#微程序设计" class="headerlink" title="微程序设计"></a>微程序设计</h2><p><strong>一条指令对应一个微程序，一个微程序由若干条微指令构成。</strong></p>
<p>一条机器指令的功能是若干条微指令组成的序列来实现的，即，一条机器指令所完成的操作划分成若干条微指令来完成，由微指令进行解释和执行。</p>
<h3 id="微程序控制单元框图及工作原理"><a href="#微程序控制单元框图及工作原理" class="headerlink" title="微程序控制单元框图及工作原理"></a>微程序控制单元框图及工作原理</h3><p><img src="/ComputerOrganization/image-20200627183006164.png" alt="image-20200627183006164"></p>
<p><strong>工作原理</strong></p>
<ol>
<li><p><strong>取址阶段        执行取址微程序</strong></p>
<ol>
<li><p>M→CMAR</p>
</li>
<li><p>CM（CMAR）→CMDR</p>
</li>
<li><p>PC→MAR，1→R</p>
</li>
<li><p>M+1    Ad（CMDR）→CMAR</p>
</li>
<li><p>CM（CMAR）→CMDR</p>
</li>
<li><p>M（MAR）→MDR</p>
</li>
<li><p>M+2    Ad（CMAR）→CMAR</p>
<p>…</p>
</li>
</ol>
</li>
<li><p><strong>执行阶段        执行LDA微程序</strong></p>
<ol>
<li><p>OP（IR）→微地址形成部件→CMAR</p>
</li>
<li><p>CM（CMAR）→CMDR</p>
</li>
<li><p>Ad（IR）→MAR，1→R</p>
</li>
<li><p>P+1    Ad（CMDR）→CMAR</p>
</li>
<li><p>CM（CMAR）→CMDR</p>
<p>…</p>
</li>
</ol>
</li>
</ol>
<h3 id="微指令的编码方式"><a href="#微指令的编码方式" class="headerlink" title="微指令的编码方式"></a>微指令的编码方式</h3><ol>
<li>直接编码（直接控制）</li>
<li>字段直接编码</li>
<li>字段间接编码</li>
<li>混合编码</li>
<li>其他</li>
</ol>
<h3 id="微指令序列地址的形成"><a href="#微指令序列地址的形成" class="headerlink" title="微指令序列地址的形成"></a>微指令序列地址的形成</h3><ol>
<li>直接由微指令的下地址字段指出</li>
<li>根据机器指令的操作码形成</li>
<li>增量计数器法</li>
<li>分支转移</li>
<li>通过测试网络形成</li>
<li>由硬件产生微程序入口地址</li>
</ol>
<h3 id="微指令格式"><a href="#微指令格式" class="headerlink" title="微指令格式"></a>微指令格式</h3><p>水平型微指令</p>
<ul>
<li>一次能定义并执行多个并行操作</li>
</ul>
<p>垂直型微指令</p>
<ul>
<li>由微操作码字段规定微指令的功能</li>
</ul>
<p>比较</p>
<ol>
<li>水平并行操作能力强，灵活性强</li>
<li>水平执行一条机器指令所需微指令数目少，速度快</li>
<li>水平用较短的微程序结构换取较长的微指令结构</li>
<li>水平与机器指令差别大</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/lanqiao-practice/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/lanqiao-practice/" class="post-title-link" itemprop="url">算法学习</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-03-31 00:52:38" itemprop="dateCreated datePublished" datetime="2020-03-31T00:52:38+08:00">2020-03-31</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-15 11:23:23" itemprop="dateModified" datetime="2021-06-15T11:23:23+08:00">2021-06-15</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="一-暴力法-amp-枚举"><a href="#一-暴力法-amp-枚举" class="headerlink" title="一. 暴力法 &amp; 枚举"></a>一. 暴力法 &amp; 枚举</h1><p>使用情况：搜索所有的解空间和路径；直接进行计算，情况较少可用枚举法；小规模现实问题的模拟与仿真。</p>
<h2 id="罗马数字"><a href="#罗马数字" class="headerlink" title="罗马数字"></a>罗马数字</h2><p>未考虑错误输入情况：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> a[<span class="number">1000</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RomanAdd</span><span class="params">(<span class="keyword">char</span> a[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RomanSub</span><span class="params">(<span class="keyword">char</span> a[])</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>,a);</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;RomanSub(a)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RomanAdd</span><span class="params">(<span class="keyword">char</span> a[])</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i=<span class="number">0</span>, sum=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(a[i]!=<span class="string">'\0'</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'I'</span>)	sum += <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'V'</span>)	sum += <span class="number">5</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'X'</span>)	sum += <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'L'</span>)	sum += <span class="number">50</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'C'</span>)	sum += <span class="number">100</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'D'</span>)	sum += <span class="number">500</span>;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'M'</span>)	sum += <span class="number">1000</span>;</span><br><span class="line">		i++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RomanSub</span><span class="params">(<span class="keyword">char</span> a[])</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> sum = RomanAdd(a);</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">strstr</span>(a,<span class="string">"IV"</span>))	sum -= <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">strstr</span>(a,<span class="string">"IX"</span>))	sum -= <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">strstr</span>(a,<span class="string">"XL"</span>))	sum -= <span class="number">20</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">strstr</span>(a,<span class="string">"XC"</span>))	sum -= <span class="number">20</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">strstr</span>(a,<span class="string">"CD"</span>))	sum -= <span class="number">200</span>;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">strstr</span>(a,<span class="string">"CM"</span>))	sum -= <span class="number">200</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> sum; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>逆向解法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">numRome</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RmanNumOk</span><span class="params">(<span class="built_in">string</span> s)</span></span>;</span><br><span class="line"><span class="keyword">char</span> a[<span class="number">1000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%s"</span>,a);</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;RmanNumOk(a)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">numRome</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = x / <span class="number">1000</span>;</span><br><span class="line">	<span class="keyword">int</span> b = x % <span class="number">1000</span> / <span class="number">100</span>;</span><br><span class="line">	<span class="keyword">int</span> c = x % <span class="number">100</span> / <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">int</span> d = x % <span class="number">10</span>;</span><br><span class="line">	<span class="built_in">string</span> s = <span class="string">""</span>;</span><br><span class="line">		</span><br><span class="line">	<span class="keyword">if</span> (a == <span class="number">1</span>)	s += <span class="string">"M"</span>;</span><br><span class="line">	<span class="keyword">if</span> (a == <span class="number">2</span>)	s += <span class="string">"MM"</span>;</span><br><span class="line">	<span class="keyword">if</span> (a == <span class="number">3</span>)	s += <span class="string">"MMM"</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (b == <span class="number">1</span>)	s += <span class="string">"C"</span>;</span><br><span class="line">	<span class="keyword">if</span> (b == <span class="number">2</span>)	s += <span class="string">"CC"</span>;</span><br><span class="line">	<span class="keyword">if</span> (b == <span class="number">3</span>)	s += <span class="string">"CCC"</span>;</span><br><span class="line">	<span class="keyword">if</span> (b == <span class="number">4</span>)	s += <span class="string">"CD"</span>;</span><br><span class="line">	<span class="keyword">if</span> (b == <span class="number">5</span>)	s += <span class="string">"D"</span>;</span><br><span class="line">	<span class="keyword">if</span> (b == <span class="number">6</span>)	s += <span class="string">"DC"</span>;</span><br><span class="line">	<span class="keyword">if</span> (b == <span class="number">7</span>)	s += <span class="string">"DCC"</span>;</span><br><span class="line">	<span class="keyword">if</span> (b == <span class="number">8</span>)	s += <span class="string">"DCC"</span>;</span><br><span class="line">	<span class="keyword">if</span> (b == <span class="number">9</span>)	s += <span class="string">"CM"</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">1</span>)	s += <span class="string">"X"</span>;</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">2</span>)	s += <span class="string">"XX"</span>;</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">3</span>)	s += <span class="string">"XXX"</span>;</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">4</span>)	s += <span class="string">"XL"</span>;</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">5</span>)	s += <span class="string">"L"</span>;</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">6</span>)	s += <span class="string">"LX"</span>;</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">7</span>)	s += <span class="string">"LXX"</span>;</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">8</span>)	s += <span class="string">"LXXX"</span>;</span><br><span class="line">	<span class="keyword">if</span> (c == <span class="number">9</span>)	s += <span class="string">"XC"</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">if</span> (d == <span class="number">1</span>)	s += <span class="string">"I"</span>;</span><br><span class="line">	<span class="keyword">if</span> (d == <span class="number">2</span>)	s += <span class="string">"II"</span>;</span><br><span class="line">	<span class="keyword">if</span> (d == <span class="number">3</span>)	s += <span class="string">"III"</span>;</span><br><span class="line">	<span class="keyword">if</span> (d == <span class="number">4</span>)	s += <span class="string">"IV"</span>;</span><br><span class="line">	<span class="keyword">if</span> (d == <span class="number">5</span>)	s += <span class="string">"V"</span>;</span><br><span class="line">	<span class="keyword">if</span> (d == <span class="number">6</span>)	s += <span class="string">"VI"</span>;</span><br><span class="line">	<span class="keyword">if</span> (d == <span class="number">7</span>)	s += <span class="string">"VII"</span>;</span><br><span class="line">	<span class="keyword">if</span> (d == <span class="number">8</span>)	s += <span class="string">"VIII"</span>;</span><br><span class="line">	<span class="keyword">if</span> (d == <span class="number">9</span>)	s += <span class="string">"IX"</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">RmanNumOk</span><span class="params">(<span class="built_in">string</span> s)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">4000</span>; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(s == numRome(i))</span><br><span class="line">			<span class="keyword">return</span> i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Safecracker"><a href="#Safecracker" class="headerlink" title="Safecracker"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1015" target="_blank" rel="noopener">Safecracker</a></h2><blockquote>
<p>用字符串表示数字，在已知的字符串 s 遍历v、w、x、y、z 满足公式 $v-w^2+x^3-y^4+z^5=tar$的最大字符串</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span> <span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cal</span><span class="params">(<span class="keyword">int</span> y, <span class="keyword">int</span> w, <span class="keyword">int</span> v, <span class="keyword">int</span> x, <span class="keyword">int</span> z)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">sol</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">string</span> t)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> tar;</span><br><span class="line"><span class="keyword">int</span> n,len;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> flag;</span><br><span class="line">	<span class="keyword">while</span>(<span class="built_in">cin</span>&gt;&gt;n &amp;&amp; <span class="built_in">cin</span>&gt;&gt;tar)&#123;</span><br><span class="line">		<span class="keyword">if</span>(n==<span class="number">0</span> &amp;&amp; tar==<span class="string">"END"</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		sort(tar.<span class="built_in">begin</span>(),tar.<span class="built_in">end</span>(),cmp);</span><br><span class="line">		flag = sol(n, tar);</span><br><span class="line">		<span class="keyword">if</span>(!flag)</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;<span class="string">"no solution"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span> <span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (i&gt;j);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cal</span><span class="params">(<span class="keyword">int</span> y, <span class="keyword">int</span> w, <span class="keyword">int</span> v, <span class="keyword">int</span> x, <span class="keyword">int</span> z)</span></span>&#123;</span><br><span class="line">    v -= <span class="number">64</span>, w -= <span class="number">64</span>, x -= <span class="number">64</span>, y -= <span class="number">64</span>, z -= <span class="number">64</span>;</span><br><span class="line">    <span class="keyword">return</span> (v - <span class="built_in">pow</span>(w,<span class="number">2</span>) + <span class="built_in">pow</span>(x,<span class="number">3</span>) - <span class="built_in">pow</span>(y,<span class="number">4</span>) + <span class="built_in">pow</span>(z,<span class="number">5</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">sol</span><span class="params">(<span class="keyword">int</span> n, <span class="built_in">string</span> t)</span> </span>&#123;</span><br><span class="line">	len = t.length();</span><br><span class="line">	<span class="keyword">int</span> vis[len];</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">min</span> = cal(t[<span class="number">0</span>], t[<span class="number">1</span>], t[len<span class="number">-3</span>], t[len<span class="number">-2</span>], t[len<span class="number">-1</span>]);</span><br><span class="line">	<span class="keyword">int</span> <span class="built_in">max</span> = cal(t[len<span class="number">-1</span>], t[len<span class="number">-2</span>], t[<span class="number">2</span>], t[<span class="number">1</span>], t[<span class="number">0</span>]);</span><br><span class="line">	<span class="keyword">if</span>(n&gt;<span class="built_in">max</span> &amp;&amp; n&lt;<span class="built_in">min</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">		vis[i] = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> a=<span class="number">0</span>; a&lt;len; a++)&#123;</span><br><span class="line">		vis[a] = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> b=<span class="number">0</span>; b&lt;len; b++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!vis[b])&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> c=<span class="number">0</span>; c&lt;len; c++)&#123;</span><br><span class="line">					<span class="keyword">if</span>(!vis[c])&#123;</span><br><span class="line">						vis[c] = <span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">for</span>(<span class="keyword">int</span> d=<span class="number">0</span>; d&lt;len; d++)&#123;</span><br><span class="line">                            <span class="keyword">if</span>(!vis[d])&#123;</span><br><span class="line">                                vis[d] = <span class="number">1</span>;</span><br><span class="line">                                <span class="keyword">for</span>(<span class="keyword">int</span> e=<span class="number">0</span>; e&lt;len; e++)&#123;</span><br><span class="line">                                	<span class="keyword">if</span>(!vis[e] &amp;&amp; n==cal(t[d],t[b],t[a],t[c],t[e]))&#123;</span><br><span class="line">                                		<span class="built_in">cout</span>&lt;&lt;t[a]&lt;&lt;t[b]&lt;&lt;t[c]&lt;&lt;t[d]&lt;&lt;t[d]&lt;&lt;t[e]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">                                		<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">									&#125;</span><br><span class="line">								&#125;</span><br><span class="line">								vis[d] = <span class="number">0</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                        vis[c] = <span class="number">0</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				vis[b] = <span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		vis[a] = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="九宫幻方"><a href="#九宫幻方" class="headerlink" title="九宫幻方"></a>九宫幻方</h2><blockquote>
<p>三阶幻方又被称作九宫格，在小学奥数里有一句非常有名的口诀：“二四为肩，六八为足，左三右七，戴九履一，五居其中”，通过这样的一句口诀就能够非常完美的构造出一个九宫格来。</p>
<p>4 9 2<br>3 5 7<br>8 1 6</p>
<p>所有的三阶幻方，都可以通过这样一个九宫格进行若干镜像和旋转操作之后得到。</p>
</blockquote>
<p>3*3的格子情况很少，列出每一种情况再与输入对比，若相等或者有0，则成功匹配。矩阵变换。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">test</span><span class="params">(<span class="keyword">char</span>* s,<span class="keyword">char</span>* p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">IntToString</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *p0=IntToString(<span class="number">492357816</span>);</span><br><span class="line">    <span class="keyword">char</span> *p1=IntToString(<span class="number">834159672</span>);</span><br><span class="line">    <span class="keyword">char</span> *p2=IntToString(<span class="number">618753294</span>);</span><br><span class="line">    <span class="keyword">char</span> *p3=IntToString(<span class="number">276951438</span>);</span><br><span class="line">    <span class="keyword">char</span> *p4=IntToString(<span class="number">294753618</span>);</span><br><span class="line">    <span class="keyword">char</span> *p5=IntToString(<span class="number">438951276</span>);</span><br><span class="line">    <span class="keyword">char</span> *p6=IntToString(<span class="number">816357492</span>);</span><br><span class="line">    <span class="keyword">char</span> *p7=IntToString(<span class="number">672159834</span>);</span><br><span class="line">    <span class="keyword">char</span> *pp[<span class="number">8</span>]=&#123;p0,p1,p2,p3,p4,p5,p6,p7&#125;;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">int</span> i,j,num=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">char</span> s[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> a;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">		s[i]=<span class="string">'0'</span>+a;</span><br><span class="line">	&#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(test(s,pp[i]))&#123;</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;<span class="number">9</span>;j++)&#123;</span><br><span class="line">            	<span class="built_in">printf</span>(<span class="string">"%c "</span>,pp[i][j]);</span><br><span class="line">            	<span class="keyword">if</span>((j+<span class="number">1</span>)%<span class="number">3</span>==<span class="number">0</span>)</span><br><span class="line">            		<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">        <span class="keyword">if</span>(pp[i]!=<span class="literal">NULL</span>)	<span class="built_in">free</span>(pp[i]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">test</span><span class="params">(<span class="keyword">char</span>* s,<span class="keyword">char</span>* p)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i]==p[i])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (s[i]==<span class="string">'0'</span>) </span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">char</span> *<span class="title">IntToString</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *p = (<span class="keyword">char</span> *)<span class="built_in">malloc</span>(<span class="number">10</span>*<span class="keyword">sizeof</span>(<span class="keyword">char</span>));</span><br><span class="line">    itoa(n,p,<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="例题1：真假硬币问题"><a href="#例题1：真假硬币问题" class="headerlink" title="例题1：真假硬币问题"></a>例题1：<a href="http://poj.org/problem?id=1013" target="_blank" rel="noopener">真假硬币问题</a></h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> Left[<span class="number">3</span>][<span class="number">7</span>];</span><br><span class="line"><span class="keyword">char</span> Right[<span class="number">3</span>][<span class="number">7</span>];</span><br><span class="line"><span class="keyword">char</span> result[<span class="number">3</span>][<span class="number">7</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsFake</span><span class="params">(<span class="keyword">char</span> c, <span class="keyword">bool</span> light)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; ++i)	<span class="built_in">cin</span>&gt;&gt;Left[i]&gt;&gt;Right[i]&gt;&gt;result[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c=<span class="string">'A'</span>; c&lt;=<span class="string">'L'</span>; c++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(IsFake(c,ture))&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;c&lt;&lt;<span class="string">"is the counterfeit coin and it is light.\n"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(IsFake(c,<span class="literal">false</span>))&#123;</span><br><span class="line">                <span class="built_in">cout</span>&lt;&lt;c&lt;&lt;<span class="string">"is the counterfeit coin and it is light.\n"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsFake</span><span class="params">(<span class="keyword">char</span> c, <span class="keyword">bool</span> light)</span></span>&#123;	<span class="comment">//light为真表示假设假币为轻，反之为重</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">3</span>; ++i)&#123;</span><br><span class="line">        <span class="keyword">char</span> *pLeft, *pRight;	<span class="comment">//指向天平两边的字符串</span></span><br><span class="line">        <span class="keyword">if</span>(light)&#123;</span><br><span class="line">            pLeft = Left[i];</span><br><span class="line">            pRight = Right[i];</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            pLeft = Right[i];</span><br><span class="line">            pRight = Left[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">switch</span>(result[i][<span class="number">0</span>])&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'u'</span>:</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">strchr</span>(pRight,c)==<span class="literal">NULL</span>)	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'e'</span>:</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">strchr</span>(pLeft,c)||<span class="built_in">strchr</span>(pRight,c))	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'d'</span>:</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">strchr</span>(pLeft,c)==<span class="literal">NULL</span>)	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="例题2：熄灯问题"><a href="#例题2：熄灯问题" class="headerlink" title="例题2：熄灯问题"></a>例题2：<a href="http://poj.org/problem?id=1013" target="_blank" rel="noopener">熄灯问题</a></h2><p>要熄灭第1行第i列亮着的灯，需按下第2行第i列的开关</p>
<p>==&gt; 第2行的合理开关状态是唯一的，以此类推，剩余行状态唯一</p>
<p>==&gt; 枚举第1行的状态，$2^6=64$</p>
<p>==&gt; 枚举第1列的状态，$2^5=32$</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">GetBit</span><span class="params">(<span class="keyword">char</span> c, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (c&gt;&gt;i)&amp;<span class="number">1</span>; <span class="comment">//取c的第i位</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SetBit</span><span class="params">(<span class="keyword">char</span> &amp;c, <span class="keyword">int</span> i, <span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//设置c的第i位为v</span></span><br><span class="line">    <span class="keyword">if</span>(v)	c |= (i&lt;&lt;i);</span><br><span class="line">    <span class="keyword">else</span>	c &amp;= (<span class="number">1</span>&lt;&lt;i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Flip</span><span class="params">(<span class="keyword">char</span> &amp;c, <span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    c ^= (<span class="number">1</span>&lt;&lt;i); <span class="comment">//将c的第i位取反</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">OutputResult</span><span class="params">(<span class="keyword">int</span> t, <span class="keyword">char</span> result[])</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"PUZZLE #"</span>&lt;&lt;t&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">6</span>; ++j) &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; GetBit(result[i],j);</span><br><span class="line">            <span class="keyword">if</span>(j&lt;<span class="number">5</span>)	<span class="built_in">cout</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> oriLights[<span class="number">5</span>]; <span class="comment">//一个Bit表示一盏灯</span></span><br><span class="line">    <span class="keyword">char</span> lights[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">char</span> result[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">char</span> switchs; <span class="comment">//某一行的开关状态</span></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;T;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> t=<span class="number">1</span>; t&lt;T; ++t) &#123;</span><br><span class="line">        <span class="built_in">memset</span>(oriLights, <span class="number">0</span>, <span class="keyword">sizeof</span>(oriLights));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; ++i) &#123; <span class="comment">//读入灯的初状态</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">6</span>; ++j) &#123;</span><br><span class="line">                <span class="keyword">int</span> s;</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">                SetBit(oriLights[i], j, s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> n=<span class="number">0</span>; n&lt;<span class="number">64</span>; ++n) &#123; <span class="comment">//遍历首行开关64状态</span></span><br><span class="line">            <span class="built_in">memcpy</span>(lights, oriLights, <span class="keyword">sizeof</span>(oriLights));</span><br><span class="line">            switchs = n;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; ++i) &#123;</span><br><span class="line">                result[i] = switchs;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">6</span>; ++j) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(GetBit(switchs, j)) &#123;</span><br><span class="line">                        <span class="keyword">if</span>(j&gt;<span class="number">0</span>)</span><br><span class="line">                            Flip(lights[i], j<span class="number">-1</span>); <span class="comment">//左灯</span></span><br><span class="line">                        Flip(lights[i], j); <span class="comment">//当前灯</span></span><br><span class="line">                        <span class="keyword">if</span>(j&lt;<span class="number">5</span>)</span><br><span class="line">                            Flip(lights[i], j+<span class="number">1</span>); <span class="comment">//右灯</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(i&lt;<span class="number">4</span>)</span><br><span class="line">                    lights[i+<span class="number">1</span>] ^= switchs; <span class="comment">//下一行的灯</span></span><br><span class="line">                switchs = lights[i];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(lights[<span class="number">4</span>] == <span class="number">0</span>) &#123;</span><br><span class="line">                OutputResult(t, result);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="二-递归"><a href="#二-递归" class="headerlink" title="二. 递归"></a>二. 递归</h1><h2 id="例题1：汉诺塔"><a href="#例题1：汉诺塔" class="headerlink" title="例题1：汉诺塔"></a>例题1：汉诺塔</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//将src座上的n个盘子以mid座为中转移动到dest座</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Hanoi</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">char</span> src, <span class="keyword">char</span> mid, <span class="keyword">char</span> dest)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;src&lt;&lt;<span class="string">"-&gt;"</span>&lt;&lt;dest&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    Hanoi(n<span class="number">-1</span>,src,dest,mid);	<span class="comment">//先将n-1个盘子从src移到mid</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;src&lt;&lt;<span class="string">"-&gt;"</span>&lt;&lt;dest&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="comment">//再将1个盘子从src移到dest</span></span><br><span class="line">    Hanoi(n<span class="number">-1</span>,mid,src,dest);	<span class="comment">//最后将n-1个盘子从mid移到dest</span></span><br><span class="line">    <span class="keyword">return</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    Hanoi(n,<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="例题2：N皇后"><a href="#例题2：N皇后" class="headerlink" title="例题2：N皇后"></a>例题2：N皇后</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">int</span> N,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> queenPos[<span class="number">100</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">NQueen</span><span class="params">(<span class="keyword">int</span> k)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">abs</span><span class="params">(<span class="keyword">int</span> a)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a&gt;<span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> -a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans[<span class="number">11</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(N=<span class="number">0</span>;N&lt;=<span class="number">10</span>;N++)&#123;</span><br><span class="line">        sum=<span class="number">0</span>;</span><br><span class="line">        NQueen(<span class="number">0</span>);</span><br><span class="line">        ans[N]=sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;N)==<span class="number">1</span> &amp;&amp; N)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans[N]);</span><br><span class="line">    &#125;</span><br><span class="line">       </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">NQueen</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">if</span>(k == N)&#123;</span><br><span class="line">        sum++;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;N; i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> j;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">0</span>; j&lt;k; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(queenPos[j]==i || <span class="built_in">abs</span>(queenPos[j]-i)==<span class="built_in">abs</span>(k-j))&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(j == k)&#123;</span><br><span class="line">            queenPos[k] = i;</span><br><span class="line">            NQueen(k+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="例题3：逆波兰表达式"><a href="#例题3：逆波兰表达式" class="headerlink" title="例题3：逆波兰表达式"></a>例题3：逆波兰表达式</h2><p>字符串数组输入时遇到空格停止，输入符号数组只会有s[0]，输入浮点数占据s[n]。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">exp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">20</span>];</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">    <span class="keyword">switch</span>(s[<span class="number">0</span>]) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'+'</span>:	<span class="keyword">return</span> <span class="built_in">exp</span>()+<span class="built_in">exp</span>();</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'-'</span>:	<span class="keyword">return</span> <span class="built_in">exp</span>()-<span class="built_in">exp</span>();</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'*'</span>:	<span class="keyword">return</span> <span class="built_in">exp</span>()*<span class="built_in">exp</span>();</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'/'</span>:	<span class="keyword">return</span> <span class="built_in">exp</span>()/<span class="built_in">exp</span>();</span><br><span class="line">        <span class="keyword">default</span>:	<span class="keyword">return</span> atof(s);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lf"</span>,<span class="built_in">exp</span>());</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="例题4：放苹果"><a href="#例题4：放苹果" class="headerlink" title="例题4：放苹果"></a>例题4：放苹果</h2><blockquote>
<p>【问题描述】</p>
<p>把M个同样的苹果放在N个同样的盘子里，允许有的盘子空着不放，问共有多少种不同的分法？（用K表示）5，1，1和1，5，1 是同一种分法。</p>
<p>【输入】</p>
<p>第一行是测试数据的数目t（0 &lt;= t &lt;= 20）。以下每行均包含二个整数M和N，以空格分开。1&lt;=M，N&lt;=10。</p>
<p>【输出】</p>
<p>对输入的每组数据M和N，用一行输出相应的K。</p>
</blockquote>
<p>设i个苹果放在k个盘子里放法总数是f(i, k)</p>
<p>k&gt;i, f(i, k) = f(i, i)</p>
<p>k&lt;=i, 总放法=有盘子为空的放法+没盘子为空的方法</p>
<p>f(i, k) = f(i, k-1) + f(i-k, k)</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &gt; m)</span><br><span class="line">        <span class="keyword">return</span> f(m,m);</span><br><span class="line">    <span class="keyword">if</span>(m == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> f(m,n<span class="number">-1</span>)+f(m-n,n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m, n;</span><br><span class="line">    <span class="keyword">while</span>(t--) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; m &gt;&gt; n;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; f(m,n) &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="例题5：算24"><a href="#例题5：算24" class="headerlink" title="例题5：算24"></a>例题5：算24</h2><blockquote>
<p>描述</p>
<p>给出4个小于10个正整数，你可以使用加减乘除4种运算以及括号把这4个数连接起来得到一个表达式。现在的问题是，是否存在一种方式使得得到的表达式的结果等于24。</p>
<p>这里加减乘除以及括号的运算结果和运算的优先级跟我们平常的定义一致（这里的除法定义是实数除法）。</p>
<p>比如，对于5，5，5，1，我们知道5 * (5 – 1 / 5) = 24，因此可以得到24。又比如，对于1，1，4，2，我们怎么都不能得到24。</p>
<p>输入</p>
<p>输入数据包括多行，每行给出一组测试数据，包括4个小于10个正整数。最后一组测试数据中包括4个0，表示输入的结束，这组数据不用处理。</p>
<p>输出</p>
<p>对于每一组测试数据，输出一行，如果可以得到24，输出“YES”；否则，输出“NO”。</p>
</blockquote>
<p>n个数算24，必有两个数要先算。这两个数的结果和剩余n-2个数构成n-1个数求24的问题</p>
<p>枚举先算的2个数以及其运算方式。</p>
<p>边界条件：一个数算24</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EPS 1e-6</span></span><br><span class="line"><span class="keyword">double</span> a[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isZero</span><span class="params">(<span class="keyword">double</span> x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">fabs</span>(x) &lt;= EPS;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">count24</span><span class="params">(<span class="keyword">double</span> a[], <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(isZero(a[<span class="number">0</span>]<span class="number">-24</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">double</span> b[<span class="number">5</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n<span class="number">-1</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n<span class="number">-1</span>; ++j) &#123; <span class="comment">//枚举两个数的组合</span></span><br><span class="line">            <span class="keyword">int</span> m = <span class="number">0</span>; <span class="comment">//还剩下m=n-2个数</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;n; ++k)</span><br><span class="line">                <span class="keyword">if</span>(k!=i &amp;&amp; k!=j)</span><br><span class="line">                    b[m++] = a[k]; <span class="comment">//把其余数放入b</span></span><br><span class="line">            b[m] = a[i]+a[j];</span><br><span class="line">            <span class="keyword">if</span>(count24(b,m+<span class="number">1</span>))	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            b[m] = a[i]-a[j];</span><br><span class="line">            <span class="keyword">if</span>(count24(b,m+<span class="number">1</span>))	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            b[m] = a[j]-a[i];</span><br><span class="line">            <span class="keyword">if</span>(count24(b,m+<span class="number">1</span>))	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            b[m] = a[i]*a[j];</span><br><span class="line">            <span class="keyword">if</span>(count24(b,m+<span class="number">1</span>))	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(!isZero(a[j])) &#123;</span><br><span class="line">                b[m] = a[i]/a[j];</span><br><span class="line">                <span class="keyword">if</span>(count24(b,m+<span class="number">1</span>))	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(!isZero(a[j])) &#123;</span><br><span class="line">                b[m] = a[j]/a[i];</span><br><span class="line">                <span class="keyword">if</span>(count24(b,m+<span class="number">1</span>))	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">4</span>; ++i)</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">        <span class="keyword">if</span>(isZero(a[<span class="number">0</span>]))</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(count24(a,<span class="number">4</span>))</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"YES"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Sine之舞"><a href="#Sine之舞" class="headerlink" title="Sine之舞"></a>Sine之舞</h2><blockquote>
<p>问题描述<br>　　最近FJ为他的奶牛们开设了数学分析课，FJ知道若要学好这门课，必须有一个好的三角函数基本功。所以他准备和奶牛们做一个“Sine之舞”的游戏，寓教于乐，提高奶牛们的计算能力。<br>　　不妨设<br>　　An=sin(1–sin(2+sin(3–sin(4+…sin(n))…)<br>　　Sn=(…(A1+n)A2+n-1)A3+…+2)An+1<br>　　FJ想让奶牛们计算Sn的值，请你帮助FJ打印出Sn的完整表达式，以方便奶牛们做题。</p>
<p>输入格式<br>　　仅有一个数：N&lt;201。<br>输出格式<br>　　请输出相应的表达式Sn，以一个换行符结束。输出中不得含有多余的空格或换行、回车符。</p>
<p>样例输入<br>3<br>样例输出<br>((sin(1)+3)sin(1–sin(2))+2)sin(1–sin(2+sin(3)))+1</p>
</blockquote>
<p>$A1=sin(1), A2=sin(1-sin(2)), A3=sin(1-sin(2+sin(3)))$  …</p>
<p>==&gt;奇减偶加，An最右边n个“）”</p>
<p>$S1=A1+1=sin(1)+1$</p>
<p>$S2=(A1+2)A2+1=(sin(1)+2)sin(1-sin(2))+1$</p>
<p>$S3=((A1+3)A2+2)A3+1=((sin1+2)sin(1-sin(2))+1)sin(1-sin(2+sin(3)))+1$  …</p>
<p>==&gt;Sn最左边n-1个“（”</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">An</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sn</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    Sn(n);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">An</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"sin("</span> &lt;&lt; i;</span><br><span class="line">        <span class="keyword">if</span>(i == n) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=n; j++)</span><br><span class="line">            	<span class="built_in">cout</span> &lt;&lt; <span class="string">")"</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(i%<span class="number">2</span> != <span class="number">0</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"-"</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"+"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sn</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"("</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(i != n) &#123;</span><br><span class="line">            An(i);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"+"</span> &lt;&lt; n-i+<span class="number">1</span> &lt;&lt; <span class="string">")"</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            An(i);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"+"</span> &lt;&lt; n-i+<span class="number">1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 200000</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* sinA = <span class="string">"sin(%d%s%s)"</span>;</span><br><span class="line">    <span class="keyword">char</span>* Sa = <span class="string">"%s+%d"</span>;</span><br><span class="line">    <span class="keyword">char</span>* S = <span class="string">"(%s)%s"</span>;</span><br><span class="line">    <span class="keyword">char</span> An[N] = <span class="string">"sin(1%s%s)"</span>, An2[N], An3[N], Sn[N] = <span class="string">"sin(1)+%d"</span>, Sn2[N];</span><br><span class="line">    <span class="keyword">int</span> i, j, n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="built_in">sprintf</span>(Sn2, Sn, n);</span><br><span class="line">    <span class="built_in">strcpy</span>(Sn, Sn2);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="built_in">sprintf</span>(An2, An, i % <span class="number">2</span> == <span class="number">0</span> ? <span class="string">"-"</span> : <span class="string">"+"</span>, sinA);</span><br><span class="line">        <span class="built_in">strcpy</span>(An, An2);</span><br><span class="line">        <span class="built_in">sprintf</span>(An2, An, i, <span class="string">"%s"</span>, <span class="string">"%s"</span>);</span><br><span class="line">        <span class="built_in">strcpy</span>(An, An2);</span><br><span class="line">        <span class="built_in">sprintf</span>(An2, Sa, An, n - i + <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">sprintf</span>(An3, An2, <span class="string">""</span>, <span class="string">""</span>);</span><br><span class="line">        <span class="built_in">sprintf</span>(Sn2, S, Sn, An3);</span><br><span class="line">        <span class="built_in">strcpy</span>(Sn, Sn2);</span><br><span class="line">        <span class="built_in">sprintf</span>(Sn2, Sn, n - i+ <span class="number">1</span>);</span><br><span class="line">        <span class="built_in">strcpy</span>(Sn, Sn2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%s"</span>, Sn);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/lanqiao-school/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/lanqiao-school/" class="post-title-link" itemprop="url">蓝桥杯校内模拟赛</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-03-28 21:31:26" itemprop="dateCreated datePublished" datetime="2020-03-28T21:31:26+08:00">2020-03-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2021-06-15 11:22:42" itemprop="dateModified" datetime="2021-06-15T11:22:42+08:00">2021-06-15</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="1-单位变换"><a href="#1-单位变换" class="headerlink" title="1. 单位变换"></a>1. 单位变换</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　在计算机存储中，15.125GB是多少MB？</p>
<p><strong>答案提交</strong></p>
<p>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1G=1024M</span></span><br><span class="line"></span><br><span class="line"><span class="number">15488</span></span><br></pre></td></tr></table></figure>
<h2 id="2-约数个数"><a href="#2-约数个数" class="headerlink" title="2. 约数个数"></a>2. 约数个数</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　1200000有多少个约数（只计算正约数）。</p>
<p><strong>答案提交</strong></p>
<p>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 枚举+检查</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (N % i == <span class="number">0</span>)</span><br><span class="line">        ans++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">96</span></span><br></pre></td></tr></table></figure>
<h2 id="3-叶结点数"><a href="#3-叶结点数" class="headerlink" title="3. 叶结点数"></a>3. 叶结点数</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　一棵包含有2019个结点的二叉树，最多包含多少个叶结点？</p>
<p><strong>答案提交</strong></p>
<p>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// n=n0+n1+n2，为使叶子节点数（n0）最多，必须n1最小，设为0，而n0=n2+1</span></span><br><span class="line"><span class="comment">// 得n2=(2019-1)/2=1009</span></span><br><span class="line"><span class="comment">// 所以n0=1010</span></span><br><span class="line"></span><br><span class="line"><span class="number">1010</span></span><br></pre></td></tr></table></figure>
<h2 id="4-数字9"><a href="#4-数字9" class="headerlink" title="4. 数字9"></a>4. 数字9</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　在1至2019中，有多少个数的数位中包含数字9？<br>　　注意，有的数中的数位中包含多个9，这个数只算一次。例如，1999这个数包含数字9，在计算只是算一个数。</p>
<p><strong>答案提交</strong></p>
<p>　　这是一道结果填空的题，你只需要算出结果后提交即可。本题的结果为一个整数，在提交答案时只填写这个整数，填写多余的内容将无法得分。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">    <span class="keyword">int</span> a = i;</span><br><span class="line">	<span class="keyword">while</span>(a!=<span class="number">0</span>)&#123;</span><br><span class="line">		<span class="keyword">int</span> b = a%<span class="number">10</span>;</span><br><span class="line">		<span class="keyword">if</span>(b==<span class="number">9</span>)&#123;</span><br><span class="line">			count++;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		a/=<span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">544</span></span><br></pre></td></tr></table></figure>
<p>参考代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">2019</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">check</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span> s[<span class="number">5</span>];</span><br><span class="line">    <span class="built_in">sprintf</span>(s, <span class="string">"%d"</span>, i);</span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">str</span><span class="params">(s)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> str.<span class="built_in">find</span>(<span class="string">'9'</span>) != <span class="built_in">string</span>::npos;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">9</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (check(i))&#123;</span><br><span class="line">            ans++;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="string">":"</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-递增三元组"><a href="#5-递增三元组" class="headerlink" title="5. 递增三元组"></a>5. 递增三元组</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　在数列 a[1], a[2], …, a[n] 中，如果对于下标 i, j, k 满足 0&lt;i&lt;j&lt;k&lt;n+1 且 a[i]&lt;a[j]&lt;a[k]，则称 a[i], a[j], a[k] 为一组递增三元组，a[j]为递增三元组的中心。<br>　　给定一个数列，请问数列中有多少个元素可能是递增三元组的中心。</p>
<p><strong>输入格式</strong></p>
<p>　　输入的第一行包含一个整数 n。<br>　　第二行包含 n 个整数 a[1], a[2], …, a[n]，相邻的整数间用空格分隔，表示给定的数列。</p>
<p><strong>输出格式</strong></p>
<p>　　输出一行包含一个整数，表示答案。</p>
<p><strong>样例输入</strong></p>
<p>5<br>1 2 5 3 5</p>
<p><strong>样例输出</strong></p>
<p>2</p>
<p><strong>样例说明</strong></p>
<p>　　a[2] 和 a[4] 可能是三元组的中心。</p>
<p><strong>评测用例规模与约定</strong></p>
<p>　　对于 50% 的评测用例，2 &lt;= n &lt;= 100，0 &lt;= 数列中的数 &lt;= 1000。<br>　　对于所有评测用例，2 &lt;= n &lt;= 1000，0 &lt;= 数列中的数 &lt;= 10000。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">	<span class="keyword">int</span> a[n];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">			<span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k=j+<span class="number">1</span>;k&lt;n;k++)&#123;</span><br><span class="line">				<span class="keyword">if</span>(a[i]&lt;a[j] &amp;&amp; a[j]&lt;a[k])&#123;</span><br><span class="line">					sum++;</span><br><span class="line">					flag = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(flag)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;sum;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 枚举每个元素</span></span><br><span class="line"><span class="comment">	 该元素与前面的元素比较，找到小的即可</span></span><br><span class="line"><span class="comment">	 该元素与后面的元素比较，找到大的即可</span></span><br><span class="line"><span class="comment">	 上面两项为真，即说明当前元素可以作为三元组的中心 */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)<span class="comment">//死循环为测试用</span></span><br><span class="line">        work();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, ans = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">int</span> *data = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="built_in">cin</span>&gt;&gt;data[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n<span class="number">-1</span>; ++j) &#123;</span><br><span class="line">        <span class="keyword">int</span> hasSmall=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;j ; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span>(data[i]&lt;data[j])&#123;</span><br><span class="line">                hasSmall=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> hasBig=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = j+<span class="number">1</span>; k &lt; n; ++k) &#123;</span><br><span class="line">            <span class="keyword">if</span>(data[j]&lt;data[k])&#123;</span><br><span class="line">                hasBig = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(hasSmall&amp;&amp;hasBig)</span><br><span class="line">            ans++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">delete</span>[] data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-音节判断"><a href="#6-音节判断" class="headerlink" title="6. 音节判断"></a>6. 音节判断</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　小明对类似于 hello 这种单词非常感兴趣，这种单词可以正好分为四段，第一段由一个或多个辅音字母组成，第二段由一个或多个元音字母组成，第三段由一个或多个辅音字母组成，第四段由一个或多个元音字母组成。<br>　　给定一个单词，请判断这个单词是否也是这种单词，如果是请输出yes，否则请输出no。<br>　　元音字母包括 a, e, i, o, u，共五个，其他均为辅音字母。</p>
<p><strong>输入格式</strong></p>
<p>　　输入一行，包含一个单词，单词中只包含小写英文字母。</p>
<p><strong>输出格式</strong></p>
<p>　　输出答案，或者为yes，或者为no。</p>
<p><strong>样例输入</strong></p>
<p>lanqiao</p>
<p><strong>样例输出</strong></p>
<p>yes</p>
<p><strong>样例输入</strong></p>
<p>world</p>
<p><strong>样例输出</strong></p>
<p>no</p>
<p><strong>评测用例规模与约定</strong></p>
<p>　　对于所有评测用例，单词中的字母个数不超过100。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">char</span> a[<span class="number">100</span>];</span><br><span class="line">	gets(a);</span><br><span class="line">	<span class="keyword">int</span> len = <span class="built_in">strlen</span>(a);</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>, temp;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(i!=<span class="number">0</span> &amp;&amp; a[i]==<span class="string">'a'</span>||a[i]==<span class="string">'e'</span>||a[i]==<span class="string">'i'</span>||a[i]==<span class="string">'o'</span>||a[i]==<span class="string">'u'</span>)&#123;</span><br><span class="line">			sum++;</span><br><span class="line">			temp = i+<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=temp; i&lt;len; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]!=<span class="string">'a'</span>&amp;&amp;a[i]!=<span class="string">'e'</span>&amp;&amp;a[i]!=<span class="string">'i'</span>&amp;&amp;a[i]!=<span class="string">'o'</span>&amp;&amp;a[i]!=<span class="string">'u'</span>)&#123;</span><br><span class="line">			sum++;</span><br><span class="line">			temp = i+<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=temp; i&lt;len; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]==<span class="string">'a'</span>||a[i]==<span class="string">'e'</span>||a[i]==<span class="string">'i'</span>||a[i]==<span class="string">'o'</span>||a[i]==<span class="string">'u'</span>)&#123;</span><br><span class="line">			sum++;</span><br><span class="line">			temp = i+<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=temp; i&lt;len; i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]!=<span class="string">'a'</span>&amp;&amp;a[i]!=<span class="string">'e'</span>&amp;&amp;a[i]!=<span class="string">'i'</span>&amp;&amp;a[i]!=<span class="string">'o'</span>&amp;&amp;a[i]!=<span class="string">'u'</span>)&#123;</span><br><span class="line">			sum=<span class="number">0</span>;</span><br><span class="line">			temp = i+<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(sum==<span class="number">3</span>)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="string">"yes"</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="string">"no"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 找到第一个元音的下标index1，必须大于0，且能找到</span></span><br><span class="line"><span class="comment">   沿着index1继续找下一个非元音得到index2，必须能找到</span></span><br><span class="line"><span class="comment">   沿着index2继续找下一个元音得到index3，必须能找到</span></span><br><span class="line"><span class="comment">   最后判断index3-1位置的字符应该是从后往前第一个非元音（因为index3及以后的字符都必须是元音了） */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123; <span class="comment">//死循环是为了测试</span></span><br><span class="line">        <span class="keyword">if</span> (work())</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"yes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"no"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> <span class="keyword">word</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="built_in">string</span> yuan = <span class="string">"aeiou"</span>;</span><br><span class="line">    getline(<span class="built_in">cin</span>, <span class="keyword">word</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">word</span>.<span class="built_in">size</span>() &lt; <span class="number">4</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//第一个元音字符的pos</span></span><br><span class="line">    <span class="keyword">int</span> index1 = <span class="keyword">word</span>.find_first_of(yuan, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (index1 == <span class="number">0</span> || index1 == <span class="built_in">string</span>::npos) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//之后第一个非元音</span></span><br><span class="line">    <span class="keyword">int</span> index2 = <span class="keyword">word</span>.find_first_not_of(yuan, index1 + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (index2 == <span class="keyword">word</span>.<span class="built_in">size</span>() - <span class="number">1</span> || index2 == <span class="built_in">string</span>::npos) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//之后第一个元音</span></span><br><span class="line">    <span class="keyword">int</span> index3 = <span class="keyword">word</span>.find_first_of(yuan, index2 + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (index3 == <span class="built_in">string</span>::npos) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (index3 - <span class="number">1</span> != <span class="keyword">word</span>.find_last_not_of(yuan)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-数位递增的数"><a href="#7-数位递增的数" class="headerlink" title="7. 数位递增的数"></a>7. 数位递增的数</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　一个正整数如果任何一个数位不大于右边相邻的数位，则称为一个数位递增的数，例如1135是一个数位递增的数，而1024不是一个数位递增的数。<br>　　给定正整数 n，请问在整数 1 至 n 中有多少个数位递增的数？</p>
<p><strong>输入格式</strong></p>
<p>　　输入的第一行包含一个整数 n。</p>
<p><strong>输出格式</strong></p>
<p>　　输出一行包含一个整数，表示答案。</p>
<p><strong>样例输入</strong></p>
<p>30</p>
<p><strong>样例输出</strong></p>
<p>26</p>
<p><strong>评测用例规模与约定</strong></p>
<p>　　对于 40% 的评测用例，1 &lt;= n &lt;= 1000。<br>　　对于 80% 的评测用例，1 &lt;= n &lt;= 100000。<br>　　对于所有评测用例，1 &lt;= n &lt;= 1000000。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">ascend</span><span class="params">(<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> m = <span class="number">0</span>, a[<span class="number">7</span>];</span><br><span class="line">	<span class="keyword">while</span>(j)&#123;</span><br><span class="line">		a[m++] = j%<span class="number">10</span>;</span><br><span class="line">		j /= <span class="number">10</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=m<span class="number">-1</span>; i&gt;<span class="number">0</span>; --i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a[i]&gt;a[i<span class="number">-1</span>])</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; ++i)&#123;</span><br><span class="line">		<span class="keyword">if</span>(ascend(i))</span><br><span class="line">			count++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;count&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*迭代1~n</span></span><br><span class="line"><span class="comment">	转换为字符串</span></span><br><span class="line"><span class="comment">	迭代字符串的每一位，判断是否满足要求*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)<span class="comment">//死循环为测试用</span></span><br><span class="line">        work();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="keyword">char</span> s[<span class="number">8</span>];</span><br><span class="line">        <span class="built_in">sprintf</span>(s, <span class="string">"%d"</span>, i);</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="built_in">strlen</span>(s); ++j) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[j - <span class="number">1</span>] &gt; s[j]) &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">            ans++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-长草"><a href="#8-长草" class="headerlink" title="8. 长草"></a>8. 长草</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　小明有一块空地，他将这块空地划分为 n 行 m 列的小块，每行和每列的长度都为 1。<br>　　小明选了其中的一些小块空地，种上了草，其他小块仍然保持是空地。<br>　　这些草长得很快，每个月，草都会向外长出一些，如果一个小块种了草，则它将向自己的上、下、左、右四小块空地扩展，这四小块空地都将变为有草的小块。<br>　　请告诉小明，k 个月后空地上哪些地方有草。</p>
<p><strong>输入格式</strong></p>
<p>　　输入的第一行包含两个整数 n, m。<br>　　接下来 n 行，每行包含 m 个字母，表示初始的空地状态，字母之间没有空格。如果为小数点，表示为空地，如果字母为 g，表示种了草。<br>　　接下来包含一个整数 k。</p>
<p><strong>输出格式</strong></p>
<p>　　输出 n 行，每行包含 m 个字母，表示 k 个月后空地的状态。如果为小数点，表示为空地，如果字母为 g，表示长了草。</p>
<p><strong>样例输入</strong></p>
<p>4 5<br>.g…<br>…..<br>..g..<br>…..<br>2</p>
<p><strong>样例输出</strong></p>
<p>gggg.<br>gggg.<br>ggggg<br>.ggg.</p>
<p><strong>评测用例规模与约定</strong></p>
<p>　　对于 30% 的评测用例，2 &lt;= n, m &lt;= 20。<br>　　对于 70% 的评测用例，2 &lt;= n, m &lt;= 100。<br>　　对于所有评测用例，2 &lt;= n, m &lt;= 1000，1 &lt;= k &lt;= 1000。</p>
</blockquote>
<p>参考代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//典型的bfs，基本是个模板题。时间复杂度最多为O(N*M)。</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> loop(i, x, y) for(register int i = x;i &lt;= y;i++)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//草地上的一块</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">block</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    <span class="keyword">int</span> month;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> dx[] = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> dy[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">1000</span>][<span class="number">1000</span>]&#123;&#125;;</span><br><span class="line"><span class="keyword">int</span> N, M, K;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> a = clock();</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    <span class="built_in">queue</span>&lt;block&gt; q;</span><br><span class="line">    <span class="keyword">char</span> next_char;</span><br><span class="line">    <span class="built_in">cin</span>.<span class="built_in">get</span>(next_char);</span><br><span class="line">    <span class="keyword">while</span> (next_char != <span class="string">'\n'</span>)<span class="built_in">cin</span>.<span class="built_in">get</span>(next_char);</span><br><span class="line"></span><br><span class="line">    loop(i, <span class="number">0</span>, N - <span class="number">1</span>) &#123;</span><br><span class="line">        loop(j, <span class="number">0</span>, M - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="built_in">cin</span>.<span class="built_in">get</span>(next_char);</span><br><span class="line">            <span class="keyword">if</span> (next_char == <span class="string">'g'</span>) &#123;</span><br><span class="line">                q.push(&#123;i, j, <span class="number">0</span>&#125;);</span><br><span class="line">                vis[i][j] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cin</span>.<span class="built_in">get</span>(next_char);</span><br><span class="line">        <span class="keyword">while</span> (next_char != <span class="string">'\n'</span>)<span class="built_in">cin</span>.<span class="built_in">get</span>(next_char);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; K;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">        block b = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">int</span> month = b.month;</span><br><span class="line">        <span class="keyword">if</span> (month &lt; K) &#123;</span><br><span class="line">            loop(i, <span class="number">0</span>, <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> nx = b.i + dx[i];</span><br><span class="line">                <span class="keyword">int</span> ny = b.j + dy[i];</span><br><span class="line">                <span class="keyword">if</span> (<span class="number">0</span> &lt;= nx &amp;&amp; nx &lt; N &amp;&amp; <span class="number">0</span> &lt;= ny &amp;&amp; ny &lt; M &amp;&amp; vis[nx][ny] == <span class="number">0</span>) &#123;</span><br><span class="line">                    vis[nx][ny] = <span class="number">1</span>;</span><br><span class="line">                    q.push(&#123;nx, ny, month + <span class="number">1</span>&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    loop(i, <span class="number">0</span>, N - <span class="number">1</span>) &#123;</span><br><span class="line">        loop(j, <span class="number">0</span>, M - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (vis[i][j] == <span class="number">1</span>) <span class="built_in">cout</span> &lt;&lt; <span class="string">'g'</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="string">'.'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">clog</span> &lt;&lt; clock() - a &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-序列计数"><a href="#9-序列计数" class="headerlink" title="9. 序列计数"></a>9. 序列计数</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　小明想知道，满足以下条件的正整数序列的数量：</p>
<p>  　　1. 第一项为 n；<br>        　　2. 第二项不超过 n；<br>              　　3. 从第三项开始，每一项小于前两项的差的绝对值。<br>           　　请计算，对于给定的 n，有多少种满足条件的序列。</p>
<p><strong>输入格式</strong></p>
<p>　　输入一行包含一个整数 n。</p>
<p><strong>输出格式</strong></p>
<p>　　输出一个整数，表示答案。答案可能很大，请输出答案除以10000的余数。</p>
<p><strong>样例输入</strong></p>
<p>4</p>
<p><strong>样例输出</strong></p>
<p>7</p>
<p><strong>样例说明</strong></p>
<p>　　以下是满足条件的序列：<br>　　4 1<br>　　4 1 1<br>　　4 1 2<br>　　4 2<br>　　4 2 1<br>　　4 3<br>　　4 4</p>
<p><strong>评测用例规模与约定</strong></p>
<p>　　对于 20% 的评测用例，1 &lt;= n &lt;= 5；<br>　　对于 50% 的评测用例，1 &lt;= n &lt;= 10；<br>　　对于 80% 的评测用例，1 &lt;= n &lt;= 100；<br>　　对于所有评测用例，1 &lt;= n &lt;= 1000。</p>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> n, <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">	ans++;</span><br><span class="line">	<span class="keyword">int</span> nabs = <span class="built_in">abs</span>(a[n - <span class="number">1</span>] - a[n - <span class="number">2</span>]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nabs; i++) &#123;</span><br><span class="line">		a[n] = i;</span><br><span class="line">		dfs(a, n + <span class="number">1</span>, len);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = n; j &lt; len; j++) &#123;</span><br><span class="line">			a[j] = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">int</span> a[n];</span><br><span class="line">	<span class="built_in">memset</span>(a, <span class="number">0</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * n);</span><br><span class="line">	<span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="number">1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	a[<span class="number">0</span>] = n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)&#123;</span><br><span class="line">		a[<span class="number">1</span>]=i;</span><br><span class="line">		dfs(a,<span class="number">2</span>,n);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans % <span class="number">10000</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参考代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* f(pre,cur) = f(cur,1) + f(cur,2) + ... +f(cur,abs(pre-cur)-1) + 1</span></span><br><span class="line"><span class="comment">   pre表示前一个数，cur代表当前的数，选定之后，序列种数等于以cur为前序，以1到abs-1为当前的序列数的总和再加1.如f(5,2) = f(2,1)+f(2,2).</span></span><br><span class="line"><span class="comment">   优化方案：加状态记忆</span></span><br><span class="line"><span class="comment">   进一步优化：考虑状态的转移</span></span><br><span class="line"><span class="comment">   如 f(10,5)=f(10,4)+f(5,4);而不是枚举1到5；这样每次解答树只展开两个节点，相当于减少一层循环 */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">int</span> mem[<span class="number">1001</span>][<span class="number">1000</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> pre, <span class="keyword">int</span> cur)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur &lt;= <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (mem[pre][cur] != <span class="number">0</span>) <span class="keyword">return</span> mem[pre][cur];</span><br><span class="line">    <span class="keyword">return</span> mem[pre][cur] = (<span class="number">1</span> + dfs(pre, cur - <span class="number">1</span>) + dfs(cur, <span class="built_in">abs</span>(pre - cur) - <span class="number">1</span>)) % MOD;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; dfs(N, N) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> a = clock();</span><br><span class="line">    work();</span><br><span class="line">    <span class="keyword">int</span> b = clock();</span><br><span class="line">    <span class="built_in">clog</span> &lt;&lt; (b - a) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-晚会节目单"><a href="#10-晚会节目单" class="headerlink" title="10. 晚会节目单"></a>10. 晚会节目单</h2><blockquote>
<p><strong>问题描述</strong></p>
<p>　　小明要组织一台晚会，总共准备了 n 个节目。然后晚会的时间有限，他只能最终选择其中的 m 个节目。<br>　　这 n 个节目是按照小明设想的顺序给定的，顺序不能改变。<br>　　小明发现，观众对于晚上的喜欢程度与前几个节目的好看程度有非常大的关系，他希望选出的第一个节目尽可能好看，在此前提下希望第二个节目尽可能好看，依次类推。<br>　　小明给每个节目定义了一个好看值，请你帮助小明选择出 m 个节目，满足他的要求。</p>
<p><strong>输入格式</strong></p>
<p>　　输入的第一行包含两个整数 n, m ，表示节目的数量和要选择的数量。<br>　　第二行包含 n 个整数，依次为每个节目的好看值。</p>
<p><strong>输出格式</strong></p>
<p>　　输出一行包含 m 个整数，为选出的节目的好看值。</p>
<p><strong>样例输入</strong></p>
<p>5 3<br>3 1 2 5 4</p>
<p><strong>样例输出</strong></p>
<p>3 5 4</p>
<p><strong>样例说明</strong></p>
<p>　　选择了第1, 4, 5个节目。</p>
<p><strong>评测用例规模与约定</strong></p>
<p>　　对于 30% 的评测用例，1 &lt;= n &lt;= 20；<br>　　对于 60% 的评测用例，1 &lt;= n &lt;= 100；<br>　　对于所有评测用例，1 &lt;= n &lt;= 100000，0 &lt;= 节目的好看值 &lt;= 100000。</p>
</blockquote>
<p>参考代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 算法用尺取法，双指针移动。理论上的复杂度是O(M*(N-M))，极端情况是M=N/2，整体达到(N^2)/2</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   while (pos_1 &lt; pos_2)</span></span><br><span class="line"><span class="comment">       if (data[++pos_1] &gt; data[pos_max])pos_max = pos_1;</span></span><br><span class="line"><span class="comment">   转移方程：f[i][j] = data[f[i][j-1]] &gt;= data[f[i+pow_2(j-1)][j-1]]?f[i][j-1]:f[i+pow_2(j-1)][j-1]; 注：比较原始数据，记录下标。</span></span><br><span class="line"><span class="comment">   由于预处理是O(nlogn)，M次查询是O(M)，每次查询是O(1)，所以整体复杂度为O(nlogn)。 */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; data;</span><br><span class="line"><span class="comment">/*===st rmq的数据 begin===*/</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_N = <span class="number">100005</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_POW = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> f[MAX_N][MAX_POW], Log[MAX_N];</span><br><span class="line"><span class="comment">/*===st rmq的数据 end===*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*===st rmq的函数 begin===*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initLog</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Log[<span class="number">1</span>] = <span class="number">0</span>;<span class="comment">//2的0次方为1，log2_1 = 0;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">        Log[i] = Log[i / <span class="number">2</span>] +<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2的p次方</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">pow_2</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> &lt;&lt; p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initSt</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">        f[i][<span class="number">0</span>] = i;<span class="comment">//注意这里存的是下标，而不是值</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (j = <span class="number">1</span>; pow_2(j) &lt; N; ++j) &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i + pow_2(j<span class="number">-1</span>) &lt; N; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> index1 = f[i][j - <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">int</span> index2 = f[i + pow_2(j - <span class="number">1</span>)][j - <span class="number">1</span>];</span><br><span class="line">            f[i][j] = data[index1] &gt;= data[index2] ? index1 : index2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = r-l+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> k = Log[len];</span><br><span class="line">    <span class="keyword">int</span> index1 = f[l][k];</span><br><span class="line">    <span class="keyword">int</span> index2 = f[r - pow_2(k) + <span class="number">1</span>][k];</span><br><span class="line">    <span class="keyword">return</span> data[index1] &gt;= data[index2] ? index1 : index2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*===st rmq的函数 end===*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ios::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    data = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; data[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*===初始化st rmq相关数据===*/</span></span><br><span class="line">    initLog();</span><br><span class="line">    initSt();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> pos_max = <span class="number">0</span>, pos_1 = <span class="number">0</span>, pos_2 = N - M;</span><br><span class="line">    <span class="keyword">while</span> (pos_1 &lt; pos_2 &amp;&amp; pos_2 &lt; N) &#123;</span><br><span class="line">        pos_max = query(pos_1,pos_2);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; data[pos_max] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        pos_1 = pos_max + <span class="number">1</span>;</span><br><span class="line">        pos_2++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (pos_2 != N) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; data[pos_2++] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = clock();</span><br><span class="line">    work();</span><br><span class="line">    <span class="keyword">int</span> b = clock();</span><br><span class="line">    <span class="built_in">clog</span> &lt;&lt; (b - a) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/DS-Tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="PPPzzY">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PPPzzY">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/DS-Tree/" class="post-title-link" itemprop="url">数据结构——树</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-03-24 15:04:28" itemprop="dateCreated datePublished" datetime="2020-03-24T15:04:28+08:00">2020-03-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-11-09 16:36:38" itemprop="dateModified" datetime="2020-11-09T16:36:38+08:00">2020-11-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Data-Structure/" itemprop="url" rel="index"><span itemprop="name">Data Structure</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="上"><a href="#上" class="headerlink" title="上"></a>上</h2><p><img src="/DS-Tree/image-20200111010423885.png" alt="image-20200111010423885" style="zoom: 50%;"></p>
<p>高度为h的k叉树有最大节点数：$(k^h-1)/k-1$</p>
<p>具有n个结点的k叉树的最小高度：$\lceil log_k(n(k-1)+1)\rceil$</p>
<p>具有n个结点的完全二叉树的深度：$\lfloor log_2(n+1)\rfloor$</p>
<h3 id="二叉树的链表结构："><a href="#二叉树的链表结构：" class="headerlink" title="二叉树的链表结构："></a>二叉树的链表结构：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TNode</span> *<span class="title">Position</span>;</span></span><br><span class="line"><span class="keyword">typedef</span> Position BinTree; <span class="comment">/* 二叉树类型 */</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TNode</span>&#123;</span> <span class="comment">/* 树结点定义 */</span></span><br><span class="line">    ElementType Data; <span class="comment">/* 结点数据 */</span></span><br><span class="line">    BinTree Left;     <span class="comment">/* 指向左子树 */</span></span><br><span class="line">    BinTree Right;    <span class="comment">/* 指向右子树 */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="二叉树的四种遍历："><a href="#二叉树的四种遍历：" class="headerlink" title="二叉树的四种遍历："></a>二叉树的四种遍历：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InorderTraversal</span><span class="params">( BinTree BT )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( BT ) &#123;</span><br><span class="line">        InorderTraversal( BT-&gt;Left );</span><br><span class="line">        <span class="comment">/* 此处假设对BT结点的访问就是打印数据 */</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, BT-&gt;Data); <span class="comment">/* 假设数据为整型 */</span></span><br><span class="line">        InorderTraversal( BT-&gt;Right );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//中序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreorderTraversal</span><span class="params">( BinTree BT )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( BT ) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, BT-&gt;Data );</span><br><span class="line">        PreorderTraversal( BT-&gt;Left );</span><br><span class="line">        PreorderTraversal( BT-&gt;Right );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//后序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostorderTraversal</span><span class="params">( BinTree BT )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( BT ) &#123;</span><br><span class="line">        PostorderTraversal( BT-&gt;Left );</span><br><span class="line">        PostorderTraversal( BT-&gt;Right );</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, BT-&gt;Data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LevelorderTraversal</span> <span class="params">( BinTree BT )</span> </span>&#123; </span><br><span class="line">    Queue Q; </span><br><span class="line">    BinTree T;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> ( !BT ) <span class="keyword">return</span>; <span class="comment">/* 若是空树则直接返回 */</span></span><br><span class="line">     </span><br><span class="line">    Q = CreatQueue(); <span class="comment">/* 创建空队列Q */</span></span><br><span class="line">    AddQ( Q, BT );</span><br><span class="line">    <span class="keyword">while</span> ( !IsEmpty(Q) ) &#123;</span><br><span class="line">        T = DeleteQ( Q );</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, T-&gt;Data); <span class="comment">/* 访问取出队列的结点 */</span></span><br><span class="line">        <span class="keyword">if</span> ( T-&gt;Left )   AddQ( Q, T-&gt;Left );</span><br><span class="line">        <span class="keyword">if</span> ( T-&gt;Right )  AddQ( Q, T-&gt;Right );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="线索二叉树"><a href="#线索二叉树" class="headerlink" title="线索二叉树"></a>线索二叉树</h3><ul>
<li>为了保留结点在某种遍历序列中直接前驱和直接后继的位置信息，可以利用二叉链表存储结构中的n+1个空指针域来指示。</li>
<li>为每个结点增设两个标志位域 ltag 和 rtag</li>
<li>实质：在遍历过程中将二叉链表中的空指针改为指向前驱或后继的线索</li>
<li>在对一棵二叉树加线索时，必须首先申请一个头结点，建立头结点与二叉树的根结点的指向关系，对二叉树线索化后，还需建立最后一个结点与头结点之间的线索。</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据类型描述：</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span> &#123;</span></span><br><span class="line">    elemtype data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">BiThrNode</span> *<span class="title">lchild</span>, *<span class="title">rchild</span>;</span></span><br><span class="line">    <span class="keyword">unsigned</span> ltag=<span class="number">1</span>, rtag=<span class="number">1</span>;    <span class="comment">// 1:线索；0：指针</span></span><br><span class="line">&#125; BiThrNode, *BiThrTree;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 线索化过程</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InTreading</span> <span class="params">(BiThrTree p)</span> </span>&#123; <span class="comment">/*中序遍历进行中序线索化*/</span></span><br><span class="line">   <span class="keyword">if</span> (p) &#123;  </span><br><span class="line">       InThreading(p-&gt;lchild);        <span class="comment">/*左子树线索化*/</span></span><br><span class="line">       <span class="keyword">if</span> (!p-&gt;lchild) &#123;		<span class="comment">/*无左孩子，前驱线索*/</span></span><br><span class="line">           p-&gt;ltag = <span class="number">1</span>;</span><br><span class="line">           p-&gt;lchild = pre;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (!pre-&gt;rchild) &#123;     <span class="comment">/*无右孩子，后继线索*/</span></span><br><span class="line">           pre-&gt;rtag = <span class="number">1</span>;</span><br><span class="line">           pre-&gt;rchild = p;</span><br><span class="line">       &#125;</span><br><span class="line">       pre = p;</span><br><span class="line">       InThreading(p-&gt;rchild);      <span class="comment">/*右子树线索化*/</span> </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 整棵树的中序线索化 </span></span><br><span class="line"><span class="function"><span class="keyword">int</span>  <span class="title">InOrderThr</span> <span class="params">(BiThrTree &amp;head, BiThrTree T)</span> </span>&#123; </span><br><span class="line">    <span class="comment">/*中序遍历二叉树 T 并将其中序线索化，head指向头结点*/</span></span><br><span class="line">    <span class="keyword">if</span> (!(head = (BiThrTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BiThrNodeType))))</span><br><span class="line">        <span class="built_in">exit</span>(Overflow);</span><br><span class="line">    head-&gt;ltag = <span class="number">0</span>;</span><br><span class="line">    head-&gt;rtag = <span class="number">1</span>;          <span class="comment">/*建立头结点*/</span></span><br><span class="line">    head-&gt;rchild = head;     <span class="comment">/*右指针回指*/</span></span><br><span class="line">    <span class="keyword">if</span> (!T) &#123;</span><br><span class="line">        head-&gt;lchild =head; <span class="comment">/*若二叉树为空，则左指针回指*/</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">        head-&gt;lchild = T;</span><br><span class="line">        pre = head;</span><br><span class="line">        InThreading(T);       <span class="comment">/*中序遍历进行中序线索化*/</span></span><br><span class="line">        pre-&gt;rchild = head;</span><br><span class="line">        pre-&gt;rtag = <span class="number">1</span>; 		<span class="comment">/*最后一结点线索化*/</span></span><br><span class="line">        head-&gt;rchild = pre;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>线索化二叉树上常用运算</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在中序线索二叉树中查找某结点P的中序后继</span></span><br><span class="line"><span class="function">BiThrTree  <span class="title">InorderNext</span> <span class="params">(BiThrTree  p)</span> </span>&#123;</span><br><span class="line">    BiThrTree q;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;rtag==<span class="number">1</span>)		<span class="comment">/*表明p-&gt;rchild为右线索*/</span></span><br><span class="line">        <span class="keyword">return</span> (p-&gt;rchild);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        q = p-&gt;rchild;	<span class="comment">/*后继为当前结点右子树中第一个中序遍历到的结点*/</span></span><br><span class="line">        <span class="keyword">while</span> (q-&gt;ltag == <span class="number">0</span>)</span><br><span class="line">            q = q-&gt;lchild;</span><br><span class="line">        <span class="keyword">return</span> (q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在中序线索二叉树中找结点P中序前驱</span></span><br><span class="line"><span class="function">BiThrTree  <span class="title">InorderPre</span> <span class="params">(BiThrTree p)</span> </span>&#123;</span><br><span class="line">    BiThrTree q;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;ltag == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> (p-&gt;lchild）</span><br><span class="line">    <span class="keyword">else</span> &#123; </span><br><span class="line">        q = p-&gt;lchild;</span><br><span class="line">        <span class="keyword">while</span> (q-&gt;rtag == <span class="number">0</span>)</span><br><span class="line">            q = q-&gt;rchild;</span><br><span class="line">        <span class="keyword">return</span> (q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>中序遍历中序线索二叉树</strong>：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TraverseInthread</span> <span class="params">( BiThrTree T )</span> </span>&#123;  </span><br><span class="line">    p = T-&gt;lchild; 	<span class="comment">// T为带头结点的中序线索二叉树 </span></span><br><span class="line">    <span class="keyword">if</span> (p != T) &#123;</span><br><span class="line">        <span class="keyword">while</span> (p-&gt;ltag == <span class="number">0</span>)</span><br><span class="line">            p = p-&gt;lchild;  <span class="comment">// 找第一个结点</span></span><br><span class="line">        <span class="keyword">do</span> &#123; </span><br><span class="line">            <span class="built_in">printf</span>(“%d\n”, p-&gt;data);<span class="comment">// 访问 p 结点</span></span><br><span class="line">            p = InorderNext(p); 	<span class="comment">// 找 p 结点的中序后继</span></span><br><span class="line">        &#125;<span class="keyword">while</span>(p != T);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="树的同构"><a href="#树的同构" class="headerlink" title="树的同构"></a>树的同构</h3><blockquote>
<p>求解思路</p>
<ol>
<li>二叉树表示：结构数组表示二叉树（静态链表）</li>
<li>建二叉树</li>
<li>同构判别</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MaxTree 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ElementType char</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Tree int</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> Null -1</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> &#123;</span></span><br><span class="line">    ElementType Element;</span><br><span class="line">    Tree Left;</span><br><span class="line">    Tree Right;</span><br><span class="line">&#125; T1[MaxTree], T2[MaxTree];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    Tree R1, R2;</span><br><span class="line">    R1 = BuildTree(T1);</span><br><span class="line">    R2 = BuildTree(T2);</span><br><span class="line">    <span class="keyword">if</span>(Isomorphic(R1, R2))</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Yes\n"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"No\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Tree <span class="title">BuildTree</span> <span class="params">(struct TreeNode T[])</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d\n"</span>, &amp;N);</span><br><span class="line">    <span class="keyword">if</span>(N)&#123;</span><br><span class="line">        <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;N; i++)</span><br><span class="line">            check[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;N; i++) &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%c %c %c\n"</span>, &amp;T[i].Element, &amp;cl, &amp;cr);</span><br><span class="line">            <span class="keyword">if</span>(cl != <span class="string">'-'</span>) &#123;</span><br><span class="line">                T[i].left = cl - <span class="string">'0'</span>;</span><br><span class="line">                check[T[i].left] = <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                T[i].left = Null;</span><br><span class="line">            &#125;</span><br><span class="line">            ... <span class="comment">//对cr的对应处理</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;N; i++)</span><br><span class="line">            <span class="keyword">if</span>(!check[i])	<span class="keyword">break</span>;</span><br><span class="line">        Root = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Root;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Isomorphic</span><span class="params">(Tree R1, Tree R2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(R1==Null &amp;&amp; R2==Null)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(R1!=Null &amp;&amp; R2==Null || R1==Null &amp;&amp; R2!=Null)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(T1[R1].Element != T2[R2].Element)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(T1[R1].Left==Null &amp;&amp; T2[R2].Left==Null)</span><br><span class="line">        <span class="keyword">return</span> Isomorphic(T1[R1].Right, T2[R2].Right);</span><br><span class="line">    <span class="keyword">if</span>(T1[R1].Left!=Null &amp;&amp; T2[R2].Left!=Null &amp;&amp; T1[T1[R1].Left].Element==T2[T2[R2].Left].Element)</span><br><span class="line">        <span class="keyword">return</span> Isomorphic(T1[R1].Left, T2[R2].Left) &amp;&amp; Isomorphic(T1[R1].Right, T2[R2].Right);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> Isomorphic(T1[R1].Left, T2[R2].Right) &amp;&amp; Isomorphic(T1[R1].Left, T2[R2].Right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="相关讨论"><a href="#相关讨论" class="headerlink" title="相关讨论"></a>相关讨论</h3><ul>
<li>m叉树中各类结点数之间的关系</li>
<li>如何用堆栈实现后序遍历的非递归程序</li>
<li>将层序遍历中的队列改为堆栈</li>
</ul>
<p><img src="/DS-Tree/image-20200111002041133.png" alt="image-20200111002041133" style="zoom: 80%;"></p>
<p><img src="/DS-Tree/image-20200111004822217.png" alt="image-20200111004822217" style="zoom:80%;"></p>
<h2 id="中"><a href="#中" class="headerlink" title="中"></a>中</h2><p><img src="/DS-Tree/image-20200324145022963.png" alt="image-20200324145022963" style="zoom: 50%;"></p>
<h3 id="二叉搜索树的插入与删除："><a href="#二叉搜索树的插入与删除：" class="headerlink" title="二叉搜索树的插入与删除："></a>二叉搜索树的插入与删除：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BinTree <span class="title">Insert</span><span class="params">( BinTree BST, ElementType X )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( !BST )&#123; 	<span class="comment">/* 若原树为空，生成并返回一个结点的二叉搜索树 */</span></span><br><span class="line">        BST = (BinTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct TNode));</span><br><span class="line">        BST-&gt;Data = X;</span><br><span class="line">        BST-&gt;Left = BST-&gt;Right = <span class="literal">NULL</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; 		<span class="comment">/* 开始找要插入元素的位置 */</span></span><br><span class="line">        <span class="keyword">if</span>( X &lt; BST-&gt;Data )</span><br><span class="line">            BST-&gt;Left = Insert( BST-&gt;Left, X );   <span class="comment">/*递归插入左子树*/</span></span><br><span class="line">        <span class="keyword">else</span>  <span class="keyword">if</span>( X &gt; BST-&gt;Data )</span><br><span class="line">            BST-&gt;Right = Insert( BST-&gt;Right, X ); <span class="comment">/*递归插入右子树*/</span></span><br><span class="line">        <span class="comment">/* else X已经存在，什么都不做 */</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> BST;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">BinTree <span class="title">Delete</span><span class="params">( BinTree BST, ElementType X )</span>  </span>&#123; </span><br><span class="line">    Position Tmp; </span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span>( !BST ) </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"要删除的元素未找到"</span>); </span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>( X &lt; BST-&gt;Data ) </span><br><span class="line">            BST-&gt;Left = Delete( BST-&gt;Left, X );   <span class="comment">/* 从左子树递归删除 */</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( X &gt; BST-&gt;Data ) </span><br><span class="line">            BST-&gt;Right = Delete( BST-&gt;Right, X ); <span class="comment">/* 从右子树递归删除 */</span></span><br><span class="line">        <span class="keyword">else</span> &#123; 	<span class="comment">/* BST就是要删除的结点 */</span></span><br><span class="line">            <span class="comment">/* 如果被删除结点有左右两个子结点 */</span> </span><br><span class="line">            <span class="keyword">if</span>( BST-&gt;Left &amp;&amp; BST-&gt;Right ) &#123;</span><br><span class="line">                <span class="comment">/* 从右子树中找最小的元素填充删除结点 */</span></span><br><span class="line">                Tmp = FindMin( BST-&gt;Right );</span><br><span class="line">                BST-&gt;Data = Tmp-&gt;Data;</span><br><span class="line">                <span class="comment">/* 从右子树中删除最小元素 */</span></span><br><span class="line">                BST-&gt;Right = Delete( BST-&gt;Right, BST-&gt;Data );</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123; 	<span class="comment">/* 被删除结点有一个或无子结点 */</span></span><br><span class="line">                Tmp = BST; </span><br><span class="line">                <span class="keyword">if</span>( !BST-&gt;Left )       <span class="comment">/* 只有右孩子或无子结点 */</span></span><br><span class="line">                    BST = BST-&gt;Right; </span><br><span class="line">                <span class="keyword">else</span>                   <span class="comment">/* 只有左孩子 */</span></span><br><span class="line">                    BST = BST-&gt;Left;</span><br><span class="line">                <span class="built_in">free</span>( Tmp );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> BST;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/DS-Tree/image-20200114023519080.png" alt="image-20200114023519080" style="zoom: 80%;"></p>
<p><img src="/DS-Tree/image-20200324145407531.png" alt="image-20200324145407531" style="zoom:50%;"></p>
<h3 id="AVL树的旋转与插入："><a href="#AVL树的旋转与插入：" class="headerlink" title="AVL树的旋转与插入："></a>AVL树的旋转与插入：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">AVLNode</span> *<span class="title">Position</span>;</span></span><br><span class="line"><span class="keyword">typedef</span> Position AVLTree;	<span class="comment">/* AVL树类型 */</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">AVLNode</span> &#123;</span></span><br><span class="line">    ElementType Data;	<span class="comment">/* 结点数据 */</span></span><br><span class="line">    AVLTree Left;		<span class="comment">/* 指向左子树 */</span></span><br><span class="line">    AVLTree Right;		<span class="comment">/* 指向右子树 */</span></span><br><span class="line">    <span class="keyword">int</span> Height;			<span class="comment">/* 树高 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Max</span> <span class="params">( <span class="keyword">int</span> a, <span class="keyword">int</span> b )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">AVLTree <span class="title">SingleLeftRotation</span> <span class="params">( AVLTree A )</span> </span>&#123; </span><br><span class="line">    <span class="comment">/* 注意：A必须有一个左子结点B */</span></span><br><span class="line">  	<span class="comment">/* 将A与B做左单旋，更新A与B的高度，返回新的根结点B */</span>     </span><br><span class="line">    AVLTree B = A-&gt;Left;</span><br><span class="line">    A-&gt;Left = B-&gt;Right;</span><br><span class="line">    B-&gt;Right = A;</span><br><span class="line">    A-&gt;Height = Max( GetHeight(A-&gt;Left), GetHeight(A-&gt;Right) ) + <span class="number">1</span>;</span><br><span class="line">    B-&gt;Height = Max( GetHeight(B-&gt;Left), A-&gt;Height ) + <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> B;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">AVLTree <span class="title">DoubleLeftRightRotation</span> <span class="params">( AVLTree A )</span> </span>&#123; </span><br><span class="line">    <span class="comment">/* 注意：A必须有一个左子结点B，且B必须有一个右子结点C */</span></span><br><span class="line">  	<span class="comment">/* 将A、B与C做两次单旋，返回新的根结点C */</span></span><br><span class="line">     </span><br><span class="line">    <span class="comment">/* 将B与C做右单旋，C被返回 */</span></span><br><span class="line">    A-&gt;Left = SingleRightRotation(A-&gt;Left);</span><br><span class="line">    <span class="comment">/* 将A与C做左单旋，C被返回 */</span></span><br><span class="line">    <span class="keyword">return</span> SingleLeftRotation(A);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">/*************************************/</span></span><br><span class="line"><span class="comment">/* 对称的右单旋与右-左双旋请自己实现 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*************************************/</span></span><br><span class="line"> </span><br><span class="line"><span class="function">AVLTree <span class="title">Insert</span> <span class="params">( AVLTree T, ElementType X )</span> </span>&#123; </span><br><span class="line">    <span class="comment">/* 将X插入AVL树T中，并且返回调整后的AVL树 */</span></span><br><span class="line">    <span class="keyword">if</span> ( !T ) &#123; 	<span class="comment">/* 若插入空树，则新建包含一个结点的树 */</span></span><br><span class="line">        T = (AVLTree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct AVLNode));</span><br><span class="line">        T-&gt;Data = X;</span><br><span class="line">        T-&gt;Height = <span class="number">0</span>;</span><br><span class="line">        T-&gt;Left = T-&gt;Right = <span class="literal">NULL</span>;</span><br><span class="line">    &#125; 	<span class="comment">// if (插入空树) 结束</span></span><br><span class="line"> 	<span class="keyword">else</span> <span class="keyword">if</span> ( X &lt; T-&gt;Data ) &#123;</span><br><span class="line">        <span class="comment">/* 插入T的左子树 */</span></span><br><span class="line">        T-&gt;Left = Insert( T-&gt;Left, X);</span><br><span class="line">        <span class="comment">/* 如果需要左旋 */</span></span><br><span class="line">        <span class="keyword">if</span> ( GetHeight(T-&gt;Left)-GetHeight(T-&gt;Right) == <span class="number">2</span> )</span><br><span class="line">            <span class="keyword">if</span> ( X &lt; T-&gt;Left-&gt;Data ) </span><br><span class="line">               T = SingleLeftRotation(T);      <span class="comment">/* 左单旋 */</span></span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">               T = DoubleLeftRightRotation(T); <span class="comment">/* 左-右双旋 */</span></span><br><span class="line">    &#125; 	<span class="comment">// else if (插入左子树) 结束 </span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ( X &gt; T-&gt;Data ) &#123;</span><br><span class="line">        <span class="comment">/* 插入T的右子树 */</span></span><br><span class="line">        T-&gt;Right = Insert( T-&gt;Right, X );</span><br><span class="line">        <span class="comment">/* 如果需要右旋 */</span></span><br><span class="line">        <span class="keyword">if</span> ( GetHeight(T-&gt;Left)-GetHeight(T-&gt;Right) == <span class="number">-2</span> )</span><br><span class="line">            <span class="keyword">if</span> ( X &gt; T-&gt;Right-&gt;Data ) </span><br><span class="line">               T = SingleRightRotation(T);     <span class="comment">/* 右单旋 */</span></span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">               T = DoubleRightLeftRotation(T); <span class="comment">/* 右-左双旋 */</span></span><br><span class="line">    &#125; 	<span class="comment">// else if (插入右子树) 结束</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">/* else X == T-&gt;Data，无须插入 */</span></span><br><span class="line">    <span class="comment">/* 更新树高 */</span></span><br><span class="line">    T-&gt;Height = Max( GetHeight(T-&gt;Left), GetHeight(T-&gt;Right) ) + <span class="number">1</span>;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="习题：Reversing-Linked-List"><a href="#习题：Reversing-Linked-List" class="headerlink" title="习题：Reversing Linked List"></a>习题：Reversing Linked List</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Ptr <span class="title">Reverse</span> <span class="params">(Ptr head, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    cnt = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">new</span> = head-&gt;next;</span><br><span class="line">    old = <span class="keyword">new</span>-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (cnt &lt; k) &#123;</span><br><span class="line">        tmp = old-&gt;next;</span><br><span class="line">        old-&gt;net = <span class="keyword">new</span>;</span><br><span class="line">        <span class="keyword">new</span> = old;</span><br><span class="line">        old = tmp;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    head-&gt;next-&gt;next = old;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="是否同一棵二叉树"><a href="#是否同一棵二叉树" class="headerlink" title="是否同一棵二叉树"></a>是否同一棵二叉树</h3><blockquote>
<p>一棵给定的二叉搜索树可以由多种不同的插入序列得到。</p>
<p>求解思路：</p>
<ol>
<li>搜索树表示</li>
<li>建搜索树T</li>
<li>判别一序列是否与搜索树T一致</li>
</ol>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span>*<span class="title">Tree</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    Tree Left, Right;</span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/************************************/</span></span><br><span class="line"><span class="function">Tree <span class="title">MakeTree</span> <span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    Tree T;</span><br><span class="line">    <span class="keyword">int</span> i, V;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;V);</span><br><span class="line">    T = NewNode(V);</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;L; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;V);</span><br><span class="line">        T = Insert(T, V);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Tree <span class="title">NewNode</span> <span class="params">(<span class="keyword">int</span> V)</span> </span>&#123;</span><br><span class="line">    Tree T = (Tree)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct Tree Node));</span><br><span class="line">    T-&gt;v = V;</span><br><span class="line">    T-&gt;Left = T-&gt;Right = <span class="literal">NULL</span>;</span><br><span class="line">    T-&gt;flag = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Tree <span class="title">Insert</span> <span class="params">(Tree T, <span class="keyword">int</span> V)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!T)	T = NewNode(V);</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(V &gt; T-&gt;v)</span><br><span class="line">            T-&gt;Right = Insert(T-&gt;Right, V);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            T-&gt;Left = Insert(T-&gt;Left, V);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/************************************/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">check</span> <span class="params">(Tree T, <span class="keyword">int</span> V)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;flag) &#123;</span><br><span class="line">        <span class="keyword">if</span>(V &lt; T-&gt;v)	<span class="keyword">return</span> check(T-&gt;Left, V);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(V &gt; T-&gt;v)	<span class="keyword">return</span> check(T-&gt;Right, V);</span><br><span class="line">        <span class="keyword">else</span>	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(V == T-&gt;v)&#123;</span><br><span class="line">            T-&gt;flag = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Judge</span> <span class="params">(Tree T, <span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, V, flag = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;V);</span><br><span class="line">    <span class="keyword">if</span>(V != T-&gt;v)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        T-&gt;flag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;N; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N);</span><br><span class="line">        <span class="keyword">if</span>((!flag) &amp;&amp; (!check(T,V)))</span><br><span class="line">            flag = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span>	<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/************************************/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ResetT</span> <span class="params">(Tree T)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;Left)	ResetT(T-&gt;Left);</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;Right)	ResetT(T-&gt;Right);</span><br><span class="line">    T-&gt;flag = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">FreeTree</span> <span class="params">(Tree T)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;Left)	FreeTree(T-&gt;Left);</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;Right)	FreeTree(T-&gt;Right);</span><br><span class="line">    Free(T);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/************************************/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N, L, i;</span><br><span class="line">    Tree T;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N);</span><br><span class="line">    <span class="keyword">while</span> (N) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;L);</span><br><span class="line">        T = MakeTree(N);</span><br><span class="line">        <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;L; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Judge(T, N))	<span class="built_in">printf</span>(<span class="string">"Yes"</span>);</span><br><span class="line">            <span class="keyword">else</span>	<span class="built_in">printf</span>(<span class="string">"No"</span>);</span><br><span class="line">            ResetT(T);</span><br><span class="line">        &#125;</span><br><span class="line">        FreeTree(T);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="下"><a href="#下" class="headerlink" title="下"></a>下</h2><p><img src="/DS-Tree/image-20200324160229356.png" alt="image-20200324160229356" style="zoom:50%;"></p>
<p><img src="/DS-Tree/image-20200324160336443.png" alt="image-20200324160336443" style="zoom:50%;"></p>
<h3 id="堆的定义与操作"><a href="#堆的定义与操作" class="headerlink" title="堆的定义与操作"></a>堆的定义与操作</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">HNode</span> *<span class="title">Heap</span>;</span>	<span class="comment">/* 堆的类型定义 */</span></span><br><span class="line">strcut HNode &#123;</span><br><span class="line">  ElementType *Data;	<span class="comment">/* 存储元素的数组 */</span></span><br><span class="line">    <span class="keyword">int</span> Size;			<span class="comment">/* 堆中当前元素个数 */</span></span><br><span class="line">    <span class="keyword">int</span> Capacity;		<span class="comment">/* 堆的最大容量 */</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> Heap MaxHeap;	<span class="comment">/* 最大堆 */</span></span><br><span class="line"><span class="keyword">typedef</span> Heap MinHeap; 	<span class="comment">/* 最小堆 */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXDATA 1000  <span class="comment">/* 该值应根据具体情况定义为大于堆中所有可能元素的值 */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ERROR -1 	  <span class="comment">/* 错误标识应根据具体情况定义为堆中不可能出现的元素值 */</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建容量为MaxSize的空的最大堆</span></span><br><span class="line"><span class="function">MaxHeap <span class="title">CreateHeap</span><span class="params">(<span class="keyword">int</span> MaxSize)</span></span>&#123;</span><br><span class="line">    MaxHeap H = (MaxHeap)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct HNode));</span><br><span class="line">    H-&gt;Data = (ElementType *)<span class="built_in">malloc</span>((MaxSize+<span class="number">1</span>)*<span class="keyword">sizeof</span>(ElementType));</span><br><span class="line">    H-&gt;Size = <span class="number">0</span>;</span><br><span class="line">    H-&gt;Capacity = MaxSize;</span><br><span class="line">    H-&gt;Data[<span class="number">0</span>] = MAXDATA;	<span class="comment">/* 定义"哨兵"为大于堆中所有可能元素的值*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsFull</span><span class="params">(MaxHeap H)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (H-&gt;Size == H-&gt;Capacity);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将元素X插入最大堆H，其中H-&gt;Data[0]已经定义为哨兵</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Insert</span><span class="params">(MaxHeap H, ElementType X)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">if</span>(IsFull(H))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"最大堆已满"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    i = ++ H-&gt;Size;		<span class="comment">/* i指向插入后堆中的最后一个元素的位置 */</span></span><br><span class="line">    <span class="keyword">for</span> ( ; H-&gt;Data[i/<span class="number">2</span>] &lt; X; i/=<span class="number">2</span> )</span><br><span class="line">        H-&gt;Data[i] = H-&gt;Data[i/<span class="number">2</span>];		<span class="comment">/* 上滤X */</span></span><br><span class="line">    H-&gt;Data[i] = X;		<span class="comment">/* 将X插入 */</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsEmpty</span><span class="params">(MaxHeap H)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (H-&gt;Size == <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从最大堆H中取出键值为最大的元素，并删除一个结点</span></span><br><span class="line"><span class="function">ElementType <span class="title">DeleteMax</span><span class="params">(MaxHeap H)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Parent,child;</span><br><span class="line">    ElementType MaxItem,X;</span><br><span class="line">    <span class="keyword">if</span>(IsFull(H))&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"最大堆已空"</span>);</span><br><span class="line">        <span class="keyword">return</span> ERROR;</span><br><span class="line">    &#125;</span><br><span class="line">    MaxItem = H-&gt;Data[<span class="number">1</span>];	<span class="comment">/* 取出根结点存放的最大值 */</span></span><br><span class="line">    <span class="comment">/* 用最大堆中最后一个元素从根结点开始向上过滤下层结点 */</span></span><br><span class="line">    X = H-&gt;Data[H-&gt;Size--];	<span class="comment">/* 注意当前堆的规模要减小 */</span></span><br><span class="line">    <span class="keyword">for</span>( Parent=<span class="number">1</span>; Parent*<span class="number">2</span>&lt;=H-&gt;Size; Parent=Child ) &#123;</span><br><span class="line">        Child = Parent * <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>( (Child!=H-&gt;Size) &amp;&amp; (H-&gt;Data[Child]&lt;H-&gt;Data[Child+<span class="number">1</span>]) )</span><br><span class="line">            Child++;	<span class="comment">/* Child指向左右子结点的较大者 */</span></span><br><span class="line">        <span class="keyword">if</span>( X &gt;= H-&gt;Data[Child] ) </span><br><span class="line">            <span class="keyword">break</span>;		<span class="comment">/* 找到了合适位置 */</span></span><br><span class="line">        <span class="keyword">else</span>  <span class="comment">/* 下滤X */</span></span><br><span class="line">            H-&gt;Data[Parent] = H-&gt;Data[Child];</span><br><span class="line">    &#125;</span><br><span class="line">    H-&gt;Data[Parent] = X;</span><br><span class="line">    <span class="keyword">return</span> MaxItem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*----------- 建造最大堆 -----------*/</span></span><br><span class="line"><span class="comment">// 下滤：将H中以H-&gt;Data[p]为根的子堆调整为最大堆</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PercDown</span><span class="params">( MaxHeap H, <span class="keyword">int</span> p )</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> Parent, Child;</span><br><span class="line">    ElementType X;</span><br><span class="line"> </span><br><span class="line">    X = H-&gt;Data[p];	<span class="comment">/* 取出根结点存放的值 */</span></span><br><span class="line">    <span class="keyword">for</span>( Parent=p; Parent*<span class="number">2</span>&lt;=H-&gt;Size; Parent=Child ) &#123;</span><br><span class="line">        Child = Parent * <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>( (Child!=H-&gt;Size) &amp;&amp; (H-&gt;Data[Child]&lt;H-&gt;Data[Child+<span class="number">1</span>]) )</span><br><span class="line">            Child++;	<span class="comment">/* Child指向左右子结点的较大者 */</span></span><br><span class="line">        <span class="keyword">if</span>( X &gt;= H-&gt;Data[Child] ) </span><br><span class="line">            <span class="keyword">break</span>;		<span class="comment">/* 找到了合适位置 */</span></span><br><span class="line">        <span class="keyword">else</span>  <span class="comment">/* 下滤X */</span></span><br><span class="line">            H-&gt;Data[Parent] = H-&gt;Data[Child];</span><br><span class="line">    &#125;</span><br><span class="line">    H-&gt;Data[Parent] = X;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调整H-&gt;Data[]中的元素，使满足最大堆的有序性,这里假设所有H-&gt;Size个元素已经存在H-&gt;Data[]中</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BuildHeap</span><span class="params">( MaxHeap H )</span></span>&#123; </span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>( i = H-&gt;Size/<span class="number">2</span>; i&gt;<span class="number">0</span>; i-- )	<span class="comment">/* 从最后一个结点的父节点开始，到根结点1 */</span></span><br><span class="line">        PercDown( H, i );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="哈夫曼树与哈夫曼编码"><a href="#哈夫曼树与哈夫曼编码" class="headerlink" title="哈夫曼树与哈夫曼编码"></a>哈夫曼树与哈夫曼编码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">TreeNode</span> *<span class="title">HuffmanTree</span>;</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">TreeBode</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> Weight;</span><br><span class="line">    HuffmanTree Left,Right;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">HuffmanTree <span class="title">Huffman</span><span class="params">(MinHeap H)</span></span>&#123;</span><br><span class="line">    <span class="comment">/* 假设 H-&gt;Size 个权值已存在 H-&gt;Elements[]-&gt;Wweight 里 */</span></span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    HuffmanTree T;</span><br><span class="line">    BuildMinHeap(H);	<span class="comment">/* 将 H-&gt;Elements[] 按权值调整为最小堆 */</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>; i &lt; H-&gt;Size; i++)&#123;		<span class="comment">/* 做 H-&gt;Size-1 次合并 */</span></span><br><span class="line">        T = <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(struct TreeNode));</span><br><span class="line">        T-&gt;Left = DeleteMin(H);</span><br><span class="line">        T-&gt;Right = DeleteMin(H);</span><br><span class="line">        T-&gt;Weight = T-&gt;Left-&gt;Weight + T-&gt;Right-&gt;Weight;</span><br><span class="line">        Insert(H, T);</span><br><span class="line">    &#125;</span><br><span class="line">    T = DeleteMin(H);</span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/DS-Tree/image-20200201124453289.png" alt="image-20200201124453289" style="zoom: 50%;"></p>
<h3 id="集合的定义与并查操作"><a href="#集合的定义与并查操作" class="headerlink" title="集合的定义与并查操作"></a>集合的定义与并查操作</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 1000                  <span class="comment">/* 集合最大元素个数 */</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElementType;           <span class="comment">/* 默认元素可以用非负整数表示 */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> SetName;               <span class="comment">/* 默认用根结点的下标作为集合名称 */</span></span><br><span class="line"><span class="keyword">typedef</span> ElementType SetType[MAXN]; <span class="comment">/* 假设集合元素下标从0开始 */</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Union</span><span class="params">( SetType S, SetName Root1, SetName Root2 )</span></span>&#123; </span><br><span class="line">    <span class="comment">/* 这里默认Root1和Root2是不同集合的根结点 */</span></span><br><span class="line">    <span class="comment">/* 保证小集合并入大集合 */</span></span><br><span class="line">    <span class="keyword">if</span> ( S[Root2] &lt; S[Root1] )&#123;	  <span class="comment">/* 如果集合2比较大 */</span></span><br><span class="line">        S[Root2] += S[Root1];     <span class="comment">/* 集合1并入集合2  */</span></span><br><span class="line">        S[Root1] = Root2;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;                      <span class="comment">/* 如果集合1比较大 */</span></span><br><span class="line">        S[Root1] += S[Root2];     <span class="comment">/* 集合2并入集合1  */</span></span><br><span class="line">        S[Root2] = Root1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function">SetName <span class="title">Find</span><span class="params">( SetType S, ElementType X )</span></span>&#123; </span><br><span class="line">    <span class="comment">/* 默认集合元素全部初始化为-1 */</span></span><br><span class="line">    <span class="keyword">if</span> ( S[X] &lt; <span class="number">0</span> ) <span class="comment">/* 找到集合的根 */</span></span><br><span class="line">        <span class="keyword">return</span> X;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> S[X] = Find( S, S[X] ); <span class="comment">/* 路径压缩 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/DS-Tree/image-20200201144340688.png" alt="image-20200201144340688" style="zoom: 80%;"></p>
<h3 id="堆中的路径"><a href="#堆中的路径" class="headerlink" title="堆中的路径"></a>堆中的路径</h3><p><img src="/DS-Tree/image-20200324160709195.png" alt="image-20200324160709195" style="zoom:50%;"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 1000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MINH -10001</span></span><br><span class="line"><span class="keyword">int</span> H[MAXN], <span class="built_in">size</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Create</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">size</span> = <span class="number">0</span>;</span><br><span class="line">    H[<span class="number">0</span>] = MINH; <span class="comment">//岗哨</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span> <span class="params">(<span class="keyword">int</span> X)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//将X插入H。省略了检查堆满的操作</span></span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=++<span class="built_in">size</span>; H[i/<span class="number">2</span>]&gt;X; i/=<span class="number">2</span>)</span><br><span class="line">        H[i] = H[i/<span class="number">2</span>];</span><br><span class="line">    H[i] = X;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, m, x, i, j;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m);</span><br><span class="line">    Create();</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">        Insert(x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;m; i++)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;j);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span>, H[j]);</span><br><span class="line">        <span class="keyword">while</span>(j&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            j /= <span class="number">2</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d"</span>, H[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="File-Transfer"><a href="#File-Transfer" class="headerlink" title="File Transfer"></a>File Transfer</h3><p><strong>按秩归并</strong>：</p>
<p><code>S[Root] = -树高;</code></p>
<p>或者比规模：<code>S[Root] = -元素个数</code></p>
<p>最坏情况的树高：<code>O(logN)</code></p>
<p><strong>路径压缩</strong>：</p>
<p>先找到根，再把根变成X的父节点，再返回根。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> ElementType;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> SetName;</span><br><span class="line"><span class="keyword">typedef</span> ElementType SetType[MaxSize];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Input_Connection</span> <span class="params">(SetType S)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Check_Connection</span> <span class="params">(SetType S)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Check_network</span> <span class="params">(SetType S, <span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">SetName <span class="title">Find</span><span class="params">(SetType S, ElementType X)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (S[X] &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> X;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> S[X] = Find(S, S[X]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Union</span><span class="params">(SetType S, SetName Root1, SetName Root2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (S[Root2] &lt; S[Root1])</span><br><span class="line">        S[Root1] = Root2;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (S[Root1] == S[Root2])</span><br><span class="line">            S[Root1]--;</span><br><span class="line">        S[Root2] = Root1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    SetType S;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">char</span> in;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d\n"</span>, &amp;n);</span><br><span class="line">    Initialization(S, n);</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;in);</span><br><span class="line">        <span class="keyword">switch</span>(in) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'I'</span>: Input_Connection(S); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'C'</span>: Check_Connection(S); <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'S'</span>: Check_network(S, n); <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> (in != <span class="string">'S'</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Input_Connection</span> <span class="params">(SetType S)</span> </span>&#123;</span><br><span class="line">    ElementType u, v;</span><br><span class="line">    SetName Root1, Root2;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d\n"</span>, &amp;u,&amp;v);</span><br><span class="line">    Root1 = Find(S, u<span class="number">-1</span>);</span><br><span class="line">    Root2 = Find(S, v<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">if</span> (Root1 != Root2) &#123;</span><br><span class="line">        Union(S, Root1, Root2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Check_Connection</span> <span class="params">(SetType S)</span> </span>&#123;</span><br><span class="line">    ElementType u, v;</span><br><span class="line">    SetName Root1, Root2;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d\n"</span>, &amp;u,&amp;v);</span><br><span class="line">    Root1 = Find(S, u<span class="number">-1</span>);</span><br><span class="line">    Root2 = Find(S, v<span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">if</span> (Root1 == Root2)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"yes\n"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"no\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Check_network</span> <span class="params">(SetType S, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (S[i] &lt; <span class="number">0</span>)	counter++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (counter == <span class="number">1</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"The network is connected\n"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"There are %d components.\n"</span>, counter);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">PPPzzY</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  















  








  

  

</body>
</html>
